{"version":3,"sources":["components/Theme/index.js","components/HotkeyStorage/default-hotkeys.js","components/HotkeyStorage/index.js","components/AppConfig/index.js","utils/auth-handlers/cognito-handler.js","utils/auth-handlers/use-auth.js","components/LoginDrawer/SignIn.js","components/LoginDrawer/CompleteSignUp.js","components/LoginDrawer/index.js","components/Header/HeaderWithContainer.js","hooks/use-electron.js","hooks/use-posthog/index.js","components/HeaderPopupBox/index.js","hooks/use-active-dataset-manager/index.js","components/CollaborateButton/index.js","components/InfoButton/EditableTitleText.js","hooks/use-dataset-property/index.js","components/InfoButton/index.js","components/Header/GithubIcon.js","utils/get-brush-color-palette.js","components/BrushButton/index.js","components/HeaderToolbar/SlackIcon.js","components/DownloadButton/index.js","components/HeaderToolbar/index.js","components/StartingPage/templates.js","components/HeaderDrawer/index.js","components/Header/index.js","hooks/use-open-template/index.js","components/SimpleDialog/index.js","components/CreateFromTemplateDialog/index.js","components/AddAuthFromTemplateDialog/cognito-icon.js","components/AddAuthFromTemplateDialog/authTemplates.js","components/ErrorToasts/index.js","hooks/use-errors.js","components/AddAuthFromTemplateDialog/index.js","components/StartingPage/get-embed-youtube-url.js","hooks/use-is-desktop/index.js","components/StartingPage/index.js","components/SampleGrid/index.js","components/PasteUrlsDialog/get-sample-from-url.js","components/PasteUrlsDialog/index.js","components/ExportToCognitoS3Dialog/index.js","hooks/use-dataset/index.js","components/ImportFromCognitoS3Dialog/check-interface-and-sample-type.js","utils/get-data-url-type.js","components/ImportFromCognitoS3Dialog/set-url.js","components/ImportFromCognitoS3Dialog/table-expanded-row.js","components/ImportFromCognitoS3Dialog/interface-setting-import.js","components/ImportFromCognitoS3Dialog/header-table-import.js","components/ImportFromCognitoS3Dialog/config-import-is-ready.js","components/ImportFromCognitoS3Dialog/warning-header.js","components/ImportFromCognitoS3Dialog/get-sources.js","components/ImportFromCognitoS3Dialog/index.js","utils/dataset-helper/get-files-differences.js","components/ImportFromCognitoS3Dialog/set-type-of-file-to-load-and-disable.js","components/ImportFromCognitoS3Dialog/init-config-import.js","components/ImportPage/S3Icon.js","components/S3PathSelector/index.js","utils/auth-handlers/use-iam-s3-api.js","utils/from-udt-csv.js","components/ImportFromS3Dialog/index.js","components/MultiFileDrop/index.js","components/UploadToS3Dialog/index.js","components/TextAreaWithUpload/index.js","components/ImportTextSnippetsDialog/index.js","components/ImportFromGoogleDriveDialog/index.js","components/ImportUDTFileDialog/index.js","components/ImportToyDatasetDialog/index.js","components/ImportFromYoutubeUrls/download-youtube-video.js","components/ProgressBar/index.js","components/ImportFromYoutubeUrls/progress.js","components/ImportFromYoutubeUrls/get-youtube-video-information.js","components/ImportFromYoutubeUrls/split-urls-from-text-area.js","components/ImportFromYoutubeUrls/index.js","components/ImportFromCOCODialog/index.js","components/ImportPage/prompt-and-get-samples-from-local-directory.js","hooks/use-interface/index.js","components/ImportPage/index.js","hooks/use-add-samples/index.js","components/TransformVideoKeyframesDialog/index.js","components/DownloadURLsDialog/index.js","components/TransformVideoFramesToImagesDialog/index.js","components/TransformLocalFilesToWebURLs/functions/upload-file-to-transfersh.js","components/TransformLocalFilesToWebURLs/functions/split-file-name-from-file-url.js","components/TransformLocalFilesToWebURLs/functions/get-file-url-key.js","components/TransformLocalFilesToWebURLs/functions/transform-file-urls-to-web-urls.js","components/TransformLocalFilesToWebURLs/index.js","components/TransformImageSamplesIntoSegmentsDialog/index.js","components/TransformSegmentsIntoImageSamplesDialog/index.js","components/TransformRemoveInvalidSamplesDialog/index.js","components/Toasts/index.js","components/PluginProvider/index.js","components/PluginDialog/index.js","components/TransformPage/Button.js","components/TransformPage/index.js","hooks/use-summary/index.js","hooks/use-sample/index.js","hooks/use-remove-samples/index.js","components/SamplesTable/index.js","components/SamplesView/index.js","components/ConfigureImageSegmentation/index.js","components/ConfigureImagePixelSegmentation/index.js","components/ConfigureImageClassification/index.js","components/ConfigureTextClassification/index.js","components/ConfigureAudioTranscription/index.js","components/ConfigureTextEntityRecognition/index.js","components/ConfigureTextEntityRelations/index.js","components/ConfigureDataEntry/index.js","components/ConfigureComposite/index.js","components/Configure3D/index.js","components/ConfigureVideoSegmentation/index.js","components/ConfigureImageLandmarkAnnotation/index.js","components/ConfigureTimeSeries/index.js","components/ConfigureInterface/index.js","components/KeyboardShortcutManagerDialog/index.js","components/AdvancedOptionsView/index.js","components/BigInterfaceSelect/index.js","i18n/index.js","components/TextClassification/index.js","components/TextEntityRecognition/convert-react-nlp-annotate-types.js","components/TextEntityRecognition/index.js","components/TextEntityRelations/index.js","utils/ria-format.js","components/ImageSegmentation/index.js","components/WorkspaceContainer/index.js","components/ImageClassification/index.js","components/VideoSegmentation/index.js","components/AudioTranscription/index.js","components/ImageLandmarkAnnotation/index.js","components/TimeSeries/index.js","utils/get-task-description.js","components/SampleContainer/LinkButton.js","components/SampleContainer/index.js","components/DataEntry/index.js","components/BadDataset/index.js","components/EmptySampleContainer/index.js","components/InterfaceIcon/index.js","components/Composite/index.js","components/UniversalSampleEditor/index.js","components/RawJSONEditor/index.js","components/DatasetJSONEditor/index.js","components/SetupPage/Protip.js","components/SetupPage/index.js","utils/sentry.js","components/LabelErrorBoundary/index.js","components/Stats/index.js","components/LabelHelpView/api-key-entry.js","components/PaperContainer/index.js","hooks/use-is-label-only-mode.js","components/LabelHelpView/LabelHelpProvider.js","utils/compute-dataset-variable.js","components/LabelHelpView/use-label-help.js","components/LabelHelpView/label-help-setup.js","hooks/use-app-config.js","components/LabelHelpView/label-help-running.js","components/LabelHelpView/label-help-completed.js","components/LabelHelpView/label-help-dialog-content.js","components/LabelHelpView/index.js","components/ActiveLearningView/index.js","components/LabelView/index.js","components/DatasetEditor/index.js","hooks/use-time-to-complete-sample.js","components/AppErrorBoundary/index.js","hooks/use-prevent-navigation.js","components/FileContext/index.js","components/ManagePluginsDialog/index.js","utils/to-udt-csv.js","hooks/use-open-file/index.js","hooks/use-toasts/index.js","components/App/index.js","hooks/use-enter-collaborative-session/index.js","hooks/use-desktop-menu-functions/index.js","components/Loading/index.js","AppWithContexts.js","index.js"],"names":["theme","createMuiTheme","palette","primary","colors","secondary","typography","fontFamily","button","textTransform","children","ThemeProvider","defaultHotkeys","id","description","binding","HotkeyContext","createContext","hotkeys","changeHotkey","newBinding","useHotkeyStorage","useContext","HotkeyStorageProvider","useAppConfig","fromConfig","setInConfig","clearInConfig","useMemo","map","item","keyMap","contextValue","clearHotkeys","key","Provider","value","configKeyNames","defaultAppConfig","window","preloaded_app_config","jsonParseOrEmpty","s","JSON","parse","e","initialAppConfig","localStorage","app_config","qs","location","search","substr","AppConfigContext","appConfig","setAppConfig","newConfig","keys","AppConfigProvider","useLocalStorage","includes","Error","undefined","stringify","CognitoHandler","authProvider","checkIfLoggedIn","a","Amplify","configure","authConfig","Auth","currentAuthenticatedUser","catch","userHandle","user","isLoggedIn","hasChanged","setUser","challengeName","isChallenged","Boolean","error","login","username","password","signIn","then","err","handleCognitoError","logout","signOut","completeSignUp","requiredAttributesDict","completeNewPassword","getState","code","console","log","errorOccured","passwordValidator","validations","isValid","validationsMessages","requireLowercase","RegExp","test","push","message","requireUppercase","requireNumbers","requireSymbols","minimumLength","length","parseInt","this","identityPoolId","region","userPoolId","userPoolWebClientId","mandatorySignIn","authenticationFlowType","Storage","AWSS3","bucket","AuthContext","AuthProvider","useState","handler","setHandler","useReducer","state","handlerVersion","incHandlerVersion","handlerErrorVersion","incHandlerErrorVersion","useEffect","interval","setInterval","clearInterval","useAuth","ErrorText","styled","padding","color","useStyles","makeStyles","form","width","marginTop","spacing","submit","margin","onRequireCompleteSignUp","classes","errorMessage","setErrorMessage","t","useTranslation","notAuthorizedException","setState","prevState","handleTextFieldChange","event","persist","target","name","toString","Typography","component","variant","className","noValidate","TextField","required","fullWidth","label","autoComplete","helperText","autoFocus","onChange","type","FormControlLabel","control","Checkbox","onClick","isEmpty","SignInAWS","requiredAttributesErrorDict","challengeParam","requiredAttributes","forEach","requiredAttribute","newPassword","newPasswordNotValid","newPasswordConfirmation","newPasswordNotEqualsConfirmation","passwordValidation","setPasswordValidation","newPasswordError","capitalizeFirstLetter","string","charAt","toUpperCase","slice","_handleAttributesTextFieldChange","_handleTextFieldChange","checkIfPasswordEqualsConfirmationPassword","_handleCantBeNull","allGood","style","onBlur","drawer","root","height","paper","display","flexDirection","alignItems","close","cursor","main","avatar","backgroundColor","loginDrawerOpen","onClose","signingIn","toggleSignIn","Drawer","anchor","open","role","Grid","container","xs","sm","md","Paper","elevation","square","Avatar","SignIn","CompleteSignUp","Container","overflowX","Body","Content","flexGrow","HeaderWithContainer","props","require","posthogMock","opt_in_capturing","opt_out_capturing","init","reset","capture","capture_forms","capture_pageview","register","register_once","unregister","identify","alias","set_config","get_config","get_property","get_distinct_id","has_opted_out_capturing","has_opted_in_capturing","disable_all_events","people","set","set_once","posthogInitialized","isDesktop","useElectron","Cypress","posthog","api_host","autocapture","domain","origin","is_desktop","borderColor","popupBoxBeforeAndAfter","right","top","border","content","position","pointerEvents","PopupBox","zIndex","boxSizing","borderRadius","left","minHeight","boxShadow","borderRightColor","borderWidth","fontSize","opacity","transition","transform","activeDatasetManagerState","atom","default","dangerouslyAllowMutability","useRecoilState","dm","setRecoilDatasetManager","setDatasetManager","useCallback","newDM","disconnect","emit","CreateNewButton","Button","justifyContent","marginRight","ExitButton","shareUrl","fileOpen","inSession","onJoinSession","onCreateSession","onLeaveSession","sessionBoxOpen","changeSessionBoxOpen","loadingSession","changeLoadingSession","sessionUrl","changeSessionUrl","userName","changeUserName","usePosthog","useActiveDatasetManager","sessionId","setTimeout","title","onMouseEnter","onMouseLeave","IconButton","HeaderPopupBox","readOnly","InputProps","endAdornment","InputAdornment","disabled","CircularProgress","size","textField","marginLeft","c","newValue","setNewValue","inputProps","onKeyDown","preventDefault","stopPropagation","blur","onKeyPress","datasetPropertyKey","propVal","setPropVal","propVersion","incPropVersion","on","getDatasetProperty","newPropVal","updateFunctionKeyName","setDatasetProperty","IconButtonStyle","grey","InfoButton","shareURL","setSessionBoxOpen","useDatasetProperty","updateName","EditableTitleText","newName","GitHub","SvgIcon","d","fade","cmap","amt","newCmap","i","fadedGrey","isFaded","availableColors","colorMap","complete","incomplete","faded","review","ellipsis1","ellipsis2","ellipsis3","brush","seed","BrushCircle","OtherColorContainers","paddingTop","flexWrap","StyledIconButton","iconcolor","selected","StyledButton","marginBottom","paddingBottom","selectedBrush","onChangeSelectedBrush","changeOpen","handleClick","useEventCallback","memoize","getBrushColorPalette","SlackIcon","viewBox","textAlign","fontWeight","interfaceType","onDownload","href","fakeContainer","flexShrink","belowTabButtons","headerButton","grow","list","tabContainer","paddingLeft","tab","blue","fullHeightTab","mixins","toolbar","minWidth","tabWrapper","getIcon","tooltip","memo","tabs","currentTab","onChangeTab","additionalButtons","onOpenDrawer","onClickHome","isSmall","changeLoginDrawerOpen","onClickManagePlugins","collaborateError","isWelcomePage","classnames","Tabs","orientation","newTab","toLowerCase","Tab","wrapper","icon","Tooltip","placement","CollaborateButton","DownloadButton","BrushButton","GithubIcon","templates","Icon","CropFree","dataset","interface","samples","ImageSearch","labels","regionTypesAllowed","imageUrl","Image","OndemandVideoIcon","videoUrl","Edit","surveyjs","questions","pdfUrl","TextFormat","overlapAllowed","displayName","document","entityLabels","relationLabels","ContactSupport","Audiotrack","audioUrl","Category","fields","fieldName","AccessibilityNewIcon","keypointDefinitions","human","landmarks","nose","defaultPosition","leftEye","leftEar","rightEye","rightEar","sternum","leftShoulder","rightShoulder","leftElbow","rightElbow","leftHand","rightHand","leftThigh","rightThigh","leftKnee","rightKnee","leftFoot","rightFoot","connections","TimelineIcon","timeFormat","enabledTools","durationLabels","annotation","durations","start","end","ThreeDRotation","templateMap","reduce","acc","recentItems","changeRecentItems","onCloseDrawer","drawerOpen","onOpenFile","onOpenRecentItem","onClickTemplate","onDrop","acceptedFiles","useDropzone","getRootProps","getInputProps","List","ListItem","ListItemIcon","ListItemText","ListSubheader","ri","index","fileName","filter","oneRecentFile","template","HeaderContext","onUserChange","logoutUser","emptyArray","Header","changeDrawerOpen","headerContext","openTemplate","setActiveDatasetManager","LocalStorageDatasetManager","setDataset","useOpenTemplate","useMediaQuery","getDataset","previousUDTJSON","CollaborativeDatasetManager","serverUrl","history","replaceState","encodeURIComponent","goIntoCollaborativeSession","loadSession","URL","searchParams","get","ds","HeaderDrawer","LoginDrawer","StyledDialogTitle","DialogTitle","borderBottom","StyledDialogContent","DialogContent","StyledDialogActions","DialogActions","borderTop","markdownContent","redOn","red","noActionBar","actions","fullScreen","changeFullScreen","Dialog","Box","maxWidth","lineHeight","source","action","text","bigButton","bigIcon","onSelect","SimpleDialog","CognitoIcon","data-name","fill","x","y","provider","SdStorageOutlinedIcon","AccountTreeIcon","bottom","errorBox","errors","Collapse","in","life","Fade","changeErrors","concat","Math","random","split","cognitoIcon","howToSetupText","textDecoration","forms","cognito","placeholder","isRequired","validators","maxValue","minValue","s3iam","proxy","onFinish","onAuthConfigured","setAuthProvider","dialogTitle","setDialogTitle","useErrors","addError","validateAuthProvider","answers","config","authTemplates","onQuestionChange","questionId","completeText","defaultAnswers","questionIds","q","defaults","configValue","getDefaultsFromConfig","ErrorToasts","url","match","downloadIcon","languageSelectionWrapper","languageSelectionBox","breakpoints","up","ContentContainer","overflowY","down","Title","languageSelectionFormStyle","input","base","background","menuList","singleValue","Subtitle","ActionList","Action","ActionTitle","ActionText","Actionless","BottomSpacer","languageOptions","onFileDrop","onOpenTemplate","showDownloadLink","onClickOpenSession","i18n","useIsDesktop","newVersionAvailable","changeNewVersionAvailable","fetch","r","json","newPackage","version","packageInfo","checkNewVersion","latestCommunityUpdate","setLatestCommunityUpdate","readme","startCU","endCU","communityUpdates","line","trim","latestYtLink","ytLink","embedYTLink","getEmbedYoutubeUrl","getLatestREADME","createFromTemplateDialogOpen","changeCreateFromTemplateDialogOpen","addAuthFromDialogOpen","changeAddAuthFromDialogOpen","packageJSON","styles","defaultValue","lang","language","options","changeLanguage","clicked_template","find","src","frameBorder","allow","allowFullScreen","CreateFromTemplateDialog","AddAuthFromTemplateDialog","EmptyState","SampleDiv","fontVariantNumeric","userSelect","Sample","completed","onMouseDown","onMouseUp","classNames","p","n","tablePaginationPadding","samplesPerPage","changeSamplesPerPage","sampleOffset","changeSampleOffset","min","max","selectRange","changeSelectRange","startSelectRange","moveSelectRange","endSelectRange","checkAndNullifySelectRange","buttons","onClickMemo","range","hasAnnotation","paddingRight","TablePagination","rowsPerPageOptions","count","rowsPerPage","page","floor","labelRowsPerPage","onChangePage","newPage","onChangeRowsPerPage","opts","extension","replace","returnNulls","SelectContainer","TextArea","autoDetectOptions","onAddSamples","changeContent","urlType","changeURLType","setError","l","getSampleFromUrl","opt","v","orangeText","customStyles","headCells","cells","setDm","projects","setProjects","activeDatasetManager","nameProjectToCreate","setNameProjectToCreate","nameProjectExist","setNameProjectExist","currentDataset","setCurrentDataset","columns","selector","sortable","expandedAnnotationsColumns","ExpandedRow","rowAnnotations","data","dense","striped","noHeader","noDataComponent","pagination","paginationPerPage","paginationRowsPerPageOptions","refreshInterface","setRefreshInterface","getCurrentDataset","getProjects","isReady","Array","dataFolder","from","Promise","all","obj","folder","getListSamples","projectName","rowAnnotationsContent","rowAnnotationsUrl","isSelected","datasetManagerCognito","getProjectName","exist","handleCreateProject","setIn","removeSamplesFolder","justify","expandableRows","expandableRowsComponent","noTableHead","selectableRowSelected","row","loadDataset","off","typeAuthorize","file","assets","result","UrlOfAFile","typeOfFile","fileExtension","mime","lookup","setUrl","configImport","loadProjectIsSelected","RecognizeFileExtension","typeOfFileToLoad","loadAssetIsSelected","rowAssets","expandedAssetsColumns","setConfigImport","loadAssetsIsSelected","FormControl","FormLabel","RadioGroup","aria-label","Radio","typeOfFileToDisable","checked","Video","Audio","PDF","Text","annotationToKeep","selectedStyle","loadAssetsOrAnnotations","contentDialogBoxIsSetting","ConfigImportIsReady","projectToFetch","WarningHeader","getSources","annotations","self","indexOf","useDataset","oldData","setProjectToFetch","lastObjectRef","useRef","hasProjectStarted","configToSet","current","changes","objectOfRef","objectToCheck","resultSet","mode","any","datasetHasChanged","checkInterfaceAndAssets","setTypeOfFileToLoadAndDisable","importConfigIsReady","projectStarted","getListAssets","rowAssetsContent","rowAssetsUrl","setProject","checkInterfaceAndsamples","createJsonFromAsset","createJsonFromUrlAWS","jsons","imageName","getAssetUrl","createJsonFromAnnotation","readJSONAllSamples","_id","handleAddSample","selectableRows","selectableRowsHighlight","selectableRowsNoSelectAll","selectableRowsComponent","onSelectedRowsChange","whatsChanging","selectedRows","Items","Path","Item","S3BucketSelector","currentPath","canCreateNew","onChangePath","showFiles","newPath","join","option","newDirectory","prompt","parseS3URI","s3Path","path","accessKeyId","secretAccessKey","corsProxy","awsClient","AwsClient","service","fetchS3","sign","request","corsProxyRequest","Request","headers","method","body","response","xmlParser","listBuckets","listBucketItemsAt","Host","putBucketItem","res","Code","Message","ImportFromS3Dialog","useIAMS3API","setS3Path","optionsLoading","setOptions","listedBuckets","ListAllMyBucketsResult","Buckets","Bucket","b","Name","itemsAtPathRes","ListBucketResult","CommonPrefixes","Prefix","loadS3Path","files","items","Contents","Key","endsWith","S3PathSelector","newS3Path","FileCounter","MultiFileDrop","loadFile","onComplete","totalUploaded","setTotalUploaded","setErrors","filesSelected","totalFiles","setUploadStartState","entries","isDragActive","maxHeight","SelectedPath","UploadToS3Dialog","setComplete","uploadedPaths","activeStep","setActiveStep","Stepper","Step","StepLabel","filePath","UploadHover","emptyFunc","onChangeContent","reader","FileReader","onload","fileContent","readAsText","lastClickTime","changeLastClickTime","Date","now","ImportTextSnippetsDialog","TextAreaWithUpload","ExplainText","GoogleDriveScreenshot","credentials","web","client_id","process","app_id","developer_key","googleScriptLoaded","setGoogleScriptLoaded","pickerApiLoaded","setPickerApiLoaded","oauthToken","setOAuthToken","userSelectedItemsFromDrive","setUserSelectedItemsFromDrive","isPickerOpen","setIsPickerOpen","scriptElement","createElement","async","appendChild","remove","googlePickerActionCallback","google","picker","PICKED","docs","googleDriveDocument","mimeType","createPicker","view","DocsView","ViewId","Docs","FOLDERS","setIncludeFolders","setSelectFolderEnabled","PickerBuilder","enableFeature","Feature","NAV_HIDDEN","MINE_ONLY","MULTISELECT_ENABLED","setAppId","addView","DOCS","setDeveloperKey","setCallback","build","setVisible","handleAuthenticationResponse","authenticationResponse","access_token","onAuthApiLoad","gapi","auth","authorize","scope","immediate","onPickerApiLoad","onLoadPicker","load","callback","badSpellingMap","Object","correct","badSpellings","badSpelling","convertTaskDatumMistakes","sample","normalizedKey","correction","csv","JAC","fromCSV","derivePath","taskOutput","output","InfoText","whiteSpace","ImportUDTFileDialog","changeError","setContent","e1","udt","fromUDTCSV","e2","jsonError","stack","csvError","datasets","getSamples","datasetName","datasetUrl","taskData","ImportToyDatasetDialog","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","data-import-toy-dataset-name","idify","youtubeUrl","videoTitle","remote","videoQuality","downloadPath","onProgress","onChangeOverallProgress","ytdl","videoName","fullVideoPath","writableVideoFile","createWriteStream","youtubeVideoWithOptions","format","quality","pipe","chunkLength","downloaded","total","percent","progress","cancel","destroy","Bar","ProgressContainer","TotalPercentageWrapper","Progress","unitProgress","overallProgress","completedVideoTitles","ProgressBar","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","getYoutubeVideoInformation","splittedURLsArray","progressCallback","checkedVideos","resolve","reject","getBasicInfo","info","errorText","video","splitURLsFromTextArea","stringURLs","urlsHasHTTPS","splittedURLsByNewLines","SelectVideoQualityHeader","SelectVideoQuality","LoadingText","CompletedVideoTitle","qualityOptions","ImportFromYoutubeUrls","urlsFromTextArea","setUrlsFromTextArea","setVideoQuality","setUnitProgress","setOverallProgress","isDownloading","setIsDownloading","setCompletedVideoTitles","cancelRef","setDefaultState","closeDialog","dialog","showOpenDialog","buttonLabel","properties","canceled","filePaths","youtubeVideoInfos","completedVideoPaths","completedVideoTitlesArray","youtubeVideosCount","youtubeVideoInfo","downloadYoutubeVideo","currentProgress","progressText","videoPath","isArray","Fragment","TermsOfUse","ImportFromCOCODialog","onChangeDataset","labelsSelected","setLabelsSelected","exclusive","setExclusive","shouldReplaceInterface","setShouldReplaceInterface","importedDataset","setImportedDataset","loadSamples","isMulti","FormGroup","convertToSamplesObject","fp","ext","electron","dirPaths","dirPath","fs","promises","readdir","fn","promptAndGetSamplesLocalDirectory","ret","iface","ButtonBase","MuiButton","DesktopOnlyText","SelectDialogContext","desktopOnly","authConfiguredOnly","signedInOnly","disabledReason","onlySupportType","disabledText","Consumer","onChangeDialog","import_button","selectedDialog","changeDialog","useInterface","updateUsedToyDataset","addSamples","useAddSamples","promptAndGetSamplesFromLocalDirectory","localSamples","samplesToAdd","onAddSamplesAsToyDataset","AssignmentReturnedIcon","CreateNewFolderIcon","TextFieldsIcon","PetsIcon","FaYoutube","S3Icon","FaGoogleDrive","DescriptionIcon","PhotoLibraryIcon","PasteUrlsDialog","ExportToCognitoS3Dialog","ImportFromCognitoS3Dialog","ImportFromGoogleDriveDialog","StyledExpansionPanel","StyledExpansionPanelSummary","flatMap","videoFrameAt","keyframes","kf","regions","immutable","ErrorBox","downloadFile","urlToDownload","directoryPath","md5","existsSync","directory","filename","changeProgress","cancelled","newSamples","td","urlKey","startsWith","pathToFile","getFfmpegTimeCode","ms","cs","ss","mn","padStart","pathToFfmpeg","shell","exec","newsamples","transformsPerformed","imageOutputPath","ffmpegCommand","timeout","without","uploadFileToTransferSh","fileURL","remoteURL","axios","exactFilePath","fsFileBuffer","readFileSync","put","status","uploadedFileURL","splitFileNameFromFileURL","splittedFullFileName","getFileURLKey","transformFileURLsToWebURLs","setProgress","progressUnit","samplesIndex","samplesItem","fileURLKey","warn","webURLOfUploadedFile","TransformLocalFilesToWebURLs","rows","setRows","setColumns","nRows","nCols","imageUrls","Set","pieces","isUrlValid","image","onerror","filteredSamples","setFilteredSamples","samplesRemoved","samplesProcessed","setProcessState","requestUrl","msgBox","notificationPaper","borderLeft","ToastContext","useToasts","addToast","ToastProvider","fullLife","messageType","msg","toasts","changeToasts","Notification","SuccessIcon","WarningIcon","ErrorIcon","InfoIcon","pluginsState","renderDialog","ref","setRef","setActions","elm","onSuccess","addAction","removeAction","setInDataset","val","newRef","Icon1","Icon2","transform_button","openPlugin","setOpenPlugin","plugins","useRecoilValue","datasetManager","CollectionsIcon","ComputerIcon","LanguageIcon","GetAppIcon","ImageIcon","CheckBoxOutlineBlankIcon","GridOnIcon","HighlightOffIcon","plugin","PeopleAltIcon","PluginDialog","TransformRemoveInvalidSamplesDialog","TransformVideoKeyframesDialog","DownloadURLsDialog","TransformVideoFramesToImagesDialog","TransformImageSamplesIntoSegmentsDialog","TransformSegmentsIntoImageSamplesDialog","summaryLoading","summary","retVal","setRetVal","loadSummary","getSummary","sampleIndexOrId","currentSampleId","currentSampleIndex","setCurrentSample","sampleIndex","findIndex","sampleId","getSample","sampleLoading","loadSample","updateSample","newSample","setSample","removeSamples","ExpandedRowContainer","borderTopLeftRadius","borderTopRightRadius","ExpandedRowTitle","ExpandedRowCode","useSample","SamplesTable","onClickSample","useSummary","useRemoveSamples","knownKeys","has","cell","add","raised","SampleCounter","SamplesView","openSampleInputEditor","openSampleLabelEditor","changeTabState","changeTab","lastSampleTab","ImportPage","onImportPageShouldExit","TransformPage","SampleGrid","choices","cellType","asMutable","multipleRegions","multipleRegionLabels","deep","noActions","maxClusterPresets","low","medium","high","maxClusterPresetsRev","curr","visibleIf","step","autosegMode","autoSegmentationEngine","autosegPreset","maxClusters","autosegMaxClusters","multiple","arrayId","question","hasOther","column","ButtonsContainer","NoQuestions","Question","PreviewHeader","anchorEl","menuOpen","changeMenuOpen","multiline","Menu","MenuItem","Fields","f","fieldIndex","isNested","newFieldInterface","field","fieldOrder","ExplanationTextHeader","ExplanationText","GithubLink","Configure3D","rel","timestampLabels","graphs","graphRow","NoOptions","ConfigureInterface","onClickEditJSON","ConfigureImageSegmentation","ConfigureImagePixelSegmentation","ConfigureImageClassification","ConfigureComposite","ConfigureDataEntry","ConfigureAudioTranscription","ConfigureTextEntityRecognition","ConfigureTextEntityRelations","ConfigureTextClassification","ConfigureVideoSegmentation","ConfigureImageLandmarkAnnotation","ConfigureTimeSeries","table","hotkeyIconStyle","onChangeHotkey","hotkeyList","onClearHotkeys","selectedHotKey","setSelectedHotKey","modifier","setCurrentKeyCombo","addEventListener","keyListener","removeEventListener","align","hotkey","AdvancedOptionsView","onClearLabelData","forceUpdate","useUpdate","hotkeyDialogOpen","setHotkeyDialogOpen","confirm","KeyboardShortcutManagerDialog","BigButton","BigInterfaceSelect","currentInterfaceType","use","LanguageDetector","initReactI18next","fallbackLng","debug","interpolation","escapeValue","resources","fr","translation","frTranslation","en","enTranslation","cn","cnTranslation","pt","ptBrTranslation","nl","nlTranslation","TextClassification","onExit","onModifySample","disableHotkeys","initialLabels","multipleLabels","separatorRegex","wordSplitRegex","hotkeysEnabled","onPrev","onNext","simpleSequenceToEntitySequence","simpleSeq","entSeq","charsPassed","seq","simpleSequenceAndRelationsToEntitySequence","sequence","relationships","textIdsInRelation","to","textId","entities","relations","entitySequenceToSimpleSeq","doc","sort","nextEntity","TextEntityRecognition","initialSequence","titleContent","TextEntityRelations","initialRelations","relationshipLabels","initialRelationships","getRandomColor","h","rid","convertToRIARegionFmt","regionType","cls","classification","tags","centerX","centerY","w","points","keypointsDefinitionId","convertFromRIARegionFmt","riaRegion","convertToRIAImageFmt","taskDatum","frameTime","convertToRIAKeyframes","newKeyframes","regionTypeToTool","polygon","point","emptyObj","containerProps","showTags","changeShowTags","selectedTool","changeSelectedTool","isClassification","isPixel","saveCurrentIndexAnnotation","img","images","allowedArea","labelProps","regionClsList","regionTagList","nextAction","onNextImage","onPrevImage","singleImageList","selectedIndex","rt","fullImageSegmentationMode","selectedImage","taskDescription","hideNext","hidePrev","hideHeader","hideHeaderText","autoSegmentationOptions","HeaderLeftSideContainer","onRemoveSample","numberOfSamples","globalSampleIndex","onClickHeaderItem","headerItems","Workspace","headerLeftSide","iconSidebarItems","rightSidebarItems","brightColors","letters","hashInt","ImageContainer","objectFit","CheckButton","emptyArr","ImageClassification","enlargedLabel","changeEnlargedLabel","currentOutput","changeCurrentOutput","onDone","clearTimeout","onClickLabel","newOutput","hotkeyMap","backspace","enter","rightarrow","leftarrow","labelKeyMap","nextAvailableLetter","WorkspaceContainer","getUDTKeyFrames","riaOutput","customId","videoTime","videoSrc","audio","phraseBank","initialTranscriptionText","posingTools","TimeSeries","sampleProp","onModifySampleProp","getTaskDescription","linkButtonContainer","linkButton","footer","footerContent","footerBorder","footerCount","allSamplesButton","sampleIcon","menuButton","sectionHeader","SampleContainer","hideDescription","defaultHideDescription","getItem","lastSampleExitText","requireCompleteToPressNext","minContentHeight","totalSamples","onChangeSample","changeHideDescriptionState","changeHideDescription","hide","setItem","sampleDrawerOpen","changeSampleDrawerOpen","LinkButton","escapeHtml","DataEntry","explain","BadDataset","Composite","selectedField","changeSelectedField","InterfaceIcon","UniversalSampleEditor","loading","onClickSetup","EmptySampleContainer","ImageSegmentation","VideoSegmentation","AudioTranscription","ImageLandmarkAnnotation","RawJSONEditor","onSave","jsonText","setJSONText","editorProps","$blockScrolling","Infinity","DatasetJSONEditor","Protip","tip","noop","updateInterface","setTab","newInterface","isNotNested","Sentry","dsn","whitelistUrls","ErrorBoundary","hasError","errorInfo","withScope","setExtras","eventId","captureException","errorString","React","Component","Stat","Label","Value","stats","LabelHelpIs","verifying","setVerifying","textFieldValue","setTextFieldValue","apikey","PaperContainer","LabelHelpContext","LabelHelpProvider","loadingPricingConfig","setLoadingPricingConfig","pricingConfig","setPricingConfig","loadingMyTeam","setLoadingMyTeam","myCredits","setMyCredits","loadPricingConfig","loadMyCredits","apiKey","credit","varName","completedSamples","totalInteractions","totalSamplesConsidered","useLabelHelp","isLabelOnlyMode","useIsLabelOnlyMode","remoteFile","labelHelpDisabled","hasLabelHelpAPIKey","labelHelpEnabled","labelHelpError","formula","variableDescriptions","variables","variableName","computeDatasetVariable","funcArgs","formulaFuncPos","Function","formulaFunc","ak","totalCost","labelHelpAPIKey","usdFormatter","Intl","NumberFormat","currency","preciseUSDFormatter","maximumFractionDigits","minimumFractionDigits","LabelHelpSetup","onChangeActiveStep","onError","isCreating","setIsCreating","onStartLabelHelp","price","api_key","ok","custom_id","sample_count","Link","LabelHelpRunning","setStatus","setLoading","labelHelp","labelHelpUrl","useAsyncEffect","alert","toFixed","LabelHelpCompleted","updateLabelHelp","steps","LabelHelpView","hasAPIKey","ActiveLearningView","OverviewContainer","onChangeSampleIndex","onChangeSampleTimeToComplete","sampleTimeToComplete","labelOnlyMode","annotationStartTime","setAnnotationStartTime","isInOverview","percentComplete","Stats","duration","selectedSampleIndex","interface_type","LabelErrorBoundary","saveIcon","editIcon","onChangeFile","initialMode","changeMode","ipcRenderer","setSampleIndex","headerTabs","newTimeToComplete","newSamplesInWindow","samplesInWindow","timeToCompleteSample","useTimeToCompleteSample","changeSampleTimeToComplete","onOpenSettingsPage","onOpenSamplesPage","onOpenLabelPage","removeListener","average_time_to_complete_sample","shortcutHandlers","switch_to_label","switch_to_setup","switch_to_samples","allowChanges","handlers","SetupPage","newDataset","some","LabelView","Buttons","errorDetails","reload","detect","preventNavigation","confirmationMessage","returnValue","FileContext","ManagePluginsDialog","AddSamplesKeys","k","sampleKeys","flatten","validate","toCSV","fsFile","handleLoadedFile","queryParams","useEnterCollaborativeSession","openFile","useOpenFile","onOpenWelcomePage","onNewFile","arg0","templateName","exportToCSV","showSaveDialog","filters","extensions","writeFile","toUDTCSV","onOpenFileFromToolbar","onSaveFile","saveFileAsync","onSaveFileAs","saveAs","setFilePath","newFilePath","useDesktopMenuFunctions","setPlugins","pluginUrls","pluginUrl","import","transformPlugins","importPlugins","interfacePlugins","authenticationPlugins","loadPlugins","usePluginProvider","shouldPreventNavigation","usePreventNavigation","managePluginsDialogOpen","setManagePluginsDialogOpen","setSelectedBrush","onCreateTemplate","openRecentItem","file_type","userProvidedFileName","outputName","download","StartingPage","AppErrorBoundary","DatasetEditor","Loading","AppWithContexts","fallback","Theme","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e77b7b90.chunk.js","sourcesContent":["import React from \"react\"\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\"\nimport { ThemeProvider } from \"@material-ui/core/styles\"\nimport \"./theme.css\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: colors.blue,\n    secondary: colors.blue,\n  },\n  typography: {\n    fontFamily: '\"Inter\", \"Roboto\", sans-serif',\n    button: {\n      textTransform: \"none\",\n    },\n  },\n})\n\nexport default ({ children }: any) => {\n  return <ThemeProvider theme={theme}>{children}</ThemeProvider>\n}\n","export const defaultHotkeys = [\n  {\n    id: \"switch_to_label\",\n    description: \"Go to Labels Tab\",\n    binding: \"shift+3\",\n  },\n  {\n    id: \"switch_to_setup\",\n    description: \"Go to Setup Tab\",\n    binding: \"shift+1\",\n  },\n  {\n    id: \"switch_to_samples\",\n    description: \"Go to Samples Tab\",\n    binding: \"shift+2\",\n  },\n  {\n    id: \"select_tool\",\n    description: \"Switch to the Select Tool\",\n    binding: \"escape\",\n  },\n  {\n    id: \"zoom_tool\",\n    description: \"Select the Zoom Tool\",\n    binding: \"z\",\n  },\n  {\n    id: \"create_point\",\n    description: \"Create a point\",\n  },\n  {\n    id: \"create_bounding_box\",\n    description: \"Create a bounding box\",\n    binding: \"b\",\n  },\n  {\n    id: \"pan_tool\",\n    description: \"Select the Pan Tool\",\n    binding: \"p\",\n  },\n  {\n    id: \"create_polygon\",\n    description: \"Create a Polygon\",\n  },\n  {\n    id: \"create_pixel\",\n    description: \"Create a Pixel Mask\",\n  },\n  {\n    id: \"save_and_previous_sample\",\n    description: \"Save and go to previous sample\",\n    binding: \"a\",\n  },\n  {\n    id: \"save_and_next_sample\",\n    description: \"Save and go to next sample\",\n    binding: \"d\",\n  },\n  {\n    id: \"save_and_exit_sample\",\n    description: \"Save and exit current sample\",\n  },\n  {\n    id: \"exit_sample\",\n    description: \"Exit sample without saving\",\n  },\n]\nexport default defaultHotkeys\n","import React, { createContext, useContext, useMemo } from \"react\"\nimport { defaultHotkeys } from \"./default-hotkeys\"\nimport { useAppConfig } from \"../AppConfig\"\n\nexport const HotkeyContext = createContext({\n  hotkeys: defaultHotkeys,\n  changeHotkey: (id, newBinding) => null,\n})\n\nexport const useHotkeyStorage = () => useContext(HotkeyContext)\n\nexport const HotkeyStorageProvider = ({ children }) => {\n  const { fromConfig, setInConfig, clearInConfig } = useAppConfig()\n\n  const hotkeys = useMemo(\n    () =>\n      defaultHotkeys.map((item) => {\n        if (fromConfig(`hotkeys.${item.id}`)) {\n          return { ...item, binding: fromConfig(`hotkeys.${item.id}`) }\n        } else {\n          return item\n        }\n      }),\n    [fromConfig]\n  )\n\n  const keyMap = useMemo(() => {\n    const keyMap = {}\n    for (const { id, binding } of hotkeys) {\n      if (!binding) continue\n      keyMap[id] = binding\n    }\n    return keyMap\n  }, [hotkeys])\n\n  const contextValue = useMemo(\n    () => ({\n      hotkeys,\n      keyMap,\n      clearHotkeys: () => {\n        clearInConfig(hotkeys.map((key) => `hotkeys.${key.id}`))\n      },\n      changeHotkey: (id, newBinding) =>\n        setInConfig(`hotkeys.${id}`, newBinding),\n    }),\n    [hotkeys, keyMap, clearInConfig, setInConfig]\n  )\n\n  return (\n    <HotkeyContext.Provider value={contextValue}>\n      {children}\n    </HotkeyContext.Provider>\n  )\n}\n\nexport { defaultHotkeys }\n","import React, { useMemo, useContext, createContext } from \"react\"\nimport { useLocalStorage } from \"react-use\"\nimport { defaultHotkeys } from \"../HotkeyStorage\"\nimport qs from \"qs\"\n\nconst configKeyNames = [\n  \"auth.provider\",\n  \"auth.cognito.identityPoolId\",\n  \"auth.cognito.region\",\n  \"auth.cognito.userPoolId\",\n  \"auth.cognito.userPoolWebClientId\",\n  \"auth.cognito.mandatorySignIn\",\n  \"auth.cognito.authenticationFlowType\",\n  \"auth.cognito.storage.awsS3.bucket\",\n  \"auth.cognito.storage.awsS3.region\",\n  \"auth.cognito.password.minimumLength\",\n  \"auth.cognito.password.requireLowercase\",\n  \"auth.cognito.password.requireUppercase\",\n  \"auth.cognito.password.requireNumbers\",\n  \"auth.cognito.password.requireSymbols\",\n  \"auth.s3iam.accessKeyId\",\n  \"auth.s3iam.secretAccessKey\",\n  \"auth.s3iam.region\",\n  \"auth.proxy.corsproxy\",\n  \"labelhelp.disabled\",\n  \"labelhelp.apikey\",\n  \"pluginUrls\",\n  \"collaborationServer.url\",\n  ...defaultHotkeys.map(({ id }) => `hotkeys.${id}`),\n]\n\nconst defaultAppConfig = {\n  \"auth.proxy.corsproxy\":\n    // TODO this is currently deployed on @seveibar's cloudflare, it'd be\n    // better if it was deployed on the organization's cloudflare\n    \"https://corsproxy.seve.workers.dev/corsproxy/?apiurl={URL}\",\n  ...(window.preloaded_app_config || {}),\n}\n\nconst jsonParseOrEmpty = (s) => {\n  try {\n    return JSON.parse(s)\n  } catch (e) {\n    return {}\n  }\n}\n\nconst initialAppConfig = {\n  ...defaultAppConfig,\n  ...jsonParseOrEmpty(window.localStorage.app_config),\n  ...jsonParseOrEmpty(qs.parse(window.location.search.substr(1)).app_config),\n}\n\n// NOTE: appConfig should not allow any nested values\nexport const AppConfigContext = createContext({\n  appConfig: initialAppConfig,\n  setAppConfig: (newConfig) => undefined,\n  fromConfig: (key) => undefined,\n  setInConfig: (key, value) => undefined,\n  clearInConfig: (keys) => undefined,\n})\n\nexport const useAppConfig = () => useContext(AppConfigContext)\n\nexport const AppConfigProvider = ({ children }) => {\n  const [appConfig, setAppConfig] = useLocalStorage(\"app_config\", {})\n  const contextValue = useMemo(() => {\n    return {\n      appConfig,\n      setAppConfig,\n      fromConfig: (key) => {\n        if (!configKeyNames.includes(key)) {\n          throw new Error(`Unknown config key name \"${key}\"`)\n        }\n        if (appConfig[key] === undefined) {\n          return initialAppConfig[key]\n        }\n        return appConfig[key]\n      },\n      setInConfig: (key, value) => {\n        if (\n          typeof value !== \"string\" &&\n          typeof value !== \"number\" &&\n          typeof value !== \"boolean\" &&\n          value !== undefined &&\n          value !== null\n        ) {\n          throw new Error(\n            `Config can only have boolean/strings/numbers/null/undefined, something tried to set appConfig[\"${key}\"] = ${JSON.stringify(\n              value\n            )}`\n          )\n        }\n        if (!configKeyNames.includes(key)) {\n          throw new Error(`Unknown config key name \"${key}\"`)\n        }\n        setAppConfig({ ...appConfig, [key]: value })\n      },\n      clearInConfig: (keys) => {\n        setAppConfig(initialAppConfig)\n      },\n    }\n  }, [appConfig, setAppConfig])\n  return (\n    <AppConfigContext.Provider value={contextValue}>\n      {children}\n    </AppConfigContext.Provider>\n  )\n}\n","import Amplify, { Auth } from \"aws-amplify\"\n\nclass CognitoHandler {\n  authProvider = \"cognito\"\n  constructor(appConfig) {\n    this.authConfig = {\n      Auth: {\n        identityPoolId: appConfig[\"auth.cognito.identityPoolId\"],\n        region: appConfig[\"auth.cognito.region\"],\n        userPoolId: appConfig[\"auth.cognito.userPoolId\"],\n        userPoolWebClientId: appConfig[\"auth.cognito.userPoolWebClientId\"],\n        mandatorySignIn: true,\n        authenticationFlowType: \"USER_PASSWORD_AUTH\",\n        minimumLength: appConfig[\"auth.cognito.password.minimumLength\"],\n        requireNumbers: appConfig[\"auth.cognito.password.requireNumbers\"],\n        requireSymbols: appConfig[\"auth.cognito.password.requireSymbols\"],\n        requireUppercase: appConfig[\"auth.cognito.password.requireUppercase\"],\n        requireLowercase: appConfig[\"auth.cognito.password.requireLowercase\"],\n      },\n      Storage: {\n        AWSS3: {\n          bucket: appConfig[\"auth.cognito.storage.awsS3.bucket\"],\n          region: appConfig[\"auth.cognito.storage.awsS3.region\"],\n        },\n      },\n    }\n    this.isLoggedIn = false\n    this.isChallenged = false\n    this.checkIfLoggedIn()\n  }\n  checkIfLoggedIn = async () => {\n    Amplify.configure(this.authConfig)\n    const userHandle = await Auth.currentAuthenticatedUser().catch(() => {})\n    if (userHandle) {\n      this.user = userHandle\n      this.isLoggedIn = true\n      this.hasChanged = true\n    }\n  }\n  setUser = (userHandle) => {\n    this.user = userHandle\n    if (userHandle.challengeName === \"NEW_PASSWORD_REQUIRED\") {\n      this.isChallenged = true\n    } else {\n      this.isLoggedIn = Boolean(userHandle)\n      this.isChallenged = false\n    }\n    this.hasChanged = true\n    this.error = null\n  }\n  login = async (username, password) => {\n    await Auth.signIn(username, password)\n      .then((user) => {\n        this.setUser(user)\n      })\n      .catch((err) => {\n        this.handleCognitoError(err)\n      })\n  }\n  logout = () => {\n    this.user = null\n    this.error = null\n    this.isLoggedIn = false\n    this.isChallenged = false\n    this.hasChanged = true\n    Auth.signOut()\n  }\n  completeSignUp = async (password, requiredAttributesDict) => {\n    Auth.completeNewPassword(\n      this.user, // the Cognito User Object\n      password, // the new password\n      requiredAttributesDict\n    )\n      .then((user) => {\n        this.setUser(user)\n      })\n      .catch((err) => {\n        this.handleCognitoError(err)\n      })\n  }\n  getState = () => ({\n    user: this.user,\n    isLoggedIn: this.isLoggedIn,\n    authConfig: this.authConfig,\n    isChallenged: this.isChallenged,\n    error: this.error,\n  })\n  handleCognitoError = (err) => {\n    if (err.code === \"UserNotConfirmedException\") {\n      console.log(\"Must confirm the account\")\n      this.error = err.code\n      // The error happens if the user didn't finish the confirmation step when signing up\n      // In this case you need to resend the code and confirm the user\n      // About how to resend the code and confirm the user, please check the signUp part\n    } else if (err.code === \"PasswordResetRequiredException\") {\n      console.log(\"Password has been reset\")\n      this.error = err.code\n      // The error happens when the password is reset in the Cognito console\n      // In this case you need to call forgotPassword to reset the password\n      // Please check the Forgot Password part.\n    } else if (err.code === \"NotAuthorizedException\") {\n      console.log(\"Bad password message\")\n      this.error = err.code\n      //setState({ ...state, notAuthorizedException: true, password: \"\" })\n      // The error happens when the incorrect password is provided\n    } else if (err.code === \"UserNotFoundException\") {\n      this.error = err.code\n      console.log(\"User not found message\")\n      // The error happens when the supplied username/username does not exist in the Cognito user pool\n    } else if (err.code === \"InvalidPasswordException\") {\n      this.error = err.code\n      console.log(\"Invalid password\")\n      // The error happens when the password is not conforming to Cognito Policy\n    } else {\n      this.error = err.code\n      console.log(\"Error that we do not handle for:\")\n      console.log(err.code)\n    }\n    this.errorOccured = true\n  }\n  passwordValidator = (password) => {\n    const validations = {\n      isValid: true,\n      validationsMessages: [],\n    }\n    if (this.authConfig.Auth.requireLowercase) {\n      const lowercaseReg = new RegExp(/.*[a-z].*/)\n      if (lowercaseReg.test(password)) {\n        validations.validationsMessages.push({\n          isValid: true,\n          key: \"requireLowercase\",\n          message: `Password must contain a lower case letter`,\n        })\n      } else {\n        validations.isValid = false\n        validations.validationsMessages.push({\n          isValid: false,\n          key: \"requireLowercase\",\n          message: `Password must contain a lower case letter`,\n        })\n      }\n    }\n    if (this.authConfig.Auth.requireUppercase) {\n      const uppercaseReg = new RegExp(/.*[A-Z].*/)\n      if (uppercaseReg.test(password)) {\n        validations.validationsMessages.push({\n          isValid: true,\n          key: \"requireUppercase\",\n          message: `Password must contain an upper case letter`,\n        })\n      } else {\n        validations.isValid = false\n        validations.validationsMessages.push({\n          isValid: false,\n          key: \"requireUppercase\",\n          message: `Password must contain an upper case letter`,\n        })\n      }\n    }\n    if (this.authConfig.Auth.requireNumbers) {\n      const numbersReg = new RegExp(/.*[0-9].*/)\n      if (numbersReg.test(password)) {\n        validations.validationsMessages.push({\n          isValid: true,\n          key: \"requireNumbers\",\n          message: `Password must contain a number`,\n        })\n      } else {\n        validations.isValid = false\n        validations.validationsMessages.push({\n          isValid: false,\n          key: \"requireNumbers\",\n          message: `Password must contain a number`,\n        })\n      }\n    }\n    if (this.authConfig.Auth.requireSymbols) {\n      const symbolsReg = new RegExp(/.*[=+\\-^$*.[\\]{}()?\"!@#%&/\\\\,><':;|_~`].*/)\n      if (symbolsReg.test(password)) {\n        validations.validationsMessages.push({\n          isValid: true,\n          key: \"requireSymbols\",\n          message: `Password must contain a special character`,\n        })\n      } else {\n        validations.isValid = false\n        validations.validationsMessages.push({\n          isValid: false,\n          key: \"requireSymbols\",\n          message: `Password must contain a special character`,\n        })\n      }\n    }\n    if (Boolean(this.authConfig.Auth.minimumLength)) {\n      if (password.length >= parseInt(this.authConfig.Auth.minimumLength)) {\n        validations.validationsMessages.push({\n          isValid: true,\n          key: \"minimumLength\",\n          message: `Password must contain at least ${this.authConfig.Auth.minimumLength} characters`,\n        })\n      } else {\n        validations.isValid = false\n        validations.validationsMessages.push({\n          isValid: false,\n          key: \"minimumLength\",\n          message: `Password must contain at least ${this.authConfig.Auth.minimumLength} characters`,\n        })\n      }\n      if (password.length > 99) {\n        validations.isValid = false\n        validations.validationsMessages.push({\n          isValid: false,\n          key: \"maximum\",\n          message: `Password must not contain more than 99 characters`,\n        })\n      }\n    }\n    return validations\n  }\n}\n\nexport default CognitoHandler\n","import React, {\n  useState,\n  useEffect,\n  createContext,\n  useContext,\n  useMemo,\n  useReducer,\n} from \"react\"\nimport { useAppConfig } from \"../../components/AppConfig\"\nimport CognitoHandler from \"./cognito-handler.js\"\n\nexport const authProviders = [\"cognito\"]\n\nconst AuthContext = createContext({ authProvider: \"none\" })\n\nexport const AuthProvider = ({ children }) => {\n  const { appConfig, fromConfig } = useAppConfig()\n  const [handler, setHandler] = useState({ authProvider: \"none\" })\n  const authProvider = fromConfig(\"auth.provider\")\n  const [handlerVersion, incHandlerVersion] = useReducer(\n    (state) => state + 1,\n    0\n  )\n  const [handlerErrorVersion, incHandlerErrorVersion] = useReducer(\n    (state) => state + 1,\n    0\n  )\n\n  useEffect(() => {\n    if (handler && handler.authProvider === authProvider) return\n    if (authProvider === \"cognito\") {\n      setHandler(new CognitoHandler(appConfig))\n    }\n  }, [authProvider, appConfig, handler])\n\n  useEffect(() => {\n    if (!handler) return\n    const interval = setInterval(() => {\n      if (handler.hasChanged) {\n        incHandlerVersion()\n        handler.hasChanged = false\n      }\n      if (handler.errorOccured) {\n        incHandlerErrorVersion()\n        handler.errorOccured = false\n      }\n    }, 100)\n    return () => {\n      clearInterval(interval)\n    }\n  }, [handler, handlerVersion, handlerErrorVersion])\n\n  const contextValue = useMemo(\n    () => ({\n      authProvider: handler.authProvider,\n      ...(handler.getState ? handler.getState() : {}),\n      // TODO remove setUser\n      setUser: handler.setUser,\n      logout: handler.logout,\n      login: handler.login,\n      completeSignUp: handler.completeSignUp,\n      passwordValidator: handler.passwordValidator,\n      handlerVersion,\n      handlerErrorVersion,\n    }),\n    [handler, handlerVersion, handlerErrorVersion]\n  )\n\n  return (\n    <AuthContext.Provider value={contextValue}>{children}</AuthContext.Provider>\n  )\n}\n\nexport const useAuth = () => useContext(AuthContext)\n\nexport default useAuth\n","import React, { Fragment, useState, useEffect } from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Button from \"@material-ui/core/Button\"\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport isEmpty from \"lodash/isEmpty\"\nimport { styled } from \"@material-ui/core/styles\"\n\nimport { useTranslation } from \"react-i18next\"\n\nimport * as colors from \"@material-ui/core/colors\"\nimport { useAuth } from \"../../utils/auth-handlers/use-auth.js\"\n\nconst ErrorText = styled(\"div\")({\n  padding: 16,\n  color: colors.red[500],\n})\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nexport default ({ onRequireCompleteSignUp }) => {\n  const { user, login, error, handlerErrorVersion } = useAuth()\n  const classes = useStyles()\n\n  const [errorMessage, setErrorMessage] = useState()\n  const { t } = useTranslation()\n\n  const [state, setState] = useState({\n    username: \"\",\n    password: \"\",\n    notAuthorizedException: false,\n  })\n\n  useEffect(() => {\n    if (Boolean(user) && user.challengeName) {\n      onRequireCompleteSignUp()\n    }\n  }, [user, onRequireCompleteSignUp])\n\n  useEffect(() => {\n    if (error === \"NotAuthorizedException\") {\n      setState((prevState) => ({\n        ...prevState,\n        notAuthorizedException: true,\n      }))\n    }\n  }, [error, handlerErrorVersion, setState])\n\n  const handleSignInClick = () => {\n    if (isEmpty(state.username) || isEmpty(state.password)) {\n      setState((prevState) => ({\n        ...prevState,\n        notAuthorizedException: true,\n      }))\n    } else {\n      SignInAWS(state.username, state.password)\n    }\n  }\n\n  const handleTextFieldChange = (event) => {\n    event.persist()\n    setState((prevState) => ({\n      ...prevState,\n      [event.target.name]: event.target.value,\n      notAuthorizedException: false,\n    }))\n  }\n\n  async function SignInAWS(username, password) {\n    setErrorMessage(null)\n    try {\n      login(username, password)\n    } catch (e) {\n      setErrorMessage(e.toString())\n    }\n  }\n\n  return (\n    <Fragment>\n      <Typography component=\"h1\" variant=\"h5\">\n        {t(\"sign-in\")}\n      </Typography>\n      {errorMessage && <ErrorText>{errorMessage}</ErrorText>}\n      <form className={classes.form} noValidate>\n        <TextField\n          error={state.notAuthorizedException}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          id=\"username\"\n          label={t(\"username\")}\n          name=\"username\"\n          autoComplete=\"username\"\n          helperText={\n            state.notAuthorizedException\n              ? \"The username or password is incorrect.\"\n              : \"\"\n          }\n          autoFocus\n          onChange={handleTextFieldChange}\n        />\n        <TextField\n          error={state.notAuthorizedException}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"password\"\n          label={t(\"password\")}\n          type=\"password\"\n          id=\"password\"\n          autoComplete=\"current-password\"\n          value={state.password}\n          onChange={handleTextFieldChange}\n        />\n        <FormControlLabel\n          control={<Checkbox value=\"remember\" color=\"primary\" />}\n          label={t(\"remember-me\")}\n        />\n        <Button\n          onClick={handleSignInClick}\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          {t(\"sign-in\")}\n        </Button>\n      </form>\n    </Fragment>\n  )\n}\n","import React, { Fragment, useState, useEffect } from \"react\"\nimport { Typography, TextField, Button } from \"@material-ui/core\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useAuth } from \"../../utils/auth-handlers/use-auth.js\"\nimport { useTranslation } from \"react-i18next\"\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nexport default () => {\n  const {\n    user,\n    completeSignUp,\n    error,\n    handlerErrorVersion,\n    passwordValidator,\n  } = useAuth()\n  const requiredAttributesDict = {}\n  const requiredAttributesErrorDict = {}\n  user.challengeParam.requiredAttributes.forEach((requiredAttribute) => {\n    requiredAttributesDict[requiredAttribute] = \"\"\n    requiredAttributesErrorDict[requiredAttribute] = false\n  })\n\n  const [state, setState] = useState({\n    newPassword: \"\",\n    newPasswordNotValid: false,\n    newPasswordConfirmation: \"\",\n    newPasswordNotEqualsConfirmation: false,\n    requiredAttributesDict: requiredAttributesDict,\n    requiredAttributesErrorDict: requiredAttributesErrorDict,\n  })\n  const [passwordValidation, setPasswordValidation] = useState(null)\n\n  const classes = useStyles()\n\n  useEffect(() => {\n    if (error === \"InvalidPasswordException\") {\n      setState((prevState) => ({\n        ...prevState,\n        newPasswordNotValid: true,\n        newPasswordError: \"Password does not conform to policy\",\n      }))\n    }\n  }, [handlerErrorVersion, error, setState])\n\n  const capitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n\n  const handleCompleteSignUpClick = () => {\n    if (\n      checkIfPasswordEqualsConfirmationPassword() &&\n      _handleCantBeNull(\"checkAll\")\n    ) {\n      completeSignUp(state.newPassword, state.requiredAttributesDict)\n    }\n  }\n\n  const _handleAttributesTextFieldChange = (event) => {\n    setState({\n      ...state,\n      requiredAttributesDict: {\n        ...state.requiredAttributesDict,\n        [event.target.name]: event.target.value,\n      },\n    })\n  }\n\n  const _handleTextFieldChange = (event) => {\n    setState({\n      ...state,\n      newPasswordError: null,\n      newPasswordNotValid: false,\n      newPasswordNotEqualsConfirmation: false,\n      [event.target.name]: event.target.value,\n    })\n\n    if (event.target.name === \"newPassword\") {\n      setPasswordValidation(passwordValidator(event.target.value))\n    }\n  }\n\n  const checkIfPasswordEqualsConfirmationPassword = () => {\n    if (state.newPassword === state.newPasswordConfirmation) {\n      setState({ ...state, newPasswordNotEqualsConfirmation: false })\n      return true\n    } else {\n      setState({ ...state, newPasswordNotEqualsConfirmation: true })\n      return false\n    }\n  }\n\n  const _handleCantBeNull = (e) => {\n    let allGood = true\n    if (e === \"checkAll\") {\n      user.challengeParam.requiredAttributes.forEach((requiredAttribute) => {\n        if (state.requiredAttributesDict[requiredAttribute] === \"\") {\n          setState({\n            ...state,\n            requiredAttributesErrorDict: {\n              ...state.requiredAttributesErrorDict,\n              [requiredAttribute]: true,\n            },\n          })\n          allGood = false\n        }\n      })\n    } else {\n      if (e.target.value === \"\") {\n        setState({\n          ...state,\n          requiredAttributesErrorDict: {\n            ...state.requiredAttributesErrorDict,\n            [e.target.name]: true,\n          },\n        })\n      } else {\n        setState({\n          ...state,\n          requiredAttributesErrorDict: {\n            ...state.requiredAttributesErrorDict,\n            [e.target.name]: false,\n          },\n        })\n      }\n    }\n    return allGood\n  }\n\n  const { t } = useTranslation()\n\n  return (\n    <Fragment>\n      <Typography component=\"h1\" variant=\"h5\">\n        {t(\"complete-your-sign-up\")}\n      </Typography>\n      <form className={classes.form} noValidate>\n        <TextField\n          error={state.newPasswordNotValid}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"newPassword\"\n          label=\"New password\"\n          type=\"password\"\n          id=\"password\"\n          value={state.newPassword}\n          onChange={_handleTextFieldChange}\n          helperText={state.newPasswordError || \"\"}\n        />\n        {Boolean(passwordValidation) &&\n          passwordValidation.validationsMessages.map((message) => {\n            if (message.isValid) {\n              return (\n                <div style={{ color: \"#19BF00\" }} key={message.key}>\n                   {message.message}\n                </div>\n              )\n            } else {\n              return (\n                <div style={{ color: \"#DF3312\" }} key={message.key}>\n                   {message.message}\n                </div>\n              )\n            }\n          })}\n        <TextField\n          error={state.newPasswordNotEqualsConfirmation}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"newPasswordConfirmation\"\n          label=\"Confirm new password\"\n          type=\"password\"\n          id=\"confirm-password\"\n          onChange={_handleTextFieldChange}\n          value={state.newPasswordConfirmation}\n          onBlur={checkIfPasswordEqualsConfirmationPassword}\n          helperText={\n            state.newPasswordNotEqualsConfirmation\n              ? \"New password and confirmation password must be the same\"\n              : \"\"\n          }\n        />\n        {user.challengeParam.requiredAttributes.map((requiredAttribute) => {\n          return (\n            <TextField\n              error={state.requiredAttributesErrorDict[requiredAttribute]}\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name={requiredAttribute.toString()}\n              key={requiredAttribute.toString()}\n              label={capitalizeFirstLetter(requiredAttribute.toString())}\n              type=\"text\"\n              id={requiredAttribute.toString()}\n              onChange={_handleAttributesTextFieldChange}\n              value={state.requiredAttributesDict.requiredAttribute}\n              onBlur={_handleCantBeNull}\n              helperText={\n                state.requiredAttributesErrorDict[requiredAttribute]\n                  ? `${capitalizeFirstLetter(\n                      requiredAttribute.toString()\n                    )} can't be empty`\n                  : \"\"\n              }\n            />\n          )\n        })}\n        <Button\n          onClick={handleCompleteSignUpClick}\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          {t(\"complete-sign-up\")}\n        </Button>\n      </form>\n    </Fragment>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Drawer from \"@material-ui/core/Drawer\"\n\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport SignIn from \"./SignIn\"\nimport CompleteSignUp from \"./CompleteSignUp\"\n\nimport { useAuth } from \"../../utils/auth-handlers/use-auth.js\"\n\nconst useStyles = makeStyles((theme) => ({\n  drawer: {\n    width: 500,\n  },\n  root: {\n    height: \"100vh\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  close: {\n    cursor: \"pointer\",\n    color: theme.palette.secondary.main,\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n}))\n\nexport default ({ loginDrawerOpen, onClose }) => {\n  const classes = useStyles()\n\n  const { user, isLoggedIn, error, handlerErrorVersion } = useAuth()\n\n  const [state, setState] = useState({\n    signingIn: true,\n    completeSignUp: false,\n    user: user,\n  })\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      onClose()\n      toggleSignIn()\n    }\n  }, [isLoggedIn, onClose])\n\n  useEffect(() => {\n    if (error === \"NotAuthorizedException\") {\n      toggleSignIn()\n    }\n  }, [error, handlerErrorVersion])\n\n  const toggleCompleteSignUp = () => {\n    setState((prevState) => ({\n      ...prevState,\n      signingIn: false,\n      completeSignUp: true,\n      requiredAttributes: user.challengeParam.requiredAttributes,\n    }))\n  }\n\n  const toggleSignIn = () => {\n    setState((prevState) => ({\n      ...prevState,\n      signingIn: true,\n      completeSignUp: false,\n    }))\n  }\n\n  const drawer = () => (\n    <div className={classes.drawer} role=\"presentation\">\n      <Grid container component=\"main\" className={classes.root}>\n        <Grid\n          item\n          xs={12}\n          sm={12}\n          md={12}\n          component={Paper}\n          elevation={6}\n          square\n        >\n          <div className={classes.paper}>\n            <Grid container>\n              <Grid item xs>\n                <ArrowForwardIcon onClick={onClose} className={classes.close} />\n              </Grid>\n            </Grid>\n            <Avatar className={classes.avatar}>\n              <LockOutlinedIcon />\n            </Avatar>\n            {state.signingIn && (\n              <SignIn onRequireCompleteSignUp={() => toggleCompleteSignUp()} />\n            )}\n            {state.completeSignUp && (\n              <CompleteSignUp toggleSignIn={toggleSignIn} />\n            )}\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  )\n\n  return (\n    <>\n      <Drawer anchor=\"right\" open={loginDrawerOpen} onClose={onClose}>\n        {drawer()}\n      </Drawer>\n    </>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { Header } from \"./\"\n\nconst Container = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"column\",\n  overflowX: \"hidden\",\n})\nconst Body = styled(\"div\")({\n  display: \"flex\",\n})\nconst Content = styled(\"div\")({\n  flexGrow: 1,\n})\n\nexport const HeaderWithContainer = (props) => {\n  return (\n    <Container>\n      <Body>\n        <Header {...props} children={null} />\n        <Content>{props.children}</Content>\n      </Body>\n    </Container>\n  )\n}\n\nexport default HeaderWithContainer\n","// @flow\n\nexport default () => {\n  if (window.require) {\n    return window.require(\"electron\")\n  }\n  return null\n}\n","import posthog from \"posthog-js\"\nimport useElectron from \"../use-electron\"\n\nconst posthogMock = {\n  opt_in_capturing: () => null,\n  opt_out_capturing: () => null,\n  init: () => null,\n  reset: () => null,\n  capture: () => null,\n  capture_forms: () => null,\n  capture_pageview: () => null,\n  register: () => null,\n  register_once: () => null,\n  unregister: () => null,\n  identify: () => \"mock\",\n  alias: () => null,\n  set_config: () => null,\n  get_config: () => null,\n  get_property: () => null,\n  get_distinct_id: () => null,\n  has_opted_out_capturing: () => true,\n  has_opted_in_capturing: () => false,\n  disable_all_events: () => null,\n  people: {\n    set: () => null,\n    set_once: () => null,\n  },\n}\n\nwindow.posthogInitialized = false\nexport default () => {\n  const isDesktop = Boolean(useElectron())\n  if (window.Cypress) {\n    window.posthogInitialized = true\n    window.posthog = posthogMock\n  }\n  if (!window.posthogInitialized) {\n    posthog.init(\"dSrx1PbFd02XsxlLd7qNbeTxKZwwao2sclVmapyYlT4\", {\n      api_host: \"https://posthog.universaldatatool.com\",\n      autocapture: false,\n    })\n    window.posthog = posthog\n    const domain = isDesktop\n      ? \"https://desktop.universaldatatool.com\"\n      : window.location.origin\n    posthog.capture(\"domain\", { domain })\n    posthog.capture(\"is_desktop\", { isDesktop: isDesktop })\n    posthog.people.set({ is_desktop: isDesktop, domain })\n    window.posthogInitialized = true\n  }\n  return window.posthog\n}\n","// @flow\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst WIDTH = 300\nconst borderColor = colors.grey[500]\nconst popupBoxBeforeAndAfter = {\n  right: \"100%\",\n  top: 43,\n  border: \"solid transparent\",\n  content: '\" \"',\n  height: 0,\n  width: 0,\n  position: \"absolute\",\n  pointerEvents: \"none\",\n}\nconst PopupBox = styled(\"div\")({\n  position: \"absolute\",\n  zIndex: 10,\n  top: -20,\n  padding: 16,\n  boxSizing: \"border-box\",\n  borderRadius: 4,\n  // left: -WIDTH / 4 + 22,\n  left: 48,\n  backgroundColor: \"#fff\",\n  border: `1px solid ${borderColor}`,\n  width: WIDTH,\n  minHeight: 200,\n  boxShadow: \"0px 3px 12px rgba(0,0,0,0.3)\",\n  \"&:before\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(0,0,0, 0)\",\n    borderRightColor: borderColor,\n    borderWidth: 12,\n    marginTop: -12,\n  },\n  \"&:after\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(255,255,255, 0)\",\n    borderRightColor: \"#fff\",\n    borderWidth: 10,\n    marginTop: -10,\n  },\n  \"& h1\": {\n    fontSize: 18,\n    marginTop: 0,\n    color: colors.blue[800],\n  },\n  \"& h2\": {\n    fontSize: 14,\n    color: colors.grey[800],\n  },\n  opacity: 1,\n  transition: \"opacity 200ms linear, transform 200ms ease\",\n  \"&.hidden\": {\n    opacity: 0,\n    transform: \"translate(0, 10px)\",\n    pointerEvents: \"none\",\n  },\n})\n\nexport default ({ open, children }) => {\n  return <PopupBox className={open ? \"\" : \"hidden\"}>{children}</PopupBox>\n}\n","import { atom, useRecoilState } from \"recoil\"\nimport { useCallback } from \"react\"\n\nexport const activeDatasetManagerState = atom({\n  default: null,\n  key: \"datasetManager\",\n  dangerouslyAllowMutability: true,\n})\n\nexport default () => {\n  const [dm, setRecoilDatasetManager] = useRecoilState(\n    activeDatasetManagerState\n  )\n\n  const setDatasetManager = useCallback(\n    (newDM) => {\n      if (dm) {\n        if (dm.disconnect) {\n          dm.disconnect()\n        } else {\n          dm.emit(\"disconnect\")\n        }\n      }\n      setRecoilDatasetManager(newDM)\n    },\n    [dm, setRecoilDatasetManager]\n  )\n\n  return [dm, setDatasetManager]\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { useLocalStorage } from \"react-use\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport PeopleIcon from \"@material-ui/icons/People\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport TextField from \"@material-ui/core/TextField\"\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\nimport AddBoxTwoTone from \"@material-ui/icons/AddBoxTwoTone\"\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport usePosthog from \"../../hooks/use-posthog\"\nimport HeaderPopupBox from \"../HeaderPopupBox\"\nimport useActiveDatasetManager from \"../../hooks/use-active-dataset-manager\"\n\nimport { useTranslation } from \"react-i18next\"\n\nconst Container = styled(\"div\")({ position: \"relative\" })\nconst ErrorText = styled(\"div\")({\n  color: colors.red[500],\n  padding: 8,\n  fontSize: 14,\n})\n\nconst CreateNewButton = styled(Button)({\n  marginTop: 16,\n  justifyContent: \"flex-start\",\n  color: colors.blue[500],\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n  },\n})\nconst ExitButton = styled(Button)({\n  marginTop: 16,\n  justifyContent: \"flex-start\",\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n    color: colors.red[500],\n  },\n})\n\nexport default ({\n  fileOpen = false,\n  inSession = false,\n  error,\n  onJoinSession,\n  onCreateSession,\n  onLeaveSession,\n  sessionBoxOpen,\n  changeSessionBoxOpen,\n  className,\n}) => {\n  const [loadingSession, changeLoadingSession] = useState(false)\n  const [sessionUrl, changeSessionUrl] = useState(\"\")\n  const [userName, changeUserName] = useLocalStorage(\"userName\", \"anonymous\")\n  const posthog = usePosthog()\n\n  // internalization hook\n  const { t } = useTranslation()\n\n  const [dm] = useActiveDatasetManager()\n\n  let shareUrl\n  if (dm?.type === \"collaborative-session\") {\n    shareUrl = `${window.location.origin}?s=${dm.sessionId}`\n  }\n\n  useEffect(() => {\n    if (loadingSession) {\n      setTimeout(() => {\n        changeLoadingSession(false)\n      }, 10000)\n    }\n  }, [loadingSession])\n\n  return (\n    <Container\n      title=\"collaborate-icon\"\n      onMouseEnter={() => changeSessionBoxOpen(true)}\n      onMouseLeave={() => changeSessionBoxOpen(false)}\n    >\n      <IconButton\n        style={{ color: inSession ? colors.blue[500] : colors.grey[300] }}\n      >\n        <PeopleIcon />\n      </IconButton>\n      <HeaderPopupBox open={sessionBoxOpen}>\n        <h1>{t(\"collaborate\")}</h1>\n        {!inSession ? (\n          <>\n            <h2>{t(\"join-a-session\")}</h2>\n            <TextField\n              variant=\"outlined\"\n              label=\"URL to Session\"\n              value={sessionUrl}\n              onChange={(e) => changeSessionUrl(e.target.value)}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      color=\"primary\"\n                      onClick={() => {\n                        posthog.capture(\"join_collaborative_session\")\n                        onJoinSession(sessionUrl)\n                      }}\n                      disabled={!sessionUrl}\n                    >\n                      <ArrowForwardIcon />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            {error && <ErrorText>{error}</ErrorText>}\n            <CreateNewButton\n              fullWidth\n              disabled={!fileOpen || loadingSession || error}\n              onClick={() => {\n                posthog.capture(\"create_collaborative_session\")\n                onCreateSession()\n                changeLoadingSession(true)\n              }}\n            >\n              {loadingSession ? (\n                <CircularProgress className=\"icon\" size={24} />\n              ) : (\n                <AddBoxTwoTone className=\"icon\" />\n              )}\n              Create New Session\n            </CreateNewButton>\n          </>\n        ) : (\n          <>\n            <TextField\n              style={{ marginTop: 12 }}\n              readOnly\n              variant=\"outlined\"\n              label=\"Share Link\"\n              value={shareUrl}\n            />\n            <TextField\n              style={{ marginTop: 12 }}\n              variant=\"outlined\"\n              label=\"User Name\"\n              value={userName}\n              onChange={(e) => changeUserName(e.target.value)}\n            />\n            <ExitButton fullWidth onClick={onLeaveSession}>\n              <ExitToAppIcon className=\"icon\" />\n              {t(\"leave-session\")}\n            </ExitButton>\n          </>\n        )}\n      </HeaderPopupBox>\n    </Container>\n  )\n}\n","// @flow\nimport React, { useState } from \"react\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport isEmpty from \"lodash/isEmpty\"\n\nconst useStyles = makeStyles({\n  textField: {\n    marginLeft: 8,\n  },\n})\n\nexport default ({ value, onChange }) => {\n  const c = useStyles()\n  const [newValue, setNewValue] = useState(value || \"\")\n\n  const onBlur = () => {\n    if (!isEmpty(newValue) && newValue !== \"unnamed\") {\n      onChange(newValue)\n      setNewValue(newValue)\n    } else {\n      setNewValue(value)\n    }\n  }\n\n  return (\n    <TextField\n      className={c.textField}\n      label=\"File Name\"\n      variant=\"outlined\"\n      size=\"small\"\n      InputProps={{\n        inputProps: { style: { color: \"#000\" } },\n      }}\n      onBlur={onBlur}\n      onKeyDown={(e) => {\n        if (e.key === \"Enter\") {\n          e.preventDefault()\n          e.stopPropagation()\n          e.target.blur()\n        }\n      }}\n      onKeyPress={(e) => {\n        e.stopPropagation()\n      }}\n      onChange={(e) => {\n        setNewValue(e.target.value)\n      }}\n      value={newValue || \"\"}\n    />\n  )\n}\n","import { useEffect, useState, useReducer } from \"react\"\nimport useActiveDatasetManager from \"../use-active-dataset-manager\"\n\nexport default (datasetPropertyKey: string) => {\n  const [propVal, setPropVal] = useState()\n  const [propVersion, incPropVersion] = useReducer((state) => state + 1, 0)\n  const [dm] = useActiveDatasetManager()\n\n  useEffect(() => {\n    if (!dm || !datasetPropertyKey) return\n    dm.on(\"dataset-property-changed\", ({ key }) => {\n      if (key === datasetPropertyKey) {\n        incPropVersion()\n      }\n    })\n  }, [dm, datasetPropertyKey])\n\n  useEffect(() => {\n    if (!dm || !datasetPropertyKey) return\n    dm.getDatasetProperty(datasetPropertyKey).then((newPropVal) => {\n      setPropVal(newPropVal)\n    })\n  }, [dm, propVersion, datasetPropertyKey])\n\n  // interface -> updateInterface\n  const updateFunctionKeyName = `update${datasetPropertyKey[0].toUpperCase()}${datasetPropertyKey.slice(\n    1\n  )}`\n\n  if (!dm || !datasetPropertyKey)\n    return {\n      [`${datasetPropertyKey}Loading`]: true,\n      [updateFunctionKeyName]: () => {\n        throw new Error(`${datasetPropertyKey} isn't loaded`)\n      },\n    }\n\n  return {\n    [datasetPropertyKey]: propVal,\n    [updateFunctionKeyName]: async (newPropVal) => {\n      await dm.setDatasetProperty(datasetPropertyKey, newPropVal)\n    },\n  }\n}\n","import React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core\"\nimport InfoIcon from \"@material-ui/icons/Info\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport HeaderPopupBox from \"../HeaderPopupBox\"\nimport TextField from \"@material-ui/core/TextField\"\nimport EditableTitleText from \"./EditableTitleText.js\"\nimport useActiveDatasetManager from \"../../hooks/use-active-dataset-manager\"\nimport useDatasetProperty from \"../../hooks/use-dataset-property\"\nimport { colors } from \"@material-ui/core\"\n\nconst Container = styled(\"div\")({ position: \"relative\" })\nconst IconButtonStyle = styled(IconButton)({\n  color: colors.grey[300],\n})\n\nexport const InfoButton = () => {\n  const [sessionBoxOpen, setSessionBoxOpen] = useState(false)\n  const [dm] = useActiveDatasetManager()\n  const { name, updateName } = useDatasetProperty(\"name\")\n\n  let shareURL\n  if (dm.type === \"collaborative-session\") {\n    shareURL = `${window.location.origin}?s=${dm.sessionId}`\n  }\n\n  return (\n    <Container\n      title=\"info-icon\"\n      onMouseEnter={() => setSessionBoxOpen(true)}\n      onMouseLeave={() => setSessionBoxOpen(false)}\n    >\n      <IconButtonStyle>\n        <InfoIcon />\n      </IconButtonStyle>\n      <HeaderPopupBox open={sessionBoxOpen}>\n        <h1>Info</h1>\n        {dm.type === \"collaborative-session\" ? (\n          <TextField\n            label=\"Share Link\"\n            title=\"share-link\"\n            value={shareURL}\n            variant=\"outlined\"\n            size=\"small\"\n          />\n        ) : (\n          <EditableTitleText\n            label=\"File Name\"\n            onChange={(newName) => {\n              updateName(newName)\n            }}\n            value={name}\n          />\n        )}\n      </HeaderPopupBox>\n    </Container>\n  )\n}\n\nexport default InfoButton\n","// @flow\n\nimport React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nfunction GitHub(props: Object) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z\" />\n    </SvgIcon>\n  )\n}\n\nexport default GitHub\n","// @flow weak\n\nimport seed from \"seed-random\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst fade = (cmap, amt) => {\n  const newCmap = {}\n  for (let i = 100; i < 1000; i++) {\n    if (i - amt <= 0) {\n      newCmap[i] = \"#fff\"\n    } else {\n      newCmap[i] = cmap[i - amt]\n    }\n  }\n  return newCmap\n}\n\nconst fadedGrey = {\n  ...colors.grey,\n  // \"800\": colors.grey[600],\n  // \"700\": colors.grey[500],\n  // \"600\": colors.grey[400],\n  // \"500\": colors.grey[300],\n  // \"400\": colors.grey[200],\n  // \"300\": colors.grey[100],\n  isFaded: true,\n}\n\nconst availableColors = [\n  colors.blue,\n  colors.deepOrange,\n  colors.green,\n  colors.purple,\n  colors.pink,\n  colors.cyan,\n  colors.orange,\n  colors.indigo,\n]\n\nconst colorMap = {\n  ...colors,\n  complete: colors.blue,\n  incomplete: fadedGrey,\n  faded: fadedGrey,\n  review: colors.deepOrange,\n  ellipsis1: fade(colors.grey, 100),\n  ellipsis2: fade(colors.grey, 200),\n  ellipsis3: fade(colors.grey, 300),\n}\n\nexport default (brush) => {\n  return (\n    colorMap[brush] || availableColors[seed(brush) * availableColors.length]\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport BrushIcon from \"@material-ui/icons/Brush\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport HeaderPopupBox from \"../HeaderPopupBox\"\nimport useEventCallback from \"use-event-callback\"\nimport memoize from \"lodash/memoize\"\nimport getBrushColorPalette from \"../../utils/get-brush-color-palette.js\"\n\nimport { useTranslation } from \"react-i18next\"\n\nconst Container = styled(\"div\")({ position: \"relative\" })\nconst BrushCircle = styled(\"div\")(({ color }) => ({\n  display: \"inline\",\n  marginRight: 8,\n  backgroundColor: color[700],\n  width: 24,\n  height: 24,\n  borderRadius: 20,\n}))\n\nconst OtherColorContainers = styled(\"div\")({\n  paddingTop: 10,\n  padding: 4,\n  display: \"flex\",\n  flexWrap: \"wrap\",\n})\n\nconst StyledIconButton = styled(IconButton)(({ iconcolor, selected }) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  backgroundColor: iconcolor[700],\n  border: selected ? `4px solid ${iconcolor[\"A200\"]}` : \"4px solid #fff\",\n  boxSizing: \"content-box\",\n  margin: 4,\n  transition: \"transform 200ms linear\",\n  \"&:hover\": {\n    backgroundColor: iconcolor[800],\n    transform: \"scale(1.2,1.2)\",\n  },\n  \"&:active\": {\n    transition: \"transform 100ms linear\",\n    transform: \"scale(1.4,1.4)\",\n  },\n}))\n\nconst StyledButton = styled(Button)(({ selected, iconcolor }) => ({\n  justifyContent: \"flex-start\",\n  marginTop: 4,\n  marginBottom: 4,\n  paddingTop: 8,\n  paddingBottom: 8,\n  backgroundColor: selected ? iconcolor[50] : \"#fff\",\n  border: selected ? `2px solid ${iconcolor[200]}` : \"2px solid #fff\",\n  \"&:hover\": {\n    backgroundColor: selected ? iconcolor[100] : \"none\",\n  },\n}))\n\nexport default ({ selectedBrush, onChangeSelectedBrush }) => {\n  const [open, changeOpen] = useState(false)\n  const handleClick = useEventCallback((color) =>\n    memoize(() => onChangeSelectedBrush(color))\n  )\n\n  // internalization hook\n  const { t } = useTranslation()\n\n  return (\n    <Container\n      onMouseEnter={() => changeOpen(true)}\n      onMouseLeave={() => changeOpen(false)}\n    >\n      <IconButton>\n        <BrushIcon\n          style={{ color: getBrushColorPalette(selectedBrush)[800] }}\n        />\n      </IconButton>\n      <HeaderPopupBox open={open}>\n        <h1>{t(\"sample-brushes\")}</h1>\n        <StyledButton\n          selected={selectedBrush === \"complete\" || selectedBrush === \"blue\"}\n          iconcolor={colors.blue}\n          fullWidth\n          onClick={handleClick(\"complete\")}\n        >\n          <BrushCircle color={colors.blue} />\n          {t(\"complete\")}\n        </StyledButton>\n        <StyledButton\n          selected={\n            selectedBrush === \"review\" || selectedBrush === \"deepOrange\"\n          }\n          iconcolor={colors.deepOrange}\n          fullWidth\n          onClick={handleClick(\"review\")}\n        >\n          <BrushCircle color={colors.deepOrange} />\n          {t(\"review\")}\n        </StyledButton>\n        <OtherColorContainers>\n          <StyledIconButton\n            onClick={handleClick(\"green\")}\n            selected={selectedBrush === \"green\"}\n            iconcolor={colors.green}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"purple\")}\n            selected={selectedBrush === \"purple\"}\n            iconcolor={colors.purple}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"pink\")}\n            selected={selectedBrush === \"pink\"}\n            iconcolor={colors.pink}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"cyan\")}\n            selected={selectedBrush === \"cyan\"}\n            iconcolor={colors.cyan}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"orange\")}\n            selected={selectedBrush === \"orange\"}\n            iconcolor={colors.orange}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"indigo\")}\n            selected={selectedBrush === \"indigo\"}\n            iconcolor={colors.indigo}\n          />\n        </OtherColorContainers>\n      </HeaderPopupBox>\n    </Container>\n  )\n}\n","import React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nconst SlackIcon = (props) => {\n  return (\n    <SvgIcon>\n      <svg\n        style={{\n          width: 32,\n          height: 32,\n        }}\n        viewBox=\"50 60 160 160\"\n      >\n        <g>\n          <g>\n            <path d=\"M99.4,151.2c0,7.1-5.8,12.9-12.9,12.9s-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9h12.9V151.2z\" />\n            <path d=\"M105.9,151.2c0-7.1,5.8-12.9,12.9-12.9s12.9,5.8,12.9,12.9v32.3c0,7.1-5.8,12.9-12.9,12.9 s-12.9-5.8-12.9-12.9C105.9,183.5,105.9,151.2,105.9,151.2z\" />\n          </g>\n          <g>\n            <path d=\"M118.8,99.4c-7.1,0-12.9-5.8-12.9-12.9s5.8-12.9,12.9-12.9s12.9,5.8,12.9,12.9v12.9H118.8z\" />\n            <path d=\"M118.8,105.9c7.1,0,12.9,5.8,12.9,12.9s-5.8,12.9-12.9,12.9H86.5c-7.1,0-12.9-5.8-12.9-12.9 s5.8-12.9,12.9-12.9C86.5,105.9,118.8,105.9,118.8,105.9z\" />\n          </g>\n          <g>\n            <path d=\"M170.6,118.8c0-7.1,5.8-12.9,12.9-12.9c7.1,0,12.9,5.8,12.9,12.9s-5.8,12.9-12.9,12.9h-12.9V118.8z\" />\n            <path d=\"M164.1,118.8c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9V86.5c0-7.1,5.8-12.9,12.9-12.9 c7.1,0,12.9,5.8,12.9,12.9V118.8z\" />\n          </g>\n          <g>\n            <path d=\"M151.2,170.6c7.1,0,12.9,5.8,12.9,12.9c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9v-12.9H151.2z\" />\n            <path d=\"M151.2,164.1c-7.1,0-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9h32.3c7.1,0,12.9,5.8,12.9,12.9 c0,7.1-5.8,12.9-12.9,12.9H151.2z\" />\n          </g>\n        </g>\n      </svg>\n    </SvgIcon>\n  )\n}\n\nexport default SlackIcon\n","// @flow\n\nimport React, { useState } from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport DownloadIcon from \"@material-ui/icons/GetApp\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport HeaderPopupBox from \"../HeaderPopupBox\"\n\nimport { useTranslation } from \"react-i18next\"\n\nconst Container = styled(\"div\")({\n  position: \"relative\",\n  \"& .icon\": {\n    color: colors.grey[300],\n  },\n})\n\nconst StyledButton = styled(Button)({\n  justifyContent: \"flex-start\",\n  \"& .fakeicon\": {\n    display: \"inline-block\",\n    marginRight: 8,\n    padding: 4,\n    textAlign: \"center\",\n    paddingTop: 5,\n    fontSize: 11,\n    fontWeight: \"bold\",\n    color: \"#fff\",\n    backgroundColor: colors.grey[700],\n    borderRadius: 4,\n    width: 36,\n    \"&.blue\": {\n      backgroundColor: colors.blue[700],\n    },\n    \"&.green\": {\n      backgroundColor: colors.green[700],\n    },\n    \"&.orange\": {\n      backgroundColor: colors.orange[700],\n    },\n  },\n})\n\nexport default ({ interfaceType, onDownload }) => {\n  const [open, changeOpen] = useState(false)\n  const { t } = useTranslation()\n\n  return (\n    <Container\n      onMouseEnter={() => changeOpen(true)}\n      onMouseLeave={() => changeOpen(false)}\n    >\n      <IconButton>\n        <DownloadIcon className=\"icon\" />\n      </IconButton>\n      <HeaderPopupBox open={open}>\n        <h1>{t(\"download\")}</h1>\n        <StyledButton fullWidth onClick={() => onDownload(\"csv\")}>\n          <div className=\"fakeicon green\">CSV</div>\n          {t(\"download-csv\")}\n        </StyledButton>\n        <StyledButton fullWidth onClick={() => onDownload(\"json\")}>\n          <div className=\"fakeicon blue\">JSON</div>\n          {t(\"download-json\")}\n        </StyledButton>\n        <StyledButton\n          fullWidth\n          target=\"_blank\"\n          href=\"https://universaldatatool.com/convert\"\n        >\n          <div className=\"fakeicon orange\"></div>\n          {t(\"other-formats\")}\n        </StyledButton>\n      </HeaderPopupBox>\n    </Container>\n  )\n}\n","// @flow weak\n\nimport React, { memo } from \"react\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\nimport AppsIcon from \"@material-ui/icons/Apps\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport CollaborateButton from \"../CollaborateButton\"\nimport InfoButton from \"../InfoButton\"\nimport Button from \"@material-ui/core/Button\"\nimport GithubIcon from \"../Header/GithubIcon\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport BrushButton from \"../BrushButton\"\nimport useAuth from \"../../utils/auth-handlers/use-auth.js\"\nimport SlackIcon from \"./SlackIcon\"\nimport { useTranslation } from \"react-i18next\"\nimport classnames from \"classnames\"\nimport { colors, Tooltip } from \"@material-ui/core\"\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\"\nimport DownloadButton from \"../DownloadButton\"\nimport PowerIcon from \"@material-ui/icons/Power\"\n\nconst capitalize = (s) => {\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    width: 72,\n    height: \"100vh\",\n    boxSizing: \"border-box\",\n    position: \"fixed\",\n    zIndex: 10,\n    top: 0,\n    left: 0,\n    backgroundColor: colors.grey[900],\n  },\n  fakeContainer: {\n    flexShrink: 0,\n    width: 72,\n    height: \"100vh\",\n  },\n  belowTabButtons: {\n    flexGrow: 1,\n    // paddingRight: 8,\n    \"& > *\": {\n      marginTop: 8,\n    },\n  },\n  headerButton: {\n    color: colors.grey[300],\n  },\n  grow: { flexGrow: 1 },\n  list: {\n    width: 300,\n  },\n  tabContainer: {\n    width: \"100%\",\n    boxSizing: \"border-box\",\n    textAlign: \"right\",\n    \"& .MuiTab-wrapper\": {\n      paddingLeft: 8,\n    },\n  },\n  tab: {\n    color: \"#000\",\n    \"& .icon\": {},\n    \"&.Mui-selected\": {\n      \"& .icon\": {\n        color: colors.blue[500],\n      },\n    },\n  },\n  fullHeightTab: {\n    ...theme.mixins.toolbar,\n    minWidth: 20,\n  },\n  tabWrapper: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    textTransform: \"none\",\n    color: colors.grey[300],\n    \"&&& svg\": {\n      marginBottom: 0,\n      marginRight: 8,\n      width: 24,\n      height: 24,\n    },\n  },\n}))\n\nconst getIcon = (t, tooltip) => {\n  switch (t) {\n    case \"Setup\":\n      return <SettingsIcon className=\"icon\" />\n    case \"Label\":\n      return <BorderColorIcon className=\"icon\" />\n    case \"Samples\":\n      return <AppsIcon className=\"icon\" />\n    default:\n      return <div></div>\n  }\n}\n\nconst HeaderToolbar = ({\n  tabs,\n  currentTab,\n  onChangeTab,\n  additionalButtons,\n  onOpenDrawer,\n  interfaceType,\n  isDesktop,\n  fileOpen,\n  sessionBoxOpen,\n  changeSessionBoxOpen,\n  inSession,\n  onCreateSession,\n  onLeaveSession,\n  onJoinSession,\n  onClickHome,\n  onDownload,\n  selectedBrush,\n  onChangeSelectedBrush,\n  isSmall,\n  authConfig,\n  changeLoginDrawerOpen,\n  onClickManagePlugins,\n  collaborateError,\n  isWelcomePage,\n}) => {\n  const c = useStyles()\n  const { authProvider, isLoggedIn, logout } = useAuth()\n  const { t } = useTranslation()\n\n  return (\n    <>\n      <div className={c.fakeContainer} />\n      <div className={classnames(c.container)}>\n        <div className={c.tabContainer}>\n          {tabs.length > 0 && (\n            <Tabs\n              orientation=\"vertical\"\n              onChange={(e, newTab) => onChangeTab(newTab.toLowerCase())}\n              value={currentTab}\n            >\n              {tabs.map((name) => (\n                <Tab\n                  id={`tab-${name.toLowerCase()}`}\n                  key={name}\n                  classes={{ root: c.fullHeightTab, wrapper: c.tabWrapper }}\n                  className={c.tab}\n                  icon={\n                    <Tooltip title={t(name)} placement=\"right\">\n                      {getIcon(name)}\n                    </Tooltip>\n                  }\n                  // label={isSmall ? \"\" : t}\n                  value={name.toLowerCase()}\n                />\n              ))}\n            </Tabs>\n          )}\n        </div>\n        <div className={c.belowTabButtons}>\n          {fileOpen && <InfoButton />}\n          <CollaborateButton\n            sessionBoxOpen={sessionBoxOpen}\n            changeSessionBoxOpen={changeSessionBoxOpen}\n            fileOpen={fileOpen}\n            inSession={inSession}\n            onCreateSession={onCreateSession}\n            onLeaveSession={onLeaveSession}\n            onJoinSession={onJoinSession}\n            error={collaborateError}\n          />\n          {!isDesktop && fileOpen && (\n            <DownloadButton\n              interfaceType={interfaceType}\n              onDownload={onDownload}\n            />\n          )}\n          {fileOpen && (\n            <BrushButton\n              selectedBrush={selectedBrush}\n              onChangeSelectedBrush={onChangeSelectedBrush}\n            />\n          )}\n          {additionalButtons}\n          {authProvider !== \"none\" && !isLoggedIn && (\n            <Button\n              onClick={() => {\n                changeLoginDrawerOpen(true)\n              }}\n              className={c.headerButton}\n            >\n              {t(\"login-with\")} {capitalize(authProvider)}\n            </Button>\n          )}\n          {isLoggedIn && (\n            <Button onClick={logout} className={c.headerButton}>\n              {t(\"logout\")}\n            </Button>\n          )}\n        </div>\n        {isWelcomePage && (\n          <Tooltip placement=\"right\" title={t(\"Manage Plugins\")}>\n            <IconButton\n              onClick={onClickManagePlugins}\n              className={c.headerButton}\n            >\n              <PowerIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n        {!isWelcomePage && (\n          <Tooltip placement=\"right\" title={t(\"Exit to Welcome Page\")}>\n            <IconButton onClick={onClickHome} className={c.headerButton}>\n              <ExitToAppIcon style={{ transform: \"rotate(180deg)\" }} />\n            </IconButton>\n          </Tooltip>\n        )}\n        <IconButton\n          href=\"https://github.com/UniversalDataTool/universal-data-tool\"\n          className={c.headerButton}\n          target=\"_blank\"\n        >\n          <GithubIcon />\n        </IconButton>\n        {!isSmall && isWelcomePage && (\n          <IconButton\n            href=\"https://join.slack.com/t/universaldatatool/shared_invite/zt-d8teykwi-iOSOUfxugKR~M4AJN6VL3g\"\n            className={c.headerButton}\n          >\n            <SlackIcon />\n          </IconButton>\n        )}\n      </div>\n    </>\n  )\n}\n\nexport default memo(HeaderToolbar)\n","// @flow\nimport React from \"react\"\nimport ImageSearch from \"@material-ui/icons/ImageSearch\"\nimport Image from \"@material-ui/icons/Image\"\nimport CropFree from \"@material-ui/icons/CropFree\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Category from \"@material-ui/icons/Category\"\nimport ThreeDRotation from \"@material-ui/icons/ThreeDRotation\"\nimport OndemandVideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport ContactSupport from \"@material-ui/icons/ContactSupport\"\nimport LowPriority from \"@material-ui/icons/LowPriority\"\nimport AccessibilityNewIcon from \"@material-ui/icons/AccessibilityNew\"\nimport TimelineIcon from \"@material-ui/icons/Timeline\"\n\nexport const templates = [\n  {\n    name: \"Empty\",\n    Icon: CropFree,\n    dataset: {\n      interface: {},\n      samples: [],\n    },\n  },\n  {\n    name: \"Image Segmentation\",\n    Icon: ImageSearch,\n    dataset: {\n      interface: {\n        type: \"image_segmentation\",\n        labels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\n          \"bounding-box\",\n          \"polygon\",\n          // \"full-segmentation\",\n          \"point\",\n          // \"pixel-mask\"\n        ],\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Image Classification\",\n    Icon: Image,\n    dataset: {\n      interface: {\n        type: \"image_classification\",\n        labels: [\"valid\", \"invalid\"],\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Video Segmentation\",\n    Icon: OndemandVideoIcon,\n    dataset: {\n      interface: {\n        type: \"video_segmentation\",\n        labels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\"bounding-box\", \"polygon\", \"point\"],\n      },\n      samples: [\n        {\n          videoUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/SampleVideo_1280x720_1mb.mp4\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Data Entry\",\n    Icon: Edit,\n    dataset: {\n      interface: {\n        type: \"data_entry\",\n        description: \"# Markdown description here\",\n        surveyjs: {\n          questions: [\n            {\n              type: \"text\",\n              name: \"document_title\",\n              title: \"Title of Document\",\n            },\n          ],\n        },\n      },\n      samples: [\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1906.01969.pdf\",\n        },\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1908.07069.pdf\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Named Entity Recognition\",\n    Icon: TextFormat,\n    dataset: {\n      interface: {\n        type: \"text_entity_recognition\",\n        overlapAllowed: false,\n        labels: [\n          {\n            id: \"food\",\n            displayName: \"Food\",\n            description: \"Edible item.\",\n          },\n          {\n            id: \"hat\",\n            displayName: \"Hat\",\n            description: \"Something worn on the head.\",\n          },\n        ],\n      },\n      samples: [\n        {\n          document:\n            \"This strainer makes a great hat, I'll wear it while I serve spaghetti!\",\n        },\n        {\n          document: \"Why are all these dumpings covered in butter?!\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Text Entity Relations\",\n    Icon: ({ ...props }) => (\n      <LowPriority\n        {...props}\n        style={{ ...props.style, transform: \"rotate(90deg)\" }}\n      />\n    ),\n    dataset: {\n      interface: {\n        type: \"text_entity_relations\",\n        entityLabels: [\n          {\n            id: \"food\",\n            displayName: \"Food\",\n            description: \"Edible item.\",\n          },\n          {\n            id: \"hat\",\n            displayName: \"Hat\",\n            description: \"Something worn on the head.\",\n          },\n        ],\n        relationLabels: [\n          {\n            id: \"subject\",\n            displayName: \"Subject\",\n          },\n        ],\n      },\n      samples: [\n        {\n          document:\n            \"This strainer makes a great hat, I'll wear it while I serve spaghetti!\",\n        },\n        {\n          document: \"Why are all these dumpings covered in butter?!\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Text Classification\",\n    Icon: ContactSupport,\n    dataset: {\n      interface: {\n        type: \"text_classification\",\n        labels: [\"positive_sentiment\", \"negative_sentiment\"],\n      },\n      samples: [\n        {\n          document: \"Wow this is terrible. I hated it.\",\n        },\n        {\n          document: \"This has made me so happy. I love this.\",\n        },\n        {\n          document:\n            \"At first I wasn't sure. Then I thought, oh it's not very good.\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Audio Transcription\",\n    Icon: Audiotrack,\n    dataset: {\n      interface: {\n        type: \"audio_transcription\",\n        description: \"# Markdown description here\",\n      },\n      samples: [\n        {\n          audioUrl: \"https://html5tutorial.info/media/vincent.mp3\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Composite\",\n    Icon: Category,\n    dataset: {\n      description: \"# Markdown description here\",\n      interface: {\n        type: \"composite\",\n        fields: [\n          {\n            fieldName: \"textInfo\",\n            interface: {\n              type: \"data_entry\",\n              surveyjs: {\n                questions: [\n                  {\n                    type: \"text\",\n                    name: \"group_letter\",\n                    title: \"Letter of Group\",\n                  },\n                ],\n              },\n            },\n          },\n          {\n            fieldName: \"segmentation\",\n            interface: {\n              type: \"image_segmentation\",\n              labels: [\"group text\"],\n              regionTypesAllowed: [\"bounding-box\"],\n            },\n          },\n        ],\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Pixel Segmentation\",\n    Icon: ImageSearch,\n    dataset: {\n      interface: {\n        type: \"image_pixel_segmentation\",\n        labels: [\"hair\", \"mouth\", \"nose\", \"eyes\"],\n        description: \"These are AI-generated faces, not real people.\",\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/datasets.workaround.online/faces/010041.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/datasets.workaround.online/faces/010026.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/datasets.workaround.online/faces/010025.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Image Landmark Annotation\",\n    Icon: AccessibilityNewIcon,\n    dataset: {\n      interface: {\n        type: \"image_landmark_annotation\",\n        keypointDefinitions: {\n          human: {\n            landmarks: {\n              nose: {\n                label: \"Nose\",\n                color: \"#f00\",\n                defaultPosition: [0, 0],\n              },\n              leftEye: {\n                label: \"Left Eye\",\n                color: \"#00f\",\n                defaultPosition: [-0.05, -0.05],\n              },\n              leftEar: {\n                label: \"Left Ear\",\n                color: \"#0ff\",\n                defaultPosition: [-0.1, -0.05],\n              },\n              rightEye: {\n                label: \"Left Eye\",\n                color: \"#f0f\",\n                defaultPosition: [0.05, -0.05],\n              },\n              rightEar: {\n                label: \"Left Ear\",\n                color: \"#00f\",\n                defaultPosition: [0.1, -0.05],\n              },\n              sternum: {\n                label: \"Sternum\",\n                color: \"#0f0\",\n                defaultPosition: [0, 0.1],\n              },\n              leftShoulder: {\n                label: \"Left Shoulder\",\n                color: \"#0ff\",\n                defaultPosition: [-0.2, 0.1],\n              },\n              rightShoulder: {\n                label: \"Right Shoulder\",\n                color: \"#00f\",\n                defaultPosition: [0.2, 0.1],\n              },\n              leftElbow: {\n                label: \"Left Elbow\",\n                color: \"#0f0\",\n                defaultPosition: [-0.2, 0.2],\n              },\n              rightElbow: {\n                label: \"Right Elbow\",\n                color: \"#f00\",\n                defaultPosition: [0.2, 0.2],\n              },\n              leftHand: {\n                label: \"Left Hand\",\n                color: \"#00f\",\n                defaultPosition: [-0.2, 0.3],\n              },\n              rightHand: {\n                label: \"Right Hand\",\n                color: \"#f0f\",\n                defaultPosition: [0.2, 0.3],\n              },\n              leftThigh: {\n                label: \"Left Thigh\",\n                color: \"#f00\",\n                defaultPosition: [-0.1, 0.35],\n              },\n              rightThigh: {\n                label: \"Right Thigh\",\n                color: \"#0ff\",\n                defaultPosition: [0.1, 0.35],\n              },\n              leftKnee: {\n                label: \"Left Thigh\",\n                color: \"#ff0\",\n                defaultPosition: [-0.15, 0.45],\n              },\n              rightKnee: {\n                label: \"Right Thigh\",\n                color: \"#0f0\",\n                defaultPosition: [0.15, 0.45],\n              },\n              leftFoot: {\n                label: \"Left Foot\",\n                color: \"#00f\",\n                defaultPosition: [-0.15, 0.55],\n              },\n              rightFoot: {\n                label: \"Right Foot\",\n                color: \"#f00\",\n                defaultPosition: [0.15, 0.55],\n              },\n            },\n            connections: [\n              [\"sternum\", \"nose\"],\n              [\"nose\", \"leftEye\"],\n              [\"leftEye\", \"leftEar\"],\n              [\"nose\", \"rightEye\"],\n              [\"rightEye\", \"rightEar\"],\n              [\"sternum\", \"leftShoulder\"],\n              [\"leftShoulder\", \"leftElbow\"],\n              [\"leftElbow\", \"leftHand\"],\n              [\"sternum\", \"leftThigh\"],\n              [\"leftThigh\", \"leftKnee\"],\n              [\"leftKnee\", \"leftFoot\"],\n              [\"sternum\", \"rightShoulder\"],\n              [\"rightShoulder\", \"rightElbow\"],\n              [\"rightElbow\", \"rightHand\"],\n              [\"sternum\", \"rightThigh\"],\n              [\"rightThigh\", \"rightKnee\"],\n              [\"rightKnee\", \"rightFoot\"],\n            ],\n          },\n        },\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://media.istockphoto.com/photos/businesswoman-picture-id918002786\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Time Series\",\n    Icon: TimelineIcon,\n    dataset: {\n      interface: {\n        type: \"time_series\",\n        timeFormat: \"dates\",\n        enabledTools: [\"create-durations\", \"label-durations\"],\n        durationLabels: [\"@seveibar is speaking\"],\n      },\n      samples: [\n        {\n          // timeData: [\n          //   { time: 0, value: 0 },\n          //   { time: 500, value: 0.75 },\n          //   { time: 1000, value: 1 },\n          // ],\n          audioUrl:\n            \"https://s3.amazonaws.com/datasets.workaround.online/voice-samples/001/voice.mp3\",\n          annotation: {\n            durations: [\n              { start: 500, end: 2000, label: \"@seveibar is speaking\" },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  {\n    name: \"3D Bounding Box\",\n    Icon: ThreeDRotation,\n    dataset: {\n      interface: {\n        type: \"3d_bounding_box\",\n        description: \"3D Bounding Box\",\n      },\n      samples: [{}],\n    },\n  },\n]\n\nexport const templateMap = templates.reduce((acc, t) => {\n  acc[t.name] = t\n  acc[t.dataset.interface.type] = t\n  return acc\n}, {})\n\nexport default templates\n","//@flow weak\n\nimport React, { useCallback } from \"react\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport { useDropzone } from \"react-dropzone\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport { GoMarkGithub } from \"react-icons/go\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport HomeIcon from \"@material-ui/icons/Home\"\nimport { FaTrashAlt } from \"react-icons/fa\"\nimport templates from \"../StartingPage/templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport NoteAddIcon from \"@material-ui/icons/NoteAdd\"\nimport SettingsInputHdmiIcon from \"@material-ui/icons/SettingsInputHdmi\"\nimport { useTranslation } from \"react-i18next\"\n\nconst useStyles = makeStyles({})\n\nexport default ({\n  recentItems,\n  changeRecentItems,\n  onClickHome,\n  onCloseDrawer,\n  onClickManagePlugins,\n  drawerOpen,\n  onOpenFile,\n  onOpenRecentItem,\n  onClickTemplate,\n}) => {\n  const c = useStyles()\n  const { t } = useTranslation()\n\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      onOpenFile(acceptedFiles[0])\n    },\n    [onOpenFile]\n  )\n\n  function onDeleteFile(i) {\n    changeRecentItems(\n      recentItems.filter((oneRecentFile) => oneRecentFile.id !== i)\n    )\n  }\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  return (\n    <Drawer open={drawerOpen} onClose={onCloseDrawer}>\n      <List className={c.list}>\n        <ListItem onClick={onClickHome} button>\n          <ListItemIcon>\n            <HomeIcon />\n          </ListItemIcon>\n          <ListItemText>Home</ListItemText>\n        </ListItem>\n        <ListItem {...getRootProps()} button>\n          <ListItemIcon>\n            <NoteAddIcon />\n          </ListItemIcon>\n          <ListItemText>Open File</ListItemText>\n          <input {...getInputProps()} />\n        </ListItem>\n        {onClickManagePlugins && (\n          <ListItem\n            onClick={() => {\n              onClickManagePlugins()\n              onCloseDrawer()\n            }}\n            button\n          >\n            <ListItemIcon>\n              <SettingsInputHdmiIcon />\n            </ListItemIcon>\n            <ListItemText>Manage Plugins</ListItemText>\n          </ListItem>\n        )}\n        <ListSubheader>Recent Files</ListSubheader>\n        {recentItems.length === 0 ? (\n          <ListItem>\n            <ListItemText\n              style={{ textAlign: \"center\", color: colors.grey[500] }}\n            >\n              {t(\"no-recent-items\")}\n            </ListItemText>\n          </ListItem>\n        ) : (\n          recentItems.map((ri, index) => (\n            <ListItem key={ri.fileName} button>\n              <ListItemIcon\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                <FileIcon />\n              </ListItemIcon>\n              <ListItemText\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                {ri.fileName}\n              </ListItemText>\n              <ListItemIcon\n                onClick={() => {\n                  onDeleteFile(ri.id)\n                }}\n              >\n                <FaTrashAlt />\n              </ListItemIcon>\n            </ListItem>\n          ))\n        )}\n        <ListSubheader>Create From Template</ListSubheader>\n        {templates.map((template) => (\n          <ListItem\n            button\n            key={template.name}\n            onClick={() => onClickTemplate(template)}\n          >\n            <ListItemIcon>\n              <template.Icon />\n            </ListItemIcon>\n            <ListItemText>{template.name}</ListItemText>\n          </ListItem>\n        ))}\n        <ListSubheader>{t(\"explore-more\")}</ListSubheader>\n        {/* <ListItem button>\n      <ListItemIcon>\n        <CodeIcon />\n      </ListItemIcon>\n      <ListItemText>Integrate</ListItemText>\n    </ListItem> */}\n        <ListItem\n          button\n          onClick={() => {\n            window.location.href =\n              \"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n          }}\n        >\n          <ListItemIcon>\n            <GoMarkGithub />\n          </ListItemIcon>\n          <ListItemText>Github</ListItemText>\n        </ListItem>\n      </List>\n    </Drawer>\n  )\n}\n","// @flow weak\n\nimport React, { useState, createContext, useContext, useCallback } from \"react\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\"\nimport LoginDrawer from \"../LoginDrawer\"\nimport CollaborativeDatasetManager from \"udt-dataset-managers/dist/CollaborationServerDatasetManager\"\nimport LocalStorageDatasetManager from \"udt-dataset-managers/dist/LocalStorageDatasetManager\"\nimport useEventCallback from \"use-event-callback\"\nimport { useAppConfig } from \"../AppConfig\"\nimport HeaderWithContainer from \"./HeaderWithContainer\"\n\nimport HeaderToolbar from \"../HeaderToolbar\"\nimport HeaderDrawer from \"../HeaderDrawer\"\n\nimport useOpenTemplate from \"../../hooks/use-open-template\"\nimport useActiveDatasetManager from \"../../hooks/use-active-dataset-manager\"\n\nexport const HeaderContext = createContext({\n  recentItems: [],\n  changeRecentItems: () => null,\n  onClickTemplate: () => null,\n  onClickHome: () => null,\n  onOpenFile: () => null,\n  onOpenRecentItem: () => null,\n  isDesktop: false,\n  sessionBoxOpen: false,\n  changeSessionBoxOpen: () => null,\n  fileOpen: false,\n  onDownload: () => null,\n  authConfig: null,\n  onUserChange: () => null,\n  user: null,\n  logoutUser: () => null,\n})\n\nconst emptyArray = []\n\nexport const Header = ({\n  additionalButtons = emptyArray,\n  title,\n  currentTab,\n  onChangeTab,\n  tabs = emptyArray,\n}) => {\n  const [drawerOpen, changeDrawerOpen] = useState(false)\n  const [loginDrawerOpen, changeLoginDrawerOpen] = useState(false)\n  const { fromConfig } = useAppConfig()\n  let headerContext = useContext(HeaderContext)\n  const openTemplate = useOpenTemplate()\n  if (!headerContext.recentItems) headerContext.recentItems = []\n\n  const isSmall = useMediaQuery(\"(max-width: 800px)\")\n\n  const onOpenDrawer = useCallback(() => changeDrawerOpen(true), [])\n  const onCloseDrawer = useCallback(() => changeDrawerOpen(false), [])\n  const [dm, setActiveDatasetManager] = useActiveDatasetManager()\n  const onCreateSession = useEventCallback(async () => {\n    const previousUDTJSON = dm\n      ? await dm.getDataset()\n      : { interface: {}, samples: [] }\n    const newDM = new CollaborativeDatasetManager({\n      serverUrl: fromConfig(\"collaborationServer.url\"),\n    })\n    try {\n      await newDM.setDataset(previousUDTJSON)\n    } catch (e) {\n      console.log(`Couldn't create collaborative session: ${e.toString()}`)\n    }\n    window.history.replaceState(\n      null,\n      null,\n      `?s=${encodeURIComponent(newDM.sessionId)}`\n    )\n    setActiveDatasetManager(newDM)\n  })\n\n  const onJoinSession = useEventCallback(async (sessionId) => {\n    const sessionUrl = new URL(sessionId)\n    async function goIntoCollaborativeSession(sessionId) {\n      const dm = new CollaborativeDatasetManager({\n        serverUrl: fromConfig(\"collaborationServer.url\"),\n      })\n      await dm.loadSession(sessionId)\n      window.history.replaceState(\n        null,\n        null,\n        `?s=${encodeURIComponent(dm.sessionId)}`\n      )\n      setActiveDatasetManager(dm)\n    }\n    if (sessionUrl.searchParams.get(\"s\")) {\n      goIntoCollaborativeSession(sessionUrl.searchParams.get(\"s\"))\n    }\n  })\n\n  const onLeaveSession = useEventCallback(async () => {\n    if (dm) {\n      const ds = await dm.getDataset()\n      const newDM = new LocalStorageDatasetManager()\n      await newDM.setDataset(ds)\n      setActiveDatasetManager(newDM)\n    }\n  })\n\n  return (\n    <>\n      <HeaderToolbar\n        key=\"headerToolbar\"\n        tabs={tabs}\n        currentTab={currentTab}\n        onChangeTab={onChangeTab}\n        additionalButtons={additionalButtons}\n        onOpenDrawer={onOpenDrawer}\n        isSmall={isSmall}\n        {...headerContext}\n        inSession={dm && dm.type === \"collaborative-session\"}\n        onJoinSession={onJoinSession}\n        onCreateSession={onCreateSession}\n        onLeaveSession={onLeaveSession}\n        changeLoginDrawerOpen={changeLoginDrawerOpen}\n        title={title}\n      />\n      <HeaderDrawer\n        key=\"headerDrawer\"\n        drawerOpen={drawerOpen}\n        onCloseDrawer={onCloseDrawer}\n        onClickHome={headerContext.onClickHome}\n        onClickManagePlugins={headerContext.onClickManagePlugins}\n        recentItems={headerContext.recentItems}\n        changeRecentItems={headerContext.changeRecentItems}\n        onOpenFile={headerContext.onOpenFile}\n        onClickTemplate={openTemplate}\n        onOpenRecentItem={headerContext.onOpenRecentItem}\n      />\n      <LoginDrawer\n        key=\"loginDrawer\"\n        authConfig={headerContext.authConfig}\n        loginDrawerOpen={loginDrawerOpen}\n        onClose={() => changeLoginDrawerOpen(false)}\n        onUserChange={headerContext.onUserChange}\n        logoutUser={headerContext.logoutUser}\n      />\n    </>\n  )\n}\n\nexport { HeaderWithContainer }\n\nexport default Header\n","import LocalStorageDatasetManager from \"udt-dataset-managers/dist/LocalStorageDatasetManager\"\n\nimport useActiveDatasetManager from \"../use-active-dataset-manager\"\nimport useEventCallback from \"use-event-callback\"\n\nexport default () => {\n  const [, setActiveDatasetManager] = useActiveDatasetManager()\n  return useEventCallback((template) => {\n    const dm = new LocalStorageDatasetManager()\n    dm.setDataset(template.dataset)\n    setActiveDatasetManager(dm)\n  })\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport FullScreenIcon from \"@material-ui/icons/Fullscreen\"\nimport FullScreenExitIcon from \"@material-ui/icons/FullscreenExit\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Button from \"@material-ui/core/Button\"\nimport { grey, blue, red } from \"@material-ui/core/colors\"\nimport ReactMarkdown from \"react-markdown\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { useTranslation } from \"react-i18next\"\n\nconst StyledDialogTitle = styled(DialogTitle)({\n  backgroundColor: grey[100],\n  borderBottom: `1px solid ${grey[300]}`,\n  paddingBottom: 12,\n  boxShadow: \"0px 2px 3px rgba(0,0,0,0.05)\",\n})\nconst StyledDialogContent = styled(DialogContent)({\n  paddingTop: 16,\n})\nconst StyledDialogActions = styled(DialogActions)({\n  backgroundColor: grey[100],\n  borderTop: `1px solid ${grey[300]}`,\n})\n\nexport default ({\n  open = false,\n  title,\n  children,\n  markdownContent,\n  onClose,\n  red: redOn,\n  noActionBar = false,\n  actions = [],\n}) => {\n  const [fullScreen, changeFullScreen] = useState(false)\n  const { t } = useTranslation()\n  return (\n    <Dialog open={open} onClose={onClose} fullScreen={fullScreen}>\n      <StyledDialogTitle>\n        <Box display=\"flex\" alignItems=\"center\">\n          <span style={{ color: redOn ? red[700] : undefined }}>{title}</span>\n          <div style={{ flexGrow: 1 }} />\n          <IconButton onClick={() => changeFullScreen(!fullScreen)}>\n            {fullScreen ? <FullScreenExitIcon /> : <FullScreenIcon />}\n          </IconButton>\n          <IconButton onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </StyledDialogTitle>\n      <StyledDialogContent>\n        <Box maxWidth=\"90vw\" minWidth={400} lineHeight={1.5}>\n          {markdownContent ? (\n            <ReactMarkdown source={markdownContent} />\n          ) : (\n            children\n          )}\n        </Box>\n      </StyledDialogContent>\n      {!noActionBar && (\n        <StyledDialogActions>\n          <Button onClick={() => onClose()}>\n            <span style={{ color: grey[700], fontWeight: 500 }}>\n              {t(\"close\")}\n            </span>\n          </Button>\n          {actions.map((action, i) => (\n            <Button disabled={action.disabled} key={i} onClick={action.onClick}>\n              <span\n                style={{\n                  color: redOn\n                    ? red[700]\n                    : action.disabled\n                    ? grey[400]\n                    : blue[700],\n                  fontWeight: 500,\n                }}\n              >\n                {action.text}\n              </span>\n            </Button>\n          ))}\n        </StyledDialogActions>\n      )}\n    </Dialog>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport templates from \"../StartingPage/templates\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nconst useStyles = makeStyles({\n  bigButton: {\n    padding: 10,\n    width: 150,\n    height: 120,\n    border: \"1px solid #ccc\",\n    margin: 10,\n  },\n  bigIcon: {\n    width: 48,\n    height: 48,\n  },\n})\n\nexport default ({ open, onClose, onSelect }) => {\n  const c = useStyles()\n  return (\n    <SimpleDialog title=\"Create from Template\" open={open} onClose={onClose}>\n      {templates.map((template) => (\n        <Button\n          key={template.name}\n          onClick={() => onSelect(template)}\n          className={c.bigButton}\n        >\n          <div>\n            <div>{template.name}</div>\n            <div>\n              <template.Icon className={c.bigIcon} />\n            </div>\n          </div>\n        </Button>\n      ))}\n    </SimpleDialog>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nconst CognitoIcon = (props) => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 75 75\">\n      <g id=\"Reference\">\n        <rect\n          id=\"Red_Light_BG\"\n          data-name=\"Red Light BG\"\n          style={{ fill: \"#d6242d\" }}\n          width=\"75\"\n          height=\"75\"\n        />\n        <g id=\"Product_Icon\" data-name=\"Product Icon\">\n          <path\n            style={{ fill: \"#fff\" }}\n            d=\"M55,15H16.46a3.92,3.92,0,0,0-3.71,4.1v24.8A3.92,3.92,0,0,0,16.46,48H37.75V46H16.46a2,2,0,0,1-1.71-2.1V27h18V42a1,1,0,0,0,1,1h8V41H35.2V40.7a7.74,7.74,0,0,1,5.53-7.43,5.91,5.91,0,0,0,4.92,0,7.82,7.82,0,0,1,4.42,3.42l1.7-1v0a9.8,9.8,0,0,0-4.34-3.82,5.4,5.4,0,0,0,1.27-3.48,5.5,5.5,0,0,0-11,0A5.42,5.42,0,0,0,39,31.8a9.67,9.67,0,0,0-4.22,3.62V22h17v13.7h0V36h2V27h3V37h2l0-17.9A3.92,3.92,0,0,0,55,15ZM43.2,24.87a3.48,3.48,0,0,1,3.5,3.46,3.43,3.43,0,0,1-1.81,3,3.57,3.57,0,0,1-3.39,0,3.44,3.44,0,0,1-1.8-3A3.48,3.48,0,0,1,43.2,24.87ZM53.75,25V21a1,1,0,0,0-1-1h-19a1,1,0,0,0-1,1v4h-18v-5.9A2,2,0,0,1,16.46,17H55a2,2,0,0,1,1.73,2.1V25Z\"\n          />\n          <rect\n            style={{ fill: \"#fff\" }}\n            x=\"16.77\"\n            y=\"31.95\"\n            width=\"10.98\"\n            height=\"2\"\n          />\n          <rect\n            style={{ fill: \"#fff\" }}\n            x=\"16.77\"\n            y=\"36.95\"\n            width=\"6.98\"\n            height=\"2\"\n          />\n          <rect\n            style={{ fill: \"#fff\" }}\n            x=\"25.77\"\n            y=\"36.95\"\n            width=\"2.98\"\n            height=\"2\"\n          />\n          <path style={{ fill: \"#fff\" }} d=\"M51.78,35.65h0v0Z\" />\n          <path\n            style={{ fill: \"#fff\" }}\n            d=\"M52.14,60.05a10.11,10.11,0,1,1,1.22-20.14h0a10.12,10.12,0,0,1,6.46,16.61,10.47,10.47,0,0,1-3.37,2.57A10.19,10.19,0,0,1,52.14,60.05Zm0-18.22a8,8,0,0,0-3.69.9,8.11,8.11,0,0,0,7.16,14.55,8.2,8.2,0,0,0,2.71-2.07,8.11,8.11,0,0,0-5.19-13.32h0A8.22,8.22,0,0,0,52.12,41.83Z\"\n          />\n          <path\n            style={{ fill: \"#fff\" }}\n            d=\"M50.55,54.2h0a1,1,0,0,1-.71-.29l-3.23-3.23L48,49.27l2.52,2.52,5.7-5.71,1.42,1.42-6.42,6.41A1,1,0,0,1,50.55,54.2Z\"\n          />\n          <path style={{ fill: \"#fff\" }} d=\"M51.78,35.65h0v0Z\" />\n        </g>\n      </g>\n    </SvgIcon>\n  )\n}\n\nexport default CognitoIcon\n","// @flow\nimport CognitoIcon from \"./cognito-icon.js\"\nimport SdStorageOutlinedIcon from \"@material-ui/icons/SdStorageOutlined\"\nimport AccountTreeIcon from \"@material-ui/icons/AccountTree\"\n\nexport default [\n  {\n    name: \"AWS - Cognito\",\n    provider: \"cognito\",\n    Icon: CognitoIcon,\n  },\n  {\n    name: \"AWS - S3 (IAM)\",\n    provider: \"s3iam\",\n    Icon: SdStorageOutlinedIcon,\n  },\n  {\n    name: \"Proxy\",\n    provider: \"proxy\",\n    Icon: AccountTreeIcon,\n  },\n]\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { red } from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n    pointerEvents: \"none\",\n  },\n  errorBox: {\n    display: \"flex\",\n    backgroundColor: red[700],\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4,\n  },\n})\n\nexport default ({ errors }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      {errors.map((err) => (\n        <Collapse key={err.id} in={err.life < 5000}>\n          <Fade in={err.life > 500}>\n            <div className={c.errorBox}>{err.message}</div>\n          </Fade>\n        </Collapse>\n      ))}\n    </div>\n  )\n}\n","// @flow\n\nimport { useState, useEffect } from \"react\"\n\nconst REFRESH_INTERVAL = 100\n\nexport default () => {\n  const [errors, changeErrors] = useState([])\n  useEffect(() => {\n    if (errors.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeErrors(\n        errors\n          .map((err) => ({\n            ...err,\n            life: err.life - REFRESH_INTERVAL,\n          }))\n          .filter((err) => err.life > 0)\n      )\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [errors])\n\n  function addError(message: string) {\n    changeErrors(\n      errors.concat([\n        {\n          id: Math.random().toString().split(\".\")[1],\n          message,\n          life: 5000,\n        },\n      ])\n    )\n  }\n\n  return [errors, addError]\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport authTemplates from \"./authTemplates\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport isEmpty from \"lodash/isEmpty\"\nimport Survey from \"material-survey/components/Survey\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../hooks/use-errors.js\"\nimport Amplify from \"aws-amplify\"\nimport { useAppConfig } from \"../AppConfig\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { useTranslation } from \"react-i18next\"\n\nconst useStyles = makeStyles({\n  bigButton: {\n    padding: 10,\n    width: 150,\n    height: 120,\n    border: \"1px solid #ccc\",\n    margin: 10,\n  },\n  bigIcon: {\n    width: 48,\n    height: 48,\n  },\n  cognitoIcon: {\n    width: 48,\n    height: 48,\n  },\n  howToSetupText: {\n    padding: 16,\n    color: colors.grey[600],\n    \"& a\": {\n      color: colors.blue[500],\n      textDecoration: \"none\",\n    },\n  },\n})\n\nconst forms = {\n  cognito: {\n    questions: [\n      {\n        name: \"auth.cognito.identityPoolId\",\n        title: \"Amazon Cognito Identity Pool ID\",\n        placeholder: \"XX-XXXX-X:XXXXXXXX-XXXX-1234-abcd-1234567890ab\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.region\",\n        title: \"AWS Region\",\n        placeholder: \"XX-XXXX-X\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.userPoolId\",\n        title: \"Amazon Cognito User Pool ID\",\n        placeholder: \"XX-XXXX-X_12ab34cd9\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.userPoolWebClientId\",\n        title: \"Amazon Cognito Web Client ID\",\n        placeholder: \"26-char alphanumeric string\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.storage.awsS3.bucket\",\n        title: \"Bucket AWS\",\n        placeholder: \"Name of the bucket\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.storage.awsS3.region\",\n        title: \"Region of the bucket\",\n        placeholder: \"XX-XXXX-X\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.password.minimumLength\",\n        title: \"Minimum lenght of password\",\n        type: \"text\",\n        isRequired: true,\n        validators: [\n          {\n            maxValue: 99,\n            minValue: 6,\n            text: \"Cognito allows password length to be between 6 and 99\",\n            type: \"numeric\",\n          },\n        ],\n      },\n      {\n        name: \"auth.cognito.password.requireLowercase\",\n        title: \"Require a lowercase letter in password\",\n        type: \"boolean\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.password.requireUppercase\",\n        title: \"Require a uppercase letter in password\",\n        type: \"boolean\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.password.requireNumbers\",\n        title: \"Require a number in password\",\n        type: \"boolean\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.password.requireSymbols\",\n        title: \"Require a symbol in password\",\n        type: \"boolean\",\n        isRequired: true,\n      },\n    ],\n  },\n  s3iam: {\n    questions: [\n      {\n        name: \"auth.s3iam.accessKeyId\",\n        title: \"Access Key ID\",\n        placeholder: \"\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.s3iam.secretAccessKey\",\n        title: \"Secret Access Key\",\n        placeholder: \"\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.s3iam.region\",\n        title: \"Region\",\n        placeholder: \"us-east-1\",\n        type: \"text\",\n        isRequired: true,\n      },\n    ],\n  },\n  proxy: {\n    questions: [\n      {\n        name: \"auth.proxy.corsproxy\",\n        type: \"text\",\n        title: \"CORS Proxy\",\n        description:\n          \"Some requests for images or APIs (like AWS S3) are blocked by browsers for security reasons, this CORs proxy will be used to enable blocked functionality when not using the desktop application.\",\n      },\n    ],\n  },\n}\n\nexport default ({ open, onClose, onSelect, onFinish, onAuthConfigured }) => {\n  const c = useStyles()\n  const { t } = useTranslation()\n  const [authProvider, setAuthProvider] = useState(null)\n  const [dialogTitle, setDialogTitle] = useState(t(\"add-authentication\"))\n  const [errors, addError] = useErrors()\n  const { appConfig, setAppConfig, fromConfig, setInConfig } = useAppConfig()\n\n  const getDefaultsFromConfig = (form) => {\n    const questionIds = form.questions.map((q) => q.name)\n    const defaults = {}\n    for (const questionId of questionIds) {\n      const configValue = fromConfig(questionId)\n      if (configValue !== undefined) {\n        defaults[questionId] = configValue\n      }\n    }\n    return defaults\n  }\n\n  // TODO useAppConfig to load in existing configuration\n\n  const validateAuthProvider = async (answers) => {\n    if (answers.provider === \"cognito\") {\n      const config = {\n        Auth: {\n          identityPoolId: answers[\"auth.cognito.identityPoolId\"],\n          region: answers[\"auth.cognito.region\"],\n          userPoolId: answers[\"auth.cognito.userPoolId\"],\n          userPoolWebClientId: answers[\"auth.cognito.userPoolWebClientId\"],\n          mandatorySignIn: true,\n          authenticationFlowType: \"USER_PASSWORD_AUTH\",\n          minimumLength: answers[\"auth.cognito.password.minimumLength\"],\n          requireNumbers: answers[\"auth.cognito.password.requireNumbers\"],\n          requireSymbols: answers[\"auth.cognito.password.requireSymbols\"],\n          requireUppercase: answers[\"auth.cognito.password.requireUppercase\"],\n          requireLowercase: answers[\"auth.cognito.password.requireLowercase\"],\n        },\n        Storage: {\n          AWSS3: {\n            bucket: answers[\"auth.cognito.storage.awsS3.bucket\"],\n            region: answers[\"auth.cognito.storage.awsS3.region\"],\n          },\n        },\n      }\n\n      try {\n        Amplify.configure(config)\n      } catch (err) {\n        addError(\"Invalid Cognito config: \" + err.toString())\n      }\n    }\n    setAppConfig({\n      ...appConfig,\n      ...answers,\n      \"auth.provider\": answers.provider,\n    })\n    // TODO some kind of success message\n    onClose()\n    setAuthProvider(null)\n  }\n\n  return (\n    <>\n      <SimpleDialog\n        title={dialogTitle}\n        open={open}\n        onClose={() => {\n          onClose()\n        }}\n        onFinish={onFinish}\n      >\n        {isEmpty(authProvider) &&\n          authTemplates.map((template, i) => (\n            <Button\n              key={template.name}\n              onClick={() => {\n                setAuthProvider(template.provider)\n                setDialogTitle(`${t(\"add-authentication\")} ${template.name}`)\n              }}\n              className={c.bigButton}\n            >\n              <div>\n                <div>{template.name}</div>\n                <div>\n                  <template.Icon className={c.cognitoIcon} />\n                </div>\n              </div>\n            </Button>\n          ))}\n        {authProvider === \"cognito\" && (\n          <div className={c.howToSetupText}>\n            {t(\"check-this-wiki\")}{\" \"}\n            <a href=\"https://github.com/UniversalDataTool/universal-data-tool/wiki/Cognito---Amplify-Authentication-Setup-Instructions\">\n              {t(\"guide-to-set-up-cognito\")}\n            </a>\n            .\n          </div>\n        )}\n        {!isEmpty(authProvider) && forms[authProvider] && (\n          <Survey\n            variant=\"flat\"\n            form={forms[authProvider]}\n            onQuestionChange={(questionId, newValue) => {\n              setInConfig(questionId, newValue)\n            }}\n            completeText={t(\"complete\")}\n            onFinish={(answers) => {\n              answers[\"provider\"] = authProvider\n              validateAuthProvider(answers)\n            }}\n            defaultAnswers={{\n              ...getDefaultsFromConfig(forms[authProvider]),\n              \"auth.provider\": fromConfig(\"auth.provider\"),\n            }}\n          />\n        )}\n        <ErrorToasts errors={errors} />\n      </SimpleDialog>\n    </>\n  )\n}\n","export default (url) => {\n  const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/\n  const match = url.match(regExp)\n\n  const id = match && match[2].length === 11 ? match[2] : null\n\n  if (!id) return null\n\n  return `https://youtube.com/embed/${id}`\n}\n","export default () => {\n  if (window.require) {\n    return Boolean(window.require(\"electron\"))\n  }\n  return false\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { HeaderWithContainer } from \"../Header\"\nimport templates from \"./templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { useDropzone } from \"react-dropzone\"\nimport CreateFromTemplateDialog from \"../CreateFromTemplateDialog\"\nimport AddAuthFromTemplateDialog from \"../AddAuthFromTemplateDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport usePosthog from \"../../hooks/use-posthog\"\nimport packageInfo from \"../../../package.json\"\nimport useEventCallback from \"use-event-callback\"\nimport Box from \"@material-ui/core/Box\"\nimport Select from \"react-select\"\nimport { useTranslation } from \"react-i18next\"\nimport getEmbedYoutubeUrl from \"./get-embed-youtube-url.js\"\nimport packageJSON from \"../../../package.json\"\nimport Button from \"@material-ui/core/Button\"\nimport GetAppIcon from \"@material-ui/icons/GetApp\"\nimport useIsDesktop from \"../../hooks/use-is-desktop\"\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: colors.grey[900],\n    height: \"100vh\",\n  },\n  headerButton: {\n    fontSize: 12,\n    backgroundColor: \"#fff\",\n  },\n  downloadIcon: {\n    marginTop: 2,\n    width: 18,\n    height: 18,\n    marginRight: 4,\n    marginLeft: -6,\n    color: colors.grey[700],\n  },\n  languageSelectionWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    textAlign: \"center\",\n  },\n  languageSelectionBox: {\n    display: \"flex\",\n    paddingTop: 24,\n    [theme.breakpoints.up(\"sm\")]: {\n      justifyContent: \"flex-end\",\n    },\n  },\n}))\n\nconst ContentContainer = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  flexGrow: 1,\n  color: \"#fff\",\n  overflowY: \"scroll\",\n  padding: 100,\n  [theme.breakpoints.down(\"sm\")]: {\n    padding: 50,\n  },\n}))\nconst Content = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  flexDirection: \"column\",\n  width: \"calc(100% - 32px)\",\n  marginLeft: 16,\n  maxWidth: 1000,\n}))\n\nconst Title = styled(\"div\")({\n  marginTop: 20,\n  fontSize: 36,\n  fontWeight: 600,\n  color: colors.grey[300],\n})\n\nconst languageSelectionFormStyle = {\n  input: (base) => ({\n    ...base,\n    color: \"#e0e0e0\",\n  }),\n  control: (base, state) => ({\n    ...base,\n    border: \"1px solid #9e9e9e\",\n    background: \"transparent\",\n    color: \"#e0e0e0\",\n  }),\n  menuList: (base) => ({\n    ...base,\n    padding: 0,\n    margin: 0,\n    color: \"black\",\n  }),\n  singleValue: (base) => ({\n    ...base,\n    color: \"white\",\n  }),\n}\n\nconst Subtitle = styled(\"div\")({\n  fontSize: 18,\n  // fontWeight: \"bold\",\n  marginTop: 8,\n  color: colors.grey[500],\n})\nconst ActionList = styled(\"div\")({ marginTop: 48 })\nconst Action = styled(\"a\")({\n  display: \"block\",\n  color: colors.blue[500],\n  marginTop: 4,\n  cursor: \"pointer\",\n  textDecoration: \"none\",\n})\nconst ActionTitle = styled(\"div\")({\n  // fontWeight: \"bold\",\n  fontSize: 24,\n  marginBottom: 8,\n  color: colors.grey[500],\n})\nconst ActionText = styled(\"div\")({\n  color: colors.grey[300],\n  \"& a\": {\n    cursor: \"pointer\",\n    color: colors.blue[500],\n    textDecoration: \"none\",\n  },\n})\nconst Actionless = styled(\"div\")({\n  color: colors.grey[600],\n  paddingTop: 16,\n})\n\nconst BottomSpacer = styled(\"div\")({ height: 100 })\n\nconst languageOptions = [\n  { label: \"English\", value: \"en\" },\n  { label: \"French\", value: \"fr\" },\n  { label: \"Chinese\", value: \"cn\" },\n  { label: \"Portuguese\", value: \"pt\" },\n  { label: \"Dutch\", value: \"nl\" },\n]\n\nexport default ({\n  onFileDrop,\n  onOpenTemplate,\n  showDownloadLink = true,\n  recentItems = [],\n  onOpenRecentItem,\n  onClickOpenSession,\n}) => {\n  const c = useStyles()\n  const posthog = usePosthog()\n\n  // internalization hook\n  const { t, i18n } = useTranslation()\n\n  const isDesktop = useIsDesktop()\n  // eslint-disable-next-line\n  const [newVersionAvailable, changeNewVersionAvailable] = useState(false)\n  useEffect(() => {\n    // if (!isDesktop) return\n    async function checkNewVersion() {\n      const newPackage = await fetch(\n        \"https://raw.githubusercontent.com/UniversalDataTool/universal-data-tool/master/package.json\"\n      ).then((r) => r.json())\n      if (newPackage.version !== packageInfo.version) {\n        changeNewVersionAvailable(newPackage.version)\n      }\n    }\n    checkNewVersion()\n  }, [])\n\n  const [latestCommunityUpdate, setLatestCommunityUpdate] = useState(null)\n  useEffect(() => {\n    async function getLatestREADME() {\n      const readme = await fetch(\n        \"https://raw.githubusercontent.com/UniversalDataTool/universal-data-tool/master/README.md\"\n      ).then((r) => r.text())\n      const startCU = readme.search(\"COMMUNITY-UPDATE:START\")\n      const endCU = readme.search(\"COMMUNITY-UPDATE:END\")\n      const communityUpdates = readme\n        .slice(startCU, endCU)\n        .split(\"\\n\")\n        .slice(1, -1)\n        .filter((line) => line.trim() !== \"\")\n      const latestYtLink = communityUpdates[0].match(/\\((.*)\\)/)[1]\n      setLatestCommunityUpdate({\n        name: communityUpdates[0].match(/\\[(.*)\\]/)[1],\n        ytLink: latestYtLink,\n        embedYTLink: getEmbedYoutubeUrl(latestYtLink),\n      })\n    }\n    getLatestREADME()\n  }, [])\n\n  const [\n    createFromTemplateDialogOpen,\n    changeCreateFromTemplateDialogOpen,\n  ] = useState(false)\n  const [addAuthFromDialogOpen, changeAddAuthFromDialogOpen] = useState(false)\n  const onDrop = useEventCallback((acceptedFiles) => {\n    onFileDrop(acceptedFiles[0])\n  })\n\n  const changeLanguage = (language) => {\n    i18n.changeLanguage(language)\n  }\n\n  let { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  return (\n    <div className={c.container}>\n      <HeaderWithContainer>\n        <ContentContainer>\n          <Content>\n            <Grid container>\n              <Grid xs={12} sm={6} item>\n                <Title>Universal Data Tool</Title>\n                <Subtitle>{t(\"universaldatatool-description\")}</Subtitle>\n                <Subtitle>v{packageJSON.version}</Subtitle>\n              </Grid>\n              <Grid xs={12} sm={6} item>\n                <Box className={c.languageSelectionBox}>\n                  <Box\n                    width=\"100%\"\n                    maxWidth={200}\n                    className={c.languageSelectionWrapper}\n                  >\n                    <Select\n                      id=\"language-list\"\n                      styles={languageSelectionFormStyle}\n                      defaultValue={languageOptions.filter(\n                        (lang) => lang.value === i18n.language\n                      )}\n                      options={languageOptions}\n                      onChange={({ value }) => changeLanguage(value)}\n                    />\n                  </Box>\n                </Box>\n              </Grid>\n              <Grid xs={12} sm={6} item>\n                <ActionList>\n                  <ActionTitle>{t(\"start\")}</ActionTitle>\n                  <Action\n                    onClick={() => {\n                      posthog.capture(\"template_clicked\", {\n                        clicked_template: \"empty\",\n                      })\n                      onOpenTemplate(templates.find((t) => t.name === \"Empty\"))\n                    }}\n                  >\n                    {t(\"new-file\")}\n                  </Action>\n                  <Action\n                    onClick={() => changeCreateFromTemplateDialogOpen(true)}\n                  >\n                    {t(\"start-from-template\")}\n                  </Action>\n                  <Action {...getRootProps()}>\n                    <input {...getInputProps()} />\n                    {t(\"open-file\")}\n                  </Action>\n                  {onClickOpenSession && (\n                    <Action onClick={onClickOpenSession}>\n                      {t(\"open-collaborative-session\")}\n                    </Action>\n                  )}\n                  <Action onClick={() => changeAddAuthFromDialogOpen(true)}>\n                    {t(\"add-authentication\")}\n                  </Action>\n                  <Action\n                    onClick={() => {\n                      window.location.href =\n                        \"https://universaldatatool.com/courses\"\n                    }}\n                  >\n                    {t(\"create-training-course\")}\n                  </Action>\n                  {/* <Action>Open Folder</Action> */}\n                </ActionList>\n                <ActionList>\n                  <ActionTitle>{t(\"recent\")}</ActionTitle>\n                  {recentItems.length === 0 ? (\n                    <Actionless>{t(\"no-recent-files\")}</Actionless>\n                  ) : (\n                    recentItems.map((ri, i) => (\n                      <Action key={i} onClick={() => onOpenRecentItem(ri)}>\n                        {ri.fileName}\n                      </Action>\n                    ))\n                  )}\n                </ActionList>\n                <ActionList>\n                  <ActionTitle>{t(\"help\")}</ActionTitle>\n                  <Action href=\"https://github.com/UniversalDataTool/universal-data-tool/releases\">\n                    {t(\"downloading-and-installing-udt\")}\n                  </Action>\n                  <Action href=\"https://dev.to/seveibar/make-bounding-boxes-for-artificial-intelligence-with-udt-1kai\">\n                    {t(\"labeling-images\")}\n                  </Action>\n                  {/* <Action>Custom Data Entry</Action> */}\n                  <Action href=\"https://github.com/UniversalDataTool/universal-data-tool\">\n                    {t(\"github-repository\")}\n                  </Action>\n                  <Action href=\"https://www.youtube.com/channel/UCgFkrRN7CLt7_iTa2WDjf2g\">\n                    {t(\"youtube-channel\")}\n                  </Action>\n\n                  {/* <Action href=\"#\">\n                  How to Collaborate in Real-Time with UDT\n                </Action> */}\n                </ActionList>\n              </Grid>\n              <Grid xs={12} sm={6} item>\n                {newVersionAvailable && isDesktop && (\n                  <Button\n                    variant=\"outlined\"\n                    key=\"download-latest\"\n                    className={c.headerButton}\n                    href=\"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n                  >\n                    <GetAppIcon className={c.downloadIcon} />\n                    {t(\"Download Version\")} v{newVersionAvailable}\n                  </Button>\n                )}\n                <ActionList>\n                  <ActionTitle>{t(\"about\")}</ActionTitle>\n                  <ActionText>\n                    {t(\"start-page-about-first-paragraph\")}\n                    <br />\n                    <br />\n                    {t(\"start-page-about-second-paragraph\")}\n                    <br />\n                    <br />\n                    {t(\"the-udt-uses-an\")}{\" \"}\n                    <a href=\"https://github.com/UniversalDataTool/udt-format\">\n                      open-source data format (.udt.json / .udt.csv)\n                    </a>{\" \"}\n                    {t(\"start-page-about-third-paragraph\")}\n                    <br />\n                    <br />\n                  </ActionText>\n                </ActionList>\n                <ActionList>\n                  {latestCommunityUpdate && (\n                    <>\n                      <ActionTitle>{latestCommunityUpdate.name}</ActionTitle>\n                      <iframe\n                        title={latestCommunityUpdate.name}\n                        width=\"320\"\n                        height=\"178\"\n                        // src=\"https://www.youtube.com/embed/QW-s4XVK3Ok\"\n                        src={latestCommunityUpdate.embedYTLink}\n                        frameBorder=\"0\"\n                        allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                        allowFullScreen\n                      ></iframe>\n                    </>\n                  )}\n                  {/* <ActionText>\n                  <Action\n                    style={{ display: \"inline\" }}\n                    onClick={() => changeCreateFromTemplateDialogOpen(true)}\n                  >\n                    {t(\"open-a-template\")}\n                  </Action>{\" \"}\n                  {t(\"to-see-how-the-udt-could-work-for-your-data\")}\n                </ActionText> */}\n                </ActionList>\n              </Grid>\n              <Grid xs={12} sm={6} item>\n                <BottomSpacer />\n              </Grid>\n            </Grid>\n          </Content>\n        </ContentContainer>\n      </HeaderWithContainer>\n      <CreateFromTemplateDialog\n        open={createFromTemplateDialogOpen}\n        onSelect={(template) => {\n          posthog.capture(\"template_clicked\", {\n            clicked_template: template.name,\n          })\n          onOpenTemplate(template)\n        }}\n        onClose={() => changeCreateFromTemplateDialogOpen(false)}\n      />\n      <AddAuthFromTemplateDialog\n        open={addAuthFromDialogOpen}\n        onSelect={(template) => onOpenTemplate(template)}\n        onClose={() => changeAddAuthFromDialogOpen(false)}\n      />\n    </div>\n  )\n}\n","// @flow weak\n\nimport React, { memo, useCallback, useReducer, useEffect } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport { useLocalStorage } from \"react-use\"\nimport { styled } from \"@material-ui/core/styles\"\nimport range from \"lodash/range\"\nimport * as colors from \"@material-ui/core/colors\"\nimport classNames from \"classnames\"\nimport TablePagination from \"@material-ui/core/TablePagination\"\nimport Box from \"@material-ui/core/Box\"\nimport getBrushColorPalette from \"../../utils/get-brush-color-palette\"\n\nconst Container = styled(\"div\")({\n  flexWrap: \"wrap\",\n  height: \"100%\",\n  boxSizing: \"border-box\",\n  display: \"flex\",\n  flexDirection: \"column\",\n})\nconst EmptyState = styled(\"div\")({\n  fontSize: 24,\n  color: colors.grey[500],\n  padding: 30,\n  textAlign: \"center\",\n})\nconst SampleDiv = styled(\"div\")(({ color }) => ({\n  color: \"#fff\",\n  fontVariantNumeric: \"tabular-nums\",\n  margin: 4,\n  padding: 4,\n  backgroundColor: color[500],\n  display: \"inline-flex\",\n  fontSize: 14,\n  fontWeight: 500,\n  textAlign: \"center\",\n  justifyContent: \"center\",\n  minWidth: \"3em\",\n  borderRadius: 3,\n  cursor: \"pointer\",\n  userSelect: \"none\",\n  transition:\n    \"box-shadow 200ms ease, transform 200ms ease, background-color 200ms ease\",\n  \"&:hover\": {\n    backgroundColor: color[700],\n  },\n  // color: color.isFaded ? \"#000\" : \"#fff\",\n  \"&.selected\": {\n    backgroundColor: color[700],\n    boxShadow: `0px 0px 2px 1px ${color[\"A200\"]}`,\n    transform: \"scale(1.05,1.05)\",\n  },\n}))\n\nconst Sample = memo(\n  ({\n    index,\n    onClick,\n    completed,\n    selected,\n    onMouseDown,\n    onMouseUp,\n    onMouseEnter,\n    brush,\n  }) => {\n    return (\n      <SampleDiv\n        className={classNames({ completed, selected })}\n        onClick={() => onClick(index)}\n        onMouseDown={() => onMouseDown(index)}\n        onMouseUp={() => onMouseUp(index)}\n        onMouseEnter={() => onMouseEnter(index)}\n        color={getBrushColorPalette(brush)}\n      >\n        {index}\n      </SampleDiv>\n    )\n  },\n  function (p, n) {\n    return (\n      p.index === n.index &&\n      p.completed === n.completed &&\n      p.selected === n.selected &&\n      p.brush === n.brush\n    )\n  }\n)\n\nexport default ({ samples, onClick, tablePaginationPadding = 0 }) => {\n  const [samplesPerPage, changeSamplesPerPage] = useLocalStorage(\n    \"samplesPerPage\",\n    100\n  )\n  const [sampleOffset, changeSampleOffset] = useLocalStorage(\"sampleOffset\", 0)\n\n  useEffect(() => {\n    if (sampleOffset > samples.length) {\n      changeSampleOffset(0)\n    }\n  }, [changeSampleOffset, sampleOffset, samples.length])\n\n  const [selectRange, changeSelectRange] = useReducer((state, newValue) => {\n    if (newValue === null) return null\n    if (typeof newValue === \"number\") {\n      if (!state) return null\n      return [Math.min(newValue, state[0]), Math.max(newValue + 1, state[1])]\n    }\n    return newValue\n  }, null)\n\n  const startSelectRange = useCallback(\n    (index) => changeSelectRange([index, index + 1]),\n    [changeSelectRange]\n  )\n  const moveSelectRange = useCallback((index) => changeSelectRange(index), [\n    changeSelectRange,\n  ])\n  const endSelectRange = useCallback(() => {}, [])\n  const checkAndNullifySelectRange = useCallback(\n    (e) => {\n      if (e.buttons !== 1) {\n        changeSelectRange(null)\n      }\n    },\n    [changeSelectRange]\n  )\n  const onClickMemo = useEventCallback(onClick)\n\n  return (\n    <Container\n      onMouseUp={checkAndNullifySelectRange}\n      onMouseEnter={checkAndNullifySelectRange}\n    >\n      {samples.length === 0 && (\n        <EmptyState>\n          No samples, try using \"Import Toy Dataset\" in Samples > Import\n        </EmptyState>\n      )}\n      <Box flexGrow={1}>\n        {range(\n          sampleOffset,\n          Math.min(samples.length, sampleOffset + samplesPerPage)\n        ).map((i) => (\n          <Sample\n            onClick={onClickMemo}\n            key={i}\n            index={i}\n            completed={samples[i]?.hasAnnotation}\n            brush={\n              samples[i]?.hasAnnotation\n                ? samples[i].brush || \"complete\"\n                : \"incomplete\"\n            }\n            selected={selectRange && i >= selectRange[0] && i < selectRange[1]}\n            onMouseDown={startSelectRange}\n            onMouseEnter={moveSelectRange}\n            onMouseUp={endSelectRange}\n          />\n        ))}\n        {sampleOffset + samplesPerPage < samples.length && (\n          <>\n            {range(3).map((i) => (\n              <Sample\n                onClick={() => {\n                  changeSampleOffset(sampleOffset + samplesPerPage)\n                }}\n                key={sampleOffset + samplesPerPage + i}\n                selected={false}\n                brush={`ellipsis${i + 1}`}\n                index={sampleOffset + samplesPerPage + i}\n                completed={false}\n                onMouseEnter={() => {}}\n                onMouseDown={() => {}}\n                onMouseUp={() => {}}\n              />\n            ))}\n            <Box textAlign=\"center\" marginTop=\"16px\" color={colors.grey[700]}>\n              More Samples on Next Page\n            </Box>\n          </>\n        )}\n      </Box>\n      <Box paddingRight={tablePaginationPadding}>\n        <TablePagination\n          rowsPerPageOptions={[100, 250, 500, 1000, 2000, 10000]}\n          component=\"div\"\n          count={samples.length}\n          rowsPerPage={samplesPerPage}\n          page={Math.floor(sampleOffset / samplesPerPage)}\n          labelRowsPerPage=\"Samples per Page:\"\n          onChangePage={(e, newPage) =>\n            changeSampleOffset(newPage * samplesPerPage)\n          }\n          onChangeRowsPerPage={(e) => {\n            changeSampleOffset(0)\n            changeSamplesPerPage(+e.target.value)\n          }}\n        />\n      </Box>\n    </Container>\n  )\n}\n","export default (s, opts = {}) => {\n  let extension = s.replace(/\\?.*/g, \"\").split(\".\").slice(-1)[0]\n  if (s.includes(\"gstatic.com/images\")) {\n    extension = \"jpg\"\n  }\n  switch (extension.toLowerCase()) {\n    case \"png\":\n    case \"jpg\":\n    case \"gif\":\n    case \"jpeg\":\n    case \"bmp\": {\n      return { imageUrl: s }\n    }\n    case \"pdf\": {\n      return { pdfUrl: s }\n    }\n    case \"mp3\":\n    case \"wav\": {\n      return { audioUrl: s }\n    }\n    default: {\n      if (opts.returnNulls) return null\n      throw new Error(`extension not recognized: \"${extension}\" in \"${s}\"`)\n      // TODO if the user doesn't care, return null (this\n      // behavior could be enabled with textfield option)\n    }\n  }\n}\n","// @flow weak\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Select from \"react-select\"\nimport * as colors from \"@material-ui/core/colors\"\nimport getSampleFromUrl from \"./get-sample-from-url\"\n\nconst SelectContainer = styled(\"div\")({\n  marginTop: 8,\n  marginBottom: 16,\n})\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\nconst ErrorText = styled(\"div\")({\n  color: colors.red[600],\n  padding: 16,\n})\n\nconst autoDetectOptions = [\n  {\n    label: \"Auto Detect File Type\",\n    value: \"auto_detect\",\n  },\n  {\n    label: \"Image URLs\",\n    value: \"images\",\n  },\n]\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const [content, changeContent] = useState(\"\")\n  const [urlType, changeURLType] = useState(\"auto_detect\")\n  const [error, setError] = useState(\"\")\n  return (\n    <SimpleDialog\n      title=\"Paste Urls\"\n      open={open}\n      onClose={onClose}\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            try {\n              onAddSamples(\n                content\n                  .split(\"\\n\")\n                  .map((l) => l.trim())\n                  .filter(Boolean)\n                  .map((s) =>\n                    urlType === \"images\"\n                      ? { imageUrl: s }\n                      : getSampleFromUrl(s, { returnNulls: true })\n                  )\n                  .filter(Boolean)\n              )\n            } catch (e) {\n              setError(e.toString())\n            }\n          },\n        },\n      ]}\n    >\n      <SelectContainer>\n        <Select\n          options={autoDetectOptions}\n          defaultValue={autoDetectOptions[0]}\n          onChange={(opt) => {\n            changeURLType(opt.value)\n          }}\n        />\n      </SelectContainer>\n      {error && <ErrorText>{error}</ErrorText>}\n      <TextArea\n        onChange={(e, v) => changeContent(e.target.value)}\n        placeholder={\"Paste URLs here\\nOne URL per line\"}\n      />\n    </SimpleDialog>\n  )\n}\n","import React, { useEffect, useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport DataTable from \"react-data-table-component\"\nimport useActiveDatasetManager from \"../../hooks/use-active-dataset-manager\"\nimport isEmpty from \"lodash/isEmpty\"\nimport datasetManagerCognito from \"udt-dataset-managers/dist/CognitoDatasetManager\"\nimport useAuth from \"../../utils/auth-handlers/use-auth\"\nimport { Grid, TextField } from \"@material-ui/core\"\nimport { useTranslation } from \"react-i18next\"\nconst orangeText = { color: \"orange\" }\n\nconst customStyles = {\n  headCells: {\n    style: {\n      paddingLeft: \"10px\",\n      \"font-weight\": \"bold\",\n    },\n  },\n  cells: {\n    style: {\n      paddingLeft: \"25px\",\n    },\n  },\n}\n\nexport default ({ open, onClose }) => {\n  const [dm, setDm] = useState()\n  const { authConfig } = useAuth()\n  const [projects, setProjects] = useState()\n  const [activeDatasetManager] = useActiveDatasetManager()\n  const [nameProjectToCreate, setNameProjectToCreate] = useState(\"\")\n  const [nameProjectExist, setNameProjectExist] = useState(false)\n  const [currentDataset, setCurrentDataset] = useState()\n  const { t } = useTranslation()\n  const columns = [{ name: t(\"projects\"), selector: \"folder\", sortable: true }]\n  const expandedAnnotationsColumns = [\n    { name: t(\"annotations\"), selector: \"annotation\" },\n    { name: t(\"last-modified\"), selector: \"lastModified\", sortable: true },\n  ]\n  const ExpandedRow = ({ data }) => {\n    const { rowAnnotations } = data\n    return (\n      <>\n        <DataTable\n          style={{\n            boxSizing: \"border-box\",\n            paddingLeft: \"50px\",\n            paddingRight: \"10px\",\n          }}\n          dense\n          striped\n          noHeader\n          columns={expandedAnnotationsColumns}\n          data={rowAnnotations}\n          noDataComponent={t(\"has-samples-folder\")}\n          pagination={rowAnnotations.length > 10}\n          paginationPerPage={10}\n          paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n          customStyles={customStyles}\n        />\n      </>\n    )\n  }\n  const [refreshInterface, setRefreshInterface] = useState(false)\n\n  const getCurrentDataset = async () => {\n    if (currentDataset) return currentDataset\n    setCurrentDataset(await activeDatasetManager.getDataset())\n    setRefreshInterface(true)\n    return currentDataset\n  }\n\n  const getProjectName = () => {\n    if (!currentDataset) return\n    if (!currentDataset.name) return\n    setNameProjectToCreate(currentDataset.name)\n    return currentDataset.name\n  }\n\n  const getProjects = async () => {\n    if (!open) return\n    if (!dm) return\n    if (!(await dm.isReady())) return\n    var dataFolder = Array.from(await dm.getProjects())\n\n    var data = await Promise.all(\n      dataFolder.map(async (obj, index) => {\n        const folder = obj\n        const rowAnnotationsContent = await dm.getListSamples({\n          projectName: obj,\n        })\n        return {\n          id: `${index}`,\n          folder: folder,\n          rowAnnotations: rowAnnotationsContent.map((obj) => {\n            return {\n              annotation: obj.split(\"/samples/\")[1],\n            }\n          }),\n          rowAnnotationsUrl: rowAnnotationsContent,\n          isSelected: false,\n        }\n      })\n    )\n    setProjects(data)\n  }\n  useEffect(() => {\n    if (!open) return\n    if (!authConfig) return\n    if (!dm) setDm(new datasetManagerCognito({ authConfig }))\n    // eslint-disable-next-line\n  }, [dm, open, authConfig])\n\n  useEffect(() => {\n    if (!open) return\n    getCurrentDataset()\n    getProjectName()\n    // eslint-disable-next-line\n  }, [open, refreshInterface])\n\n  useEffect(() => {\n    if (!open) return\n    getProjects()\n    // eslint-disable-next-line\n  }, [open, dm])\n\n  useEffect(() => {\n    if (!projects) return\n    var exist = false\n    for (var i = 0; i < projects.length; i++)\n      if (projects[i].folder === nameProjectToCreate) exist = true\n    setNameProjectExist(exist)\n  }, [nameProjectToCreate, projects])\n\n  const handleCreateProject = async () => {\n    if (!currentDataset) return\n    var dataset = currentDataset\n    dataset = dataset.setIn([\"name\"], nameProjectToCreate)\n    if (nameProjectExist) await dm.removeSamplesFolder(nameProjectToCreate)\n    await dm.setDataset(dataset)\n    await activeDatasetManager.setDataset(dataset)\n    await getProjects()\n    onClose()\n  }\n\n  return (\n    <SimpleDialog\n      title={t(\"export-project\")}\n      open={open}\n      onClose={onClose}\n      actions={[\n        {\n          text: t(\"create-project\"),\n          onClick: () => {\n            handleCreateProject()\n          },\n        },\n      ]}\n    >\n      {\n        <Grid container spacing={0}>\n          <Grid container item xs={12} spacing={0} justify=\"center\">\n            {nameProjectExist ? (\n              <p style={orangeText}>{t(\"warning-project-exist\")}</p>\n            ) : (\n              <p></p>\n            )}\n          </Grid>\n          <Grid container item xs={12} spacing={0} justify=\"center\">\n            <TextField\n              id=\"ProjectName\"\n              label={t(\"project-name\")}\n              variant=\"outlined\"\n              onChange={(event) => {\n                setNameProjectToCreate(event.target.value)\n              }}\n              value={nameProjectToCreate}\n            />\n          </Grid>\n          <Grid container item xs={12} spacing={0} justify=\"center\">\n            {!isEmpty(projects) && (\n              <DataTable\n                expandableRows\n                expandableRowsComponent={<ExpandedRow />}\n                dense\n                noHeader\n                noTableHead\n                columns={columns}\n                selectableRowSelected={(row) => row.isSelected}\n                data={projects}\n                pagination={projects.length > 10}\n                paginationPerPage={10}\n                paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n              />\n            )}\n          </Grid>\n        </Grid>\n      }\n    </SimpleDialog>\n  )\n}\n","import { useEffect, useState } from \"react\"\nimport useActiveDatasetManager from \"../use-active-dataset-manager\"\n\n/*\n\n** IMPORTANT : Try not to use! **\n\nDatasets can be reallllly big and trying to load them into memory can cause\nproblems. Try to use useInterface, useSample, useDatasetProperty or\nuseActiveDatasetManager.\n\n*/\n\nexport default () => {\n  const [dataset, setDataset] = useState({})\n  const [dm] = useActiveDatasetManager()\n\n  useEffect(() => {\n    if (!dm) return\n    async function loadDataset() {\n      setDataset(await dm.getDataset())\n    }\n    dm.on(\"dataset-reloaded\", loadDataset)\n    loadDataset()\n    return () => {\n      dm.off(\"dataset-reloaded\", loadDataset)\n    }\n  }, [dm])\n\n  return [dataset, dm.setDataset]\n}\n","import isEmpty from \"lodash/isEmpty\"\nexport default (typeAuthorize, file) => {\n  const interfaceFileType = (type) => {\n    if (\n      type === \"image_classification\" ||\n      type === \"image_segmentation\" ||\n      type === \"composite\"\n    )\n      return \"Image\"\n    if (type === \"video_segmentation\") return \"Video\"\n    if (type === \"audio_transcription\") return \"Audio\"\n    if (type === \"data_entry\") return \"PDF\"\n    if (type === \"text_entity_recognition\" || type === \"text_classification\")\n      return \"Text\"\n    if (isEmpty(type)) return \"Empty\"\n    return \"File\"\n  }\n\n  const typeAssetsFromSample = (assets) => {\n    if (isEmpty(assets) || isEmpty(assets[0])) return \"Empty\"\n    if (!isEmpty(assets[0].imageUrl)) return \"Image\"\n    if (!isEmpty(assets[0].videoUrl)) return \"Video\"\n    if (!isEmpty(assets[0].audioUrl)) return \"Audio\"\n    if (!isEmpty(assets[0].pdfUrl)) return \"PDF\"\n    if (!isEmpty(assets[0].document)) return \"Text\"\n    return \"File\"\n  }\n\n  var result = [null, null]\n  if (isEmpty(file)) return false\n  result[0] = interfaceFileType(file.interface.type)\n  result[1] = typeAssetsFromSample(file.samples)\n  if (typeAuthorize.includes(result[0]) && typeAuthorize.includes(result[1]))\n    return true\n  return false\n}\n","import isEmpty from \"lodash/isEmpty\"\nimport mime from \"mime-types\"\nexport default (UrlOfAFile) => {\n  var typeOfFile = \"File\"\n  var fileExtension = UrlOfAFile.match(\n    `\\\\/?([^\\\\/\\\\\\\\&\\\\?]*\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n  )\n  if (!isEmpty(fileExtension)) {\n    fileExtension = fileExtension[2].toLowerCase()\n  }\n  if (mime.lookup(fileExtension).match(\"image\\\\/.*\")) typeOfFile = \"Image\"\n  if (mime.lookup(fileExtension).match(\"video\\\\/.*\")) typeOfFile = \"Video\"\n  if (mime.lookup(fileExtension).match(\"audio\\\\/.*\")) typeOfFile = \"Audio\"\n  if (mime.lookup(fileExtension).match(\"application\\\\/pdf\")) typeOfFile = \"PDF\"\n  if (mime.lookup(fileExtension).match(\"text\\\\/.*\")) typeOfFile = \"Text\"\n  return typeOfFile\n}\n","import RecognizeFileExtension from \"../../utils/get-data-url-type\"\nconst setUrl = (result, configImport) => {\n  if (configImport.loadProjectIsSelected) {\n    if (RecognizeFileExtension(result) === \"Image\") {\n      return { imageUrl: `${result}` }\n    } else if (RecognizeFileExtension(result) === \"Video\") {\n      return { videoUrl: `${result}` }\n    } else if (RecognizeFileExtension(result) === \"Audio\") {\n      return { audioUrl: `${result}` }\n    } else if (RecognizeFileExtension(result) === \"PDF\") {\n      return { pdfUrl: `${result}` }\n    } else if (RecognizeFileExtension(result) === \"Text\") {\n      //var text = await fetchTextInFile(result)\n      return { document: `Is not supported` /*${text}`*/ }\n    }\n  } else {\n    if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Image\"\n    ) {\n      return { imageUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Video\"\n    ) {\n      return { videoUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Audio\"\n    ) {\n      return { audioUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"PDF\"\n    ) {\n      return { pdfUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Text\"\n    ) {\n      //var text = await fetchTextInFile(result)\n      return { document: `Is not supported` /*${text}`*/ }\n    }\n  }\n}\nexport default setUrl\n","import React from \"react\"\nimport DataTable from \"react-data-table-component\"\nimport { useTranslation } from \"react-i18next\"\n\nconst customStyles = {\n  headCells: {\n    style: {\n      paddingLeft: \"10px\",\n      \"font-weight\": \"bold\",\n    },\n  },\n  cells: {\n    style: {\n      paddingLeft: \"25px\",\n    },\n  },\n}\n\nconst ExpandedRow = ({ data, loadAssetIsSelected }) => {\n  const { t } = useTranslation()\n  const { rowAssets, rowAnnotations } = data\n  const expandedAssetsColumns = [\n    { name: t(\"assets\"), selector: \"assets\", sortable: true },\n    { name: t(\"last-modified\"), selector: \"lastModified\", sortable: true },\n  ]\n\n  const expandedAnnotationsColumns = [\n    { name: t(\"annotations\"), selector: \"annotation\" },\n    { name: t(\"last-modified\"), selector: \"lastModified\", sortable: true },\n  ]\n  return (\n    <>\n      {!loadAssetIsSelected ? (\n        <DataTable\n          style={{\n            boxSizing: \"border-box\",\n            paddingLeft: \"50px\",\n            paddingRight: \"10px\",\n          }}\n          dense\n          striped\n          noHeader\n          columns={expandedAnnotationsColumns}\n          data={rowAnnotations}\n          noDataComponent={t(\"has-samples-folder\")}\n          pagination={rowAnnotations.length > 10}\n          paginationPerPage={10}\n          paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n          customStyles={customStyles}\n        />\n      ) : (\n        <DataTable\n          style={{\n            boxSizing: \"border-box\",\n            paddingLeft: \"50px\",\n            paddingRight: \"10px\",\n          }}\n          dense\n          striped\n          noHeader\n          columns={expandedAssetsColumns}\n          data={rowAssets}\n          noDataComponent={t(\"has-data-folder\")}\n          pagination={rowAssets.length > 10}\n          paginationPerPage={10}\n          paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n          customStyles={customStyles}\n        />\n      )}\n    </>\n  )\n}\nexport default ExpandedRow\n","import React from \"react\"\nimport {\n  Radio,\n  RadioGroup,\n  FormControl,\n  FormControlLabel,\n  FormLabel,\n  Grid,\n} from \"@material-ui/core/\"\nimport { useTranslation } from \"react-i18next\"\nexport default ({ configImport, setConfigImport }) => {\n  const { t } = useTranslation()\n  return (\n    <Grid container item xs={12} spacing={0} justify=\"center\">\n      {!configImport.loadAssetsIsSelected ? (\n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">{t(\"annotation-processing\")}</FormLabel>\n          <RadioGroup\n            aria-label=\"option1\"\n            onChange={(event) => {\n              setConfigImport({\n                ...configImport,\n                annotationToKeep: event.target.value,\n              })\n            }}\n          >\n            <FormControlLabel\n              value=\"both\"\n              control={<Radio />}\n              label={t(\"keep-both-annotations\")}\n              checked={configImport.annotationToKeep === \"both\"}\n            />\n            <FormControlLabel\n              value=\"incoming\"\n              control={<Radio />}\n              label={t(\"keep-incoming-annotations\")}\n              checked={configImport.annotationToKeep === \"incoming\"}\n            />\n            <FormControlLabel\n              value=\"current\"\n              control={<Radio />}\n              label={t(\"keep-current-annotations\")}\n              checked={configImport.annotationToKeep === \"current\"}\n            />\n          </RadioGroup>\n        </FormControl>\n      ) : (\n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">{t(\"choose-file-type\")}</FormLabel>\n          <RadioGroup\n            aria-label=\"option2\"\n            onChange={(event) => {\n              setConfigImport({\n                ...configImport,\n                typeOfFileToLoad: event.target.value,\n              })\n            }}\n          >\n            <FormControlLabel\n              value=\"Image\"\n              control={<Radio />}\n              label={t(\"load-image-file\")}\n              disabled={configImport.typeOfFileToDisable.Image}\n              checked={configImport.typeOfFileToLoad === \"Image\"}\n            />\n            <FormControlLabel\n              value=\"Video\"\n              control={<Radio />}\n              label={t(\"load-video-file\")}\n              disabled={configImport.typeOfFileToDisable.Video}\n              checked={configImport.typeOfFileToLoad === \"Video\"}\n            />\n            <FormControlLabel\n              value=\"Audio\"\n              control={<Radio />}\n              label={t(\"load-audio-file\")}\n              disabled={configImport.typeOfFileToDisable.Audio}\n              checked={configImport.typeOfFileToLoad === \"Audio\"}\n            />\n            <FormControlLabel\n              value=\"PDF\"\n              control={<Radio />}\n              label={t(\"load-pdf-file\")}\n              disabled={configImport.typeOfFileToDisable.PDF}\n              checked={configImport.typeOfFileToLoad === \"PDF\"}\n            />\n            <FormControlLabel\n              value=\"Text\"\n              control={<Radio />}\n              label={t(\"load-text-file\")}\n              disabled={configImport.typeOfFileToDisable.Text}\n              checked={configImport.typeOfFileToLoad === \"Text\"}\n            />\n          </RadioGroup>\n        </FormControl>\n      )}\n    </Grid>\n  )\n}\n","import React from \"react\"\nimport {\n  Settings as SettingsIcon,\n  Storage as StorageIcon,\n} from \"@material-ui/icons/\"\nimport { useTranslation } from \"react-i18next\"\nimport { Button, IconButton } from \"@material-ui/core/\"\n\nconst selectedStyle = { color: \"DodgerBlue\" }\n\nexport default ({ configImport, setConfigImport }) => {\n  const { t } = useTranslation()\n  const loadAssetsOrAnnotations = () => {\n    setConfigImport({\n      ...configImport,\n      loadAssetsIsSelected: !configImport.loadAssetsIsSelected,\n    })\n  }\n\n  return (\n    <div>\n      {configImport.loadAssetsIsSelected ? (\n        <Button\n          style={selectedStyle}\n          onClick={loadAssetsOrAnnotations}\n          disabled\n        >\n          {t(\"load-assets\")}\n        </Button>\n      ) : (\n        <Button onClick={loadAssetsOrAnnotations}>{t(\"load-assets\")}</Button>\n      )}\n      {configImport.loadAssetsIsSelected ? (\n        <Button onClick={loadAssetsOrAnnotations}>\n          {t(\"load-annotations\")}\n        </Button>\n      ) : (\n        <Button\n          style={selectedStyle}\n          onClick={loadAssetsOrAnnotations}\n          disabled\n        >\n          {t(\"load-annotations\")}\n        </Button>\n      )}\n      <IconButton\n        onClick={() => {\n          setConfigImport({\n            ...configImport,\n            contentDialogBoxIsSetting: !configImport.contentDialogBoxIsSetting,\n          })\n        }}\n      >\n        {configImport.contentDialogBoxIsSetting ? (\n          <StorageIcon></StorageIcon>\n        ) : (\n          <SettingsIcon></SettingsIcon>\n        )}\n      </IconButton>\n    </div>\n  )\n}\n","const ConfigImportIsReady = (projectToFetch, configImport) => {\n  if (!projectToFetch || projectToFetch === \"\") return false\n  if (\n    configImport.loadAssetsIsSelected &&\n    (configImport.typeOfFileToLoad === \"None\" ||\n      configImport.typeOfFileToLoad === undefined)\n  )\n    return false\n\n  return true\n}\nexport default ConfigImportIsReady\n","import React from \"react\"\nconst WarningHeader = ({ configImport, projectToFetch }) => {\n  const orangeText = { color: \"orange\" }\n  var text = ``\n  if (!configImport.isReady) text += `Warning :`\n  else return <p style={orangeText}>{text}</p>\n  if (!projectToFetch || projectToFetch === \"\")\n    text += ` You need to select a project.\\n`\n  if (\n    configImport.loadAssetsIsSelected &&\n    (configImport.typeOfFileToLoad === \"None\" ||\n      configImport.typeOfFileToLoad === undefined)\n  )\n    text += ` You need to select a type of file to load.\\n`\n\n  return (\n    <div style={orangeText}>\n      {text.split(\"\\n\").map((obj, i) => {\n        return <div key={i}>{obj}</div>\n      })}\n    </div>\n  )\n}\nexport default WarningHeader\n","const getSources = (annotations) => {\n  return annotations\n    .map((obj) => obj.source)\n    .filter((source, index, self) => self.indexOf(source) === index)\n}\nexport default getSources\n","import React, { useEffect, useRef, useState, useCallback } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport DataTable from \"react-data-table-component\"\nimport useDataset from \"../../hooks/use-dataset\"\nimport isEmpty from \"lodash/isEmpty\"\nimport datasetManagerCognito from \"udt-dataset-managers/dist/CognitoDatasetManager\"\nimport useAuth from \"../../utils/auth-handlers/use-auth\"\nimport setTypeOfFileToLoadAndDisable from \"./set-type-of-file-to-load-and-disable\"\nimport initConfigImport from \"./init-config-import\"\nimport datasetHasChanged from \"../../utils//dataset-helper/get-files-differences\"\nimport setUrl from \"./set-url\"\nimport { setIn } from \"seamless-immutable\"\nimport ExpandedRow from \"./table-expanded-row\"\nimport SettingImport from \"./interface-setting-import\"\nimport HeaderTableImport from \"./header-table-import\"\nimport { Radio, Grid } from \"@material-ui/core/\"\nimport importConfigIsReady from \"./config-import-is-ready\"\nimport WarningHeader from \"./warning-header\"\nimport getSources from \"./get-sources\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const [dm, setDm] = useState(null)\n  const [oldData] = useDataset()\n  const { authConfig } = useAuth()\n  const [projects, setProjects] = useState()\n  const [projectToFetch, setProjectToFetch] = useState(\"\")\n  const [configImport, setConfigImport] = useState({})\n  const lastObjectRef = useRef({})\n  const { t } = useTranslation()\n  const columns = [{ name: t(\"projects\"), selector: \"folder\", sortable: true }]\n\n  const hasProjectStarted = useCallback(() => {\n    if (!open) return\n    if (\n      isEmpty(oldData) ||\n      (isEmpty(oldData.interface) && isEmpty(oldData.samples))\n    )\n      return false\n    return true\n  }, [oldData, open])\n\n  useEffect(() => {\n    if (!open) return\n    var configToSet = configImport\n\n    var hasChanged = false\n    if (oldData === lastObjectRef.current) {\n      const changes = datasetHasChanged(lastObjectRef.current, oldData)\n      if (changes.interface.type || changes.samples) {\n        configToSet = setTypeOfFileToLoadAndDisable(configToSet, oldData)\n        hasChanged = true\n      }\n    }\n    if (\n      importConfigIsReady(projectToFetch, configImport) !== configImport.isReady\n    ) {\n      configToSet = {\n        ...configToSet,\n        isReady: importConfigIsReady(projectToFetch, configImport),\n      }\n      hasChanged = true\n    }\n    if (hasChanged) {\n      setConfigImport({\n        ...configToSet,\n        projectStarted: hasProjectStarted(),\n      })\n      lastObjectRef.current = oldData\n    }\n  }, [\n    oldData,\n    configImport,\n    setConfigImport,\n    hasProjectStarted,\n    projectToFetch,\n    open,\n  ])\n\n  const handleRowSelected = (whatsChanging) => {\n    if (!open) return\n    if (!isEmpty(whatsChanging.selectedRows[0])) {\n      setProjectToFetch(whatsChanging.selectedRows[0])\n      setProjects((prevState) =>\n        prevState.map((row) => {\n          if (whatsChanging.selectedRows[0].id === row.id) {\n            row.isSelected = true\n          } else {\n            row.isSelected = false\n          }\n          return row\n        })\n      )\n    } else {\n      setProjectToFetch(\"\")\n    }\n  }\n\n  useEffect(() => {\n    if (!open) return\n    if (!authConfig) return\n    if (!dm) setDm(new datasetManagerCognito({ authConfig }))\n  }, [open, authConfig, dm])\n\n  const getProjects = async () => {\n    if (!open) return\n    if (!dm) return\n    if (!(await dm.isReady())) return\n    var dataFolder = Array.from(await dm.getProjects())\n\n    var data = await Promise.all(\n      dataFolder.map(async (obj, index) => {\n        const folder = obj\n        var isSelected = false\n        const rowAnnotationsContent = await dm.getListSamples({\n          projectName: obj,\n        })\n        const rowAssetsContent = await dm.getListAssets({\n          projectName: obj,\n        })\n        if (projectToFetch && projectToFetch.folder === folder)\n          isSelected = true\n        return {\n          id: `${index}`,\n          folder: folder,\n          rowAnnotations: rowAnnotationsContent.map((obj) => {\n            return {\n              annotation: obj.split(\"/samples/\")[1],\n            }\n          }),\n          rowAssets: rowAssetsContent.map((obj) => {\n            return {\n              assets: obj.split(\"/assets/\")[1],\n            }\n          }),\n          rowAnnotationsUrl: rowAnnotationsContent,\n          rowAssetsUrl: rowAssetsContent,\n          isSelected: isSelected,\n        }\n      })\n    )\n    setProjects(data)\n  }\n  const setProject = async () => {\n    if (!open) return\n    if (!dm) return\n    if (!(await dm.isReady())) return\n    if (!projectToFetch) return\n    dm.setProject(projectToFetch.folder)\n  }\n  useEffect(() => {\n    if (!open) return\n    if (!authConfig) return\n    if (!dm) {\n      setDm(new datasetManagerCognito({ authConfig }))\n      setConfigImport(initConfigImport(oldData))\n    }\n  }, [open, authConfig, dm, oldData])\n\n  useEffect(() => {\n    if (!open) return\n    getProjects()\n    // eslint-disable-next-line\n  }, [dm, open])\n\n  useEffect(() => {\n    if (!open) return\n    setProject()\n    // eslint-disable-next-line\n  }, [projectToFetch])\n\n  const createJsonFromAsset = async () => {\n    var jsons = await Promise.all(\n      projectToFetch.rowAssetsUrl.map(async (obj) => {\n        return await createJsonFromUrlAWS(\n          dm.projectName,\n          obj.split(\"/assets/\")[1]\n        )\n      })\n    )\n    onAddSamples(jsons)\n  }\n\n  const createJsonFromUrlAWS = async (projectName, imageName) => {\n    var url = await dm.getAssetUrl(imageName, projectName)\n    var json = setUrl(url, configImport)\n    if (json) json = setIn(json, [\"_id\"], imageName)\n    if (json) json = setIn(json, [\"source\"], projectName)\n    return json\n  }\n\n  const createJsonFromAnnotation = async () => {\n    var jsons = await dm.readJSONAllSamples(projectToFetch.rowAnnotationsUrl)\n    var sources = getSources(jsons)\n    if (sources) {\n      jsons = await Promise.all(\n        jsons.map(async (json) => {\n          if (json.source)\n            json = await createJsonFromUrlAWS(json.source, json._id)\n          return json\n        })\n      )\n    }\n    onAddSamples(jsons)\n  }\n\n  const handleAddSample = async () => {\n    if (configImport.loadAssetsIsSelected) {\n      createJsonFromAsset()\n    } else {\n      createJsonFromAnnotation()\n    }\n  }\n\n  return (\n    <SimpleDialog\n      title={t(\"select-project\")}\n      open={open}\n      onClose={onClose}\n      actions={[\n        {\n          text: t(\"take-samples-from-project\"),\n          onClick: () => {\n            handleAddSample()\n          },\n          disabled: !configImport.isReady,\n        },\n      ]}\n    >\n      <Grid container spacing={0}>\n        <Grid container item xs={12} spacing={0} justify=\"center\">\n          <WarningHeader\n            configImport={configImport}\n            projectToFetch={projectToFetch}\n          />\n        </Grid>\n        <Grid container item xs={12} spacing={0} justify=\"center\">\n          <HeaderTableImport\n            configImport={configImport}\n            setConfigImport={setConfigImport}\n          />\n        </Grid>\n        {!configImport.contentDialogBoxIsSetting ? (\n          !isEmpty(projects) && (\n            <Grid container item xs={12} spacing={0} justify=\"center\">\n              <DataTable\n                expandableRows\n                expandableRowsComponent={\n                  <ExpandedRow\n                    projects={projects}\n                    loadAssetIsSelected={configImport.loadAssetsIsSelected}\n                  />\n                }\n                selectableRows\n                selectableRowsHighlight\n                selectableRowsNoSelectAll\n                selectableRowsComponent={Radio}\n                dense\n                noHeader\n                noTableHead\n                columns={columns}\n                onSelectedRowsChange={handleRowSelected}\n                selectableRowSelected={(row) => row.isSelected}\n                data={projects}\n                pagination={projects.length > 10}\n                paginationPerPage={10}\n                paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n              />\n            </Grid>\n          )\n        ) : (\n          <SettingImport\n            configImport={configImport}\n            setConfigImport={setConfigImport}\n          />\n        )}\n      </Grid>\n    </SimpleDialog>\n  )\n}\n","import isEmpty from \"lodash/isEmpty\"\n\nexport default (objectOfRef, objectToCheck) => {\n  var resultSet = {\n    name: false,\n    interface: {\n      type: false,\n      labels: false,\n      regionTypesAllowed: false,\n    },\n    samples: false,\n    id: false,\n    mode: false,\n    any: false,\n  }\n  // Check if the object to check exist if not return false\n  if (isEmpty(objectToCheck)) return resultSet\n\n  // Check if the object of reference exist if not return true\n  if (isEmpty(objectOfRef)) {\n    resultSet.name = true\n    resultSet.interface.type = true\n    resultSet.interface.labels = true\n    resultSet.interface.regionTypesAllowed = true\n    resultSet.samples = true\n    resultSet.id = true\n    resultSet.mode = true\n    resultSet.any = true\n    return resultSet\n  }\n\n  if (objectOfRef !== objectToCheck) {\n    resultSet.any = true\n  } else {\n    return resultSet\n  }\n\n  // Check if the id doesn't exist or have change\n  if (!isEmpty(objectToCheck.id)) {\n    if (isEmpty(objectOfRef.id)) resultSet.id = true\n    else if (objectToCheck.id !== objectOfRef.id) resultSet.id = true\n  }\n\n  // Check if the content doesn't exist or have change\n  if (!isEmpty(objectToCheck)) {\n    if (isEmpty(objectOfRef)) {\n      resultSet.interface.type = true\n      resultSet.interface.labels = true\n      resultSet.interface.regionTypesAllowed = true\n      resultSet.samples = true\n    } else if (objectToCheck !== objectOfRef) {\n      //Check if the interface doesn't exist or have change\n      if (!isEmpty(objectToCheck.interface)) {\n        if (isEmpty(objectOfRef.interface)) {\n          resultSet.interface.type = true\n          resultSet.interface.labels = true\n          resultSet.interface.regionTypesAllowed = true\n        } else if (objectToCheck.interface !== objectOfRef.interface) {\n          //Check if the type doesn't exist or have change\n          if (!isEmpty(objectToCheck.interface.type)) {\n            if (isEmpty(objectOfRef.interface.type)) {\n              resultSet.interface.type = true\n            } else if (\n              objectToCheck.interface.type !== objectOfRef.interface.type\n            ) {\n              resultSet.interface.type = true\n            }\n          }\n          //Check if the labels doesn't exist or have change\n          if (!isEmpty(objectToCheck.interface.labels)) {\n            if (isEmpty(objectOfRef.interface.labels)) {\n              resultSet.interface.labels = true\n            } else if (\n              objectToCheck.interface.labels !== objectOfRef.interface.labels\n            ) {\n              resultSet.interface.labels = true\n            }\n          }\n          //Check if the regionsTypesAllowed doesn't exist or have change\n          if (!isEmpty(objectToCheck.interface.regionTypesAllowed)) {\n            if (isEmpty(objectOfRef.interface.regionTypesAllowed)) {\n              resultSet.interface.regionTypesAllowed = true\n            } else if (\n              objectToCheck.interface.regionTypesAllowed !==\n              objectOfRef.interface.regionTypesAllowed\n            ) {\n              resultSet.interface.regionTypesAllowed = true\n            }\n          }\n        }\n      }\n      //Check if the samples doesn't exist or have change\n      if (!isEmpty(objectToCheck.samples)) {\n        if (isEmpty(objectOfRef.samples)) {\n          resultSet.samples = true\n        } else if (objectToCheck.samples !== objectOfRef.samples) {\n          resultSet.samples = true\n        }\n      }\n    }\n  }\n\n  // Check if the mode doesn't exist or have change\n  if (!isEmpty(objectToCheck.mode)) {\n    if (isEmpty(objectOfRef.mode)) resultSet.mode = true\n    else if (objectToCheck.mode !== objectOfRef.mode) resultSet.mode = true\n  }\n\n  // Check if the name doesn't exist or have change\n  if (!isEmpty(objectToCheck.name)) {\n    if (isEmpty(objectOfRef.name)) resultSet.name = true\n    else if (objectToCheck.name !== objectOfRef.name) resultSet.name = true\n  }\n  //Default behavior return false\n  return resultSet\n}\n","import isEmpty from \"lodash/isEmpty\"\nimport checkInterfaceAndAssets from \"./check-interface-and-sample-type\"\nexport default (configImport, dataset) => {\n  return {\n    ...configImport,\n    typeOfFileToLoad:\n      !isEmpty(configImport) &&\n      !isEmpty(configImport.typeOfFileToLoad) &&\n      checkInterfaceAndAssets([configImport.typeOfFileToLoad, \"Empty\"], dataset)\n        ? configImport.typeOfFileToLoad\n        : checkInterfaceAndAssets([\"Image\", \"Empty\"], dataset)\n        ? \"Image\"\n        : checkInterfaceAndAssets([\"Video\", \"Empty\"], dataset)\n        ? \"Video\"\n        : checkInterfaceAndAssets([\"Audio\", \"Empty\"], dataset)\n        ? \"Audio\"\n        : checkInterfaceAndAssets([\"PDF\", \"Empty\"], dataset)\n        ? \"PDF\"\n        : checkInterfaceAndAssets([\"Text\", \"Empty\"], dataset)\n        ? \"Text\"\n        : \"None\",\n    typeOfFileToDisable: {\n      Image: checkInterfaceAndAssets([\"Image\", \"Empty\"], dataset)\n        ? false\n        : true,\n      Video: checkInterfaceAndAssets([\"Video\", \"Empty\"], dataset)\n        ? false\n        : true,\n      Audio: checkInterfaceAndAssets([\"Audio\", \"Empty\"], dataset)\n        ? false\n        : true,\n      PDF: checkInterfaceAndAssets([\"PDF\", \"Empty\"], dataset) ? false : true,\n      Text: checkInterfaceAndAssets([\"Text\", \"Empty\"], dataset) ? false : true,\n    },\n  }\n}\n","import checkInterfaceAndsamples from \"./check-interface-and-sample-type\"\nexport default (dataset) => {\n  return {\n    annotationToKeep: \"both\",\n    typeOfFileToLoad: checkInterfaceAndsamples([\"Image\", \"Empty\"], dataset)\n      ? \"Image\"\n      : checkInterfaceAndsamples([\"Video\", \"Empty\"], dataset)\n      ? \"Video\"\n      : checkInterfaceAndsamples([\"Audio\", \"Empty\"], dataset)\n      ? \"Audio\"\n      : checkInterfaceAndsamples([\"PDF\", \"Empty\"], dataset)\n      ? \"PDF\"\n      : checkInterfaceAndsamples([\"Text\", \"Empty\"], dataset)\n      ? \"Text\"\n      : \"None\",\n    typeOfFileToDisable: {\n      Image: !checkInterfaceAndsamples([\"Image\", \"Empty\"], dataset),\n      Video: !checkInterfaceAndsamples([\"Video\", \"Empty\"], dataset),\n      Audio: !checkInterfaceAndsamples([\"Audio\", \"Empty\"], dataset),\n      PDF: !checkInterfaceAndsamples([\"PDF\", \"Empty\"], dataset),\n      Text: !checkInterfaceAndsamples([\"Text\", \"Empty\"], dataset),\n    },\n    loadAssetsIsSelected: true,\n    contentDialogBoxIsSetting: false,\n    projectStarted: false,\n    isReady: false,\n  }\n}\n","import React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nexport default (props) => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 50 50\">\n      <g id=\"Working\">\n        <path\n          style={props.color}\n          d=\"M21.17,42.88H13.76a1,1,0,0,1-1-1v-7.5a1,1,0,0,1,1-1h7.41a1,1,0,0,1,1,1v7.5A1,1,0,0,1,21.17,42.88Zm-6.41-2h5.41v-5.5H14.76Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M31,39.17a5.24,5.24,0,1,1,5.22-5.24A5.23,5.23,0,0,1,31,39.17Zm0-8.48a3.24,3.24,0,1,0,3.22,3.24A3.23,3.23,0,0,0,31,30.69Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M20.22,29.75H10.85a1,1,0,0,1-.87-.51,1,1,0,0,1,0-1l4.69-7.82a1,1,0,0,1,1.71,0l4.69,7.82a1,1,0,0,1,0,1A1,1,0,0,1,20.22,29.75Zm-7.61-2h5.85l-2.92-4.87Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M23.67,48.5c-6.39,0-16.5-1.45-16.63-5.34L2.51,9.55a1,1,0,0,1,2-.39c.5,1.93,8.05,4.63,19.2,4.63s18.69-2.7,19.19-4.63a1,1,0,0,1,2,.39L40.29,43.16c0,1.32-1.22,2.45-3.51,3.36a22.87,22.87,0,0,1-3.12.94A46,46,0,0,1,23.67,48.5ZM4.9,12.27,9,43s0,.09,0,.13c0,1.18,5.69,3.42,14.63,3.42a43.75,43.75,0,0,0,9.54-1A21,21,0,0,0,36,44.66c1.85-.73,2.26-1.39,2.26-1.58V43l4.14-30.68c-3.86,2.3-11.64,3.52-18.77,3.52S8.75,14.57,4.9,12.27Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M23.67,15.79c-9.47,0-20.1-2.15-21.14-6.12,0-.05,0-.09,0-.13l0-.41a.62.62,0,0,1,0-.13c0-4.42,11.18-7.5,21.22-7.5S44.88,4.58,44.88,9v.13l-.06.41a.69.69,0,0,1,0,.13C43.76,13.64,33.13,15.79,23.67,15.79ZM4.48,9.21c.62,1.93,8.14,4.58,19.19,4.58s18.56-2.65,19.18-4.58l0-.27C42.75,7,34.86,3.5,23.67,3.5S4.59,7,4.45,8.94Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M44.93,29.62c-4.76,0-15.18-4.71-21.7-7.91l.88-1.8c9,4.42,19.6,8.52,21.41,7.75-.14-.29-.81-1.19-4-2.92l-.16-.1,1-1.74.15.09c3.21,1.77,4.74,3.13,5,4.41a1.82,1.82,0,0,1-.4,1.52A2.77,2.77,0,0,1,44.93,29.62Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M23.67,23a2.17,2.17,0,1,1,2.17-2.17A2.18,2.18,0,0,1,23.67,23Zm0-2.34a.17.17,0,0,0-.18.17c0,.19.35.19.35,0A.17.17,0,0,0,23.67,20.64Z\"\n        />\n      </g>\n    </SvgIcon>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Box from \"@material-ui/core/Box\"\nimport Button from \"@material-ui/core/Button\"\nimport BucketIcon from \"../ImportPage/S3Icon\"\nimport DirectoryIcon from \"@material-ui/icons/FolderOpen\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport BackIcon from \"@material-ui/icons/KeyboardArrowUp\"\nimport IconButton from \"@material-ui/core/IconButton\"\n\nconst Container = styled(Box)({})\nconst Items = styled(Box)({ height: 300, width: 400, overflowY: \"scroll\" })\nconst Path = styled(Box)({\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n})\nconst Item = styled(Button)({ width: \"100%\" })\n\nexport const S3BucketSelector = ({\n  currentPath,\n  options,\n  canCreateNew,\n  onChangePath,\n  showFiles = true,\n}) => {\n  return (\n    <Container>\n      <Path display=\"flex\" alignItems=\"center\">\n        <IconButton\n          disabled={!currentPath}\n          onClick={() => {\n            const newPath = currentPath.split(\"/\").slice(0, -2).join(\"/\") + \"/\"\n            if (newPath === \"s3://\") {\n              onChangePath(\"\")\n            } else {\n              onChangePath(newPath)\n            }\n          }}\n        >\n          <BackIcon />\n        </IconButton>\n        <Box>{currentPath}</Box>\n      </Path>\n      <Items>\n        {options\n          .filter((option) => (option.type === \"file\" ? showFiles : true))\n          .map((option, i) => (\n            <Item\n              key={i}\n              onClick={() => {\n                if (option.type === \"file\") {\n                  onChangePath(currentPath + option.name)\n                } else {\n                  if (!currentPath) {\n                    onChangePath(`s3://${option.name}/`)\n                  } else {\n                    onChangePath(`${currentPath}${option.name}`)\n                  }\n                }\n              }}\n            >\n              {option.type === \"bucket\" ? (\n                <BucketIcon className=\"icon\" />\n              ) : option.type === \"directory\" ? (\n                <DirectoryIcon className=\"icon\" />\n              ) : (\n                <FileIcon className=\"icon\" />\n              )}\n              <Box\n                flexGrow={1}\n                className=\"text\"\n                textAlign=\"left\"\n                paddingLeft={1}\n              >\n                {option.name}\n              </Box>\n            </Item>\n          ))}\n        {currentPath !== \"\" && canCreateNew && (\n          <Item\n            key=\"create-new\"\n            onClick={() => {\n              // TODO switch to MUI dialog\n              const newDirectory = window.prompt(\n                \"Enter the name of new directory\"\n              )\n              if (newDirectory) {\n                onChangePath(currentPath + newDirectory + \"/\")\n              }\n            }}\n          >\n            <DirectoryIcon className=\"icon\" />\n            <Box flexGrow={1} className=\"text\" textAlign=\"left\" paddingLeft={1}>\n              Create New\n            </Box>\n          </Item>\n        )}\n      </Items>\n    </Container>\n  )\n}\n\nexport default S3BucketSelector\n","import { useMemo } from \"react\"\nimport { useAppConfig } from \"../../components/AppConfig\"\nimport xmlParser from \"fast-xml-parser\"\nimport useIsDesktop from \"../../hooks/use-is-desktop\"\nimport { AwsClient } from \"aws4fetch\"\n\nfunction parseS3URI(s3Path) {\n  const bucket = s3Path.match(/s3:\\/\\/([^/]+)/)[1]\n  const path = s3Path.replace(/s3:\\/\\/[^/]+\\//, \"\")\n  return { bucket, path }\n}\n\nexport default () => {\n  const { appConfig } = useAppConfig()\n  const isDesktop = useIsDesktop()\n  let {\n    \"auth.s3iam.accessKeyId\": accessKeyId,\n    \"auth.s3iam.secretAccessKey\": secretAccessKey,\n    \"auth.s3iam.region\": region,\n    \"auth.proxy.corsproxy\": corsProxy,\n  } = appConfig\n  if (isDesktop) {\n    corsProxy = \"{URL}\"\n  }\n  // TODO if electron don't use CORS proxy\n\n  const awsClient = useMemo(\n    () =>\n      accessKeyId\n        ? new AwsClient({ accessKeyId, secretAccessKey, region, service: \"s3\" })\n        : null,\n    // eslint-disable-next-line\n    []\n  )\n\n  const fetchS3 = async (url, opts = {}) => {\n    const request = await awsClient.sign(url, opts)\n    const corsProxyRequest = new Request(\n      corsProxy.replace(\"{URL}\", encodeURIComponent(request.url)),\n      {\n        headers: request.headers,\n        method: request.method,\n        body: opts.body,\n      }\n    )\n    const response = await fetch(corsProxyRequest).then((r) => r.text())\n    return xmlParser.parse(response)\n  }\n\n  if (!accessKeyId) return {}\n\n  return useMemo(\n    () => ({\n      parseS3URI,\n      listBuckets: () => fetchS3(\"https://s3.amazonaws.com\"),\n      listBucketItemsAt: (s3Path, opts = {}) => {\n        const { bucket, path } = parseS3URI(s3Path)\n        return fetchS3(\n          `https://s3.${region}.amazonaws.com/${bucket}?list-type=2&delimiter=/&prefix=${path}`,\n          {\n            headers: { Host: bucket },\n          }\n        )\n      },\n      putBucketItem: async (s3Path, file) => {\n        const { bucket, path } = parseS3URI(s3Path)\n        const res = await fetchS3(\n          `https://s3.${region}.amazonaws.com/${bucket}/${path}`,\n          {\n            method: \"PUT\",\n            headers: {\n              Host: `s3.amazonaws.com/${bucket}`,\n              \"Content-Type\": file.type,\n              \"x-amz-acl\": \"public-read\",\n            },\n            body: file,\n          }\n        )\n        if (res.Error) {\n          throw new Error(`${res.Error.Code}: ${res.Error.Message}`)\n        }\n        return res\n      },\n    }),\n    // eslint-disable-next-line\n    [awsClient]\n  )\n}\n","import JAC from \"jac-format\"\n\nconst alternativeSpellings = {\n  imageUrl: [\n    \"image_url\",\n    \"image_urls\",\n    \"image\",\n    \"image_src\",\n    \"img_url\",\n    \"img\",\n    \"img_src\",\n  ],\n  document: [\"text\"],\n}\nconst badSpellingMap = {}\nfor (const [correct, badSpellings] of Object.entries(alternativeSpellings)) {\n  for (const badSpelling of badSpellings) {\n    badSpellingMap[badSpelling] = correct\n  }\n}\n\nconst convertTaskDatumMistakes = (sample) => {\n  for (const key in sample) {\n    const normalizedKey = key.toLowerCase().replace(/ /g, \"_\")\n    const correction = badSpellingMap[normalizedKey]\n    if (correction) {\n      sample[correction] = sample[key]\n      delete sample[key]\n    }\n  }\n  return sample\n}\n\nexport default (csv) => {\n  const json = JAC.fromCSV(csv, { derivePath: () => \"samples.*\" })\n  if (!json.samples) throw new Error(\"No samples\")\n  return {\n    interface: json.interface,\n    taskOutput: json.samples.map((sample) => sample.output),\n    samples: json.samples.map(convertTaskDatumMistakes).map((sample) => {\n      delete sample.output\n      return sample\n    }),\n  }\n}\n","import React, { useState, useEffect } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport S3PathSelector from \"../S3PathSelector\"\nimport getSampleFromUrl from \"../PasteUrlsDialog/get-sample-from-url.js\"\n// import { useAppConfig } from \"../AppConfig\"\nimport useIAMS3API from \"../../utils/auth-handlers/use-iam-s3-api\"\n\nexport const ImportFromS3Dialog = ({ open, onClose, onAddSamples }) => {\n  const [error, setError] = useState()\n  const { listBuckets, listBucketItemsAt } = useIAMS3API()\n  const [s3Path, setS3Path] = useState(\"\")\n  const [{ options, optionsLoading }, setOptions] = useState({\n    optionsLoading: true,\n  })\n  useEffect(() => {\n    if (!open) return\n    if (!listBuckets) return\n    async function loadS3Path() {\n      const listedBuckets = await listBuckets()\n      if (listedBuckets.Error) {\n        setError(\n          `Error listing buckets: \\nS3 Said: ${listedBuckets.Error.Message}`\n        )\n        return\n      }\n      if (s3Path === \"\") {\n        setOptions({\n          optionsLoading: false,\n          options: listedBuckets.ListAllMyBucketsResult.Buckets.Bucket.map(\n            (b) => ({\n              name: b.Name,\n              type: \"bucket\",\n            })\n          ),\n        })\n      } else {\n        const itemsAtPathRes = await listBucketItemsAt(s3Path)\n        if (itemsAtPathRes.Error) {\n          setError(\n            `Error listing buckets at path: \\nS3 Said: ${itemsAtPathRes.Error.Message}`\n          )\n          return\n        }\n        setOptions({\n          optionsLoading: false,\n          options: (itemsAtPathRes.ListBucketResult.CommonPrefixes || []).map(\n            (a) => ({\n              name: a.Prefix.split(\"/\").slice(-2).join(\"/\"),\n              type: \"directory\",\n            })\n          ),\n        })\n      }\n    }\n    loadS3Path()\n    // eslint-disable-next-line\n  }, [s3Path, listBuckets, listBucketItemsAt, open])\n  if (!open) return null\n\n  if (error) {\n    return (\n      <SimpleDialog\n        onClose={() => {\n          setError(null)\n        }}\n        open\n        title=\"Error\"\n      >\n        <pre>{error}</pre>\n      </SimpleDialog>\n    )\n  }\n\n  return (\n    <SimpleDialog\n      onClose={onClose}\n      open={open}\n      title=\"Import from S3\"\n      actions={[\n        {\n          onClick: async () => {\n            const bucket = s3Path.match(/s3:\\/\\/([^/]+)/)[1]\n\n            // TODO support more than 1000 file import by using\n            // continuation-token on S3\n            const items = (\n              await listBucketItemsAt(s3Path, { files: true })\n            ).ListBucketResult.Contents.filter(\n              (item) => !item.Key.endsWith(\"/\")\n            )\n              .map((item) => `https://s3.amazonaws.com/${bucket}/${item.Key}`)\n              .map((url) => getSampleFromUrl(url, { returnNulls: true }))\n              .filter(Boolean)\n            onAddSamples(items)\n          },\n          disabled: !s3Path,\n          text: \"Import All Files in Directory\",\n        },\n      ]}\n    >\n      {optionsLoading ? (\n        <Box height={300} width={400} paddingTop={4} textAlign=\"center\">\n          <CircularProgress size={100} />\n        </Box>\n      ) : (\n        <S3PathSelector\n          currentPath={s3Path}\n          options={options || []}\n          onChangePath={(newS3Path) => {\n            setS3Path(newS3Path)\n            setOptions({ optionsLoading: true })\n          }}\n        />\n      )}\n    </SimpleDialog>\n  )\n}\n\nexport default ImportFromS3Dialog\n","import React, { useCallback, useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Box from \"@material-ui/core/Box\"\nimport { useDropzone } from \"react-dropzone\"\n\nconst Container = styled(Box)({\n  width: 400,\n  height: 200,\n  padding: 20,\n  border: `2px dotted ${colors.grey[400]}`,\n  textAlign: \"center\",\n  fontSize: 24,\n})\n\nconst FileCounter = styled(Box)({\n  fontSize: 24,\n  color: colors.grey[700],\n  fontWeight: \"bold\",\n})\n\n/*\n  This component allows you to upload multiple files, then reads the files in\n  serial. It's perfect for an uploading process where you don't want to upload one\n  file at a time. It gives a progress bar indicating upload progres.\n*/\n\nexport const MultiFileDrop = ({ loadFile, onComplete }) => {\n  const [totalUploaded, setTotalUploaded] = useState(0)\n  const [errors, setErrors] = useState([])\n  const [{ totalFiles, filesSelected }, setUploadStartState] = useState({\n    filesSelected: false,\n  })\n  const onDrop = useCallback(async (acceptedFiles) => {\n    setUploadStartState({\n      totalFiles: acceptedFiles.length,\n      filesSelected: true,\n    })\n    const errors = []\n    for (const [index, file] of acceptedFiles.entries()) {\n      await loadFile(file).catch((err) => {\n        errors.push(err.toString())\n        setErrors(errors)\n      })\n      setTotalUploaded(index + 1)\n    }\n    onComplete()\n    // eslint-disable-next-line\n  }, [])\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  if (!filesSelected) {\n    return (\n      <Container {...getRootProps()}>\n        <input {...getInputProps()} />\n        {isDragActive ? (\n          <p>Drop the files here ...</p>\n        ) : (\n          <p>Drag 'n' drop some files here, or click to select files</p>\n        )}\n      </Container>\n    )\n  }\n\n  return (\n    <Container>\n      <FileCounter>\n        {totalUploaded} / {totalFiles} Files Processed\n      </FileCounter>\n      {/* TODO progress bar */}\n      <Box\n        maxHeight={100}\n        overflowY=\"auto\"\n        textAlign=\"left\"\n        color=\"red\"\n        fontSize={12}\n      >\n        {errors.map((err, i) => (\n          <div key={i}>{err}</div>\n        ))}\n      </Box>\n    </Container>\n  )\n}\n\nexport default MultiFileDrop\n","import React, { useState, useEffect, useRef } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport S3PathSelector from \"../S3PathSelector\"\nimport getSampleFromUrl from \"../PasteUrlsDialog/get-sample-from-url.js\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport BackIcon from \"@material-ui/icons/KeyboardArrowLeft\"\n// import { useAppConfig } from \"../AppConfig\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport useIAMS3API from \"../../utils/auth-handlers/use-iam-s3-api\"\nimport MultiFileDrop from \"../MultiFileDrop\"\nimport Stepper from \"@material-ui/core/Stepper\"\nimport Step from \"@material-ui/core/Step\"\nimport StepLabel from \"@material-ui/core/StepLabel\"\n\nconst SelectedPath = styled(\"div\")({\n  fontSize: 14,\n  color: colors.grey[700],\n  fontWeight: \"bold\",\n})\n\nexport const UploadToS3Dialog = ({ open, onClose, onAddSamples }) => {\n  const {\n    listBuckets,\n    listBucketItemsAt,\n    putBucketItem,\n    parseS3URI,\n  } = useIAMS3API()\n  const [complete, setComplete] = useState(false)\n  const uploadedPaths = useRef([])\n  const [s3Path, setS3Path] = useState(\"\")\n  const [activeStep, setActiveStep] = useState(0)\n  const [{ options, optionsLoading }, setOptions] = useState({\n    optionsLoading: true,\n  })\n  useEffect(() => {\n    if (!listBuckets) return\n    if (!open) return\n    async function loadS3Path() {\n      if (s3Path === \"\") {\n        setOptions({\n          optionsLoading: false,\n          options: (\n            await listBuckets()\n          ).ListAllMyBucketsResult.Buckets.Bucket.map((b) => ({\n            name: b.Name,\n            type: \"bucket\",\n          })),\n        })\n      } else {\n        setOptions({\n          optionsLoading: false,\n          options: (\n            (await listBucketItemsAt(s3Path)).ListBucketResult.CommonPrefixes ||\n            []\n          ).map((a) => ({\n            name: a.Prefix.split(\"/\").slice(-2).join(\"/\"),\n            type: \"directory\",\n          })),\n        })\n      }\n    }\n    loadS3Path()\n    // eslint-disable-next-line\n  }, [open, s3Path, listBuckets, listBucketItemsAt])\n  if (!open) return null\n  return (\n    <SimpleDialog\n      onClose={onClose}\n      open={open}\n      title=\"Upload to S3\"\n      actions={[\n        activeStep === 0 && {\n          onClick: () => setActiveStep(1),\n          disabled: !s3Path,\n          text: \"Upload to this directory\",\n        },\n        activeStep === 1 && {\n          disabled: !complete,\n          onClick: () => {\n            const samples = uploadedPaths.current\n              .map((url) => getSampleFromUrl(url, { returnNulls: true }))\n              .filter(Boolean)\n            onAddSamples(samples)\n          },\n          text: \"Add Samples\",\n        },\n      ].filter(Boolean)}\n    >\n      <Stepper activeStep={activeStep}>\n        <Step>\n          <StepLabel>Directory to Upload To</StepLabel>\n        </Step>\n        <Step>\n          <StepLabel>Upload Files</StepLabel>\n        </Step>\n      </Stepper>\n      {activeStep === 0 && (\n        <>\n          {optionsLoading ? (\n            <Box height={300} width={400} paddingTop={4} textAlign=\"center\">\n              <CircularProgress size={100} />\n            </Box>\n          ) : (\n            <S3PathSelector\n              currentPath={s3Path}\n              canCreateNew\n              options={options || []}\n              onChangePath={(newS3Path) => {\n                setS3Path(newS3Path)\n                setOptions({ optionsLoading: true })\n              }}\n            />\n          )}\n        </>\n      )}\n      {activeStep === 1 && (\n        <>\n          <Box display=\"flex\" alignItems=\"center\">\n            <IconButton onClick={() => setActiveStep(0)}>\n              <BackIcon />\n            </IconButton>\n            <SelectedPath>Uploading to: {s3Path}</SelectedPath>\n          </Box>\n          <Box>\n            <MultiFileDrop\n              loadFile={async (file) => {\n                const filePath = s3Path + file.name\n                await putBucketItem(filePath, file)\n                const { bucket, path } = parseS3URI(filePath)\n                uploadedPaths.current.push(\n                  `https://s3.amazonaws.com/${bucket}/${path}`\n                )\n              }}\n              onComplete={() => {\n                setComplete(true)\n              }}\n            />\n          </Box>\n        </>\n      )}\n    </SimpleDialog>\n  )\n}\n\nexport default UploadToS3Dialog\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useEventCallback from \"use-event-callback\"\nimport { useDropzone } from \"react-dropzone\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\n\nconst UploadHover = styled(\"div\")({\n  fontSize: 24,\n  color: colors.grey[600],\n  textAlign: \"center\",\n  padding: 48,\n})\n\nconst emptyFunc = () => null\n\nexport default ({ content, onChangeContent, placeholder }) => {\n  const onDrop = useEventCallback((acceptedFiles) => {\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      const fileContent = e.target.result\n      onChangeContent(fileContent)\n    }\n    reader.readAsText(acceptedFiles[0])\n  })\n\n  const [lastClickTime, changeLastClickTime] = useState(0)\n  const onClick = useEventCallback((e) => {\n    if (Date.now() - lastClickTime < 400) {\n      getRootProps().onClick(e)\n    }\n    changeLastClickTime(Date.now())\n  })\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  return (\n    <div {...getRootProps()} onClick={emptyFunc}>\n      <input {...getInputProps()} />\n      {isDragActive ? (\n        <UploadHover>Drop the text or csv file here.</UploadHover>\n      ) : (\n        <TextArea\n          value={content}\n          onChange={(e, v) => onChangeContent(e.target.value)}\n          onClick={onClick}\n          placeholder={placeholder}\n        />\n      )}\n    </div>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport TextAreaWithUpload from \"../TextAreaWithUpload\"\n\nconst ImportTextSnippetsDialog = ({ open, onClose, onAddSamples }) => {\n  const [content, changeContent] = useState(\"\")\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Import Text Snippets\"\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            onAddSamples(\n              content\n                .split(\"\\n\")\n                .map((l) => l.trim())\n                .filter(Boolean)\n                .map((s) => ({ document: s }))\n            )\n          },\n        },\n      ]}\n    >\n      <TextAreaWithUpload\n        content={content}\n        onChangeContent={changeContent}\n        placeholder={\n          \"Paste Snippets here\\nOne snippet per line.\\n\\nYou can also drag a text or csv file here (double click to open file dialog)\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n\nexport default ImportTextSnippetsDialog\n","import React, { useState, useEffect, useCallback } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Button from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { useTranslation } from \"react-i18next\"\n\nconst ExplainText = styled(\"div\")({\n  marginTop: 8,\n  marginBottom: 8,\n})\nconst GoogleDriveScreenshot = styled(\"img\")({\n  width: \"100%\",\n  boxSizing: \"border-box\",\n})\n\n// Example for Google OAuth\n// https://developers.google.com/drive/api/v3/picker\n\nconst credentials = {\n  web: {\n    client_id:\n      process.env.REACT_APP_GOOGLE_DRIVE_CLIENT_ID ||\n      \"294393711342-h5aqqt3pvn8othepvsmi16iakdhi7m6j.apps.googleusercontent.com\",\n    app_id: process.env.REACT_APP_GOOGLE_DRIVE_APP_ID || \"294393711342\",\n    developer_key:\n      process.env.REACT_APP_GOOGLE_DRIVE_DEVELOPER_KEY ||\n      \"AIzaSyCoNoDnfzDBSXpt84Q75LU9UMTzvyLkRhg\",\n  },\n}\n\nconst scope = \"https://www.googleapis.com/auth/drive.readonly\"\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const { t } = useTranslation()\n  const [googleScriptLoaded, setGoogleScriptLoaded] = useState(false)\n  const [pickerApiLoaded, setPickerApiLoaded] = useState(false)\n  const [oauthToken, setOAuthToken] = useState(null)\n  const [userSelectedItemsFromDrive, setUserSelectedItemsFromDrive] = useState(\n    []\n  )\n  const [isPickerOpen, setIsPickerOpen] = useState(false)\n\n  useEffect(() => {\n    const scriptElement = document.createElement(\"script\")\n    scriptElement.src = \"https://apis.google.com/js/api.js\"\n    scriptElement.async = true\n\n    scriptElement.onload = () => {\n      setGoogleScriptLoaded(true)\n    }\n\n    document.body.appendChild(scriptElement)\n    return () => {\n      scriptElement.remove()\n    }\n  }, [])\n\n  const googlePickerActionCallback = useCallback(\n    (data) => {\n      if (data.action === window.google.picker.Action.PICKED) {\n        setUserSelectedItemsFromDrive(\n          data.docs.map((googleDriveDocument) => ({\n            url: googleDriveDocument.url,\n            mimeType: googleDriveDocument.mimeType,\n            name: googleDriveDocument.name,\n            id: googleDriveDocument.id,\n          }))\n        )\n\n        setIsPickerOpen(false)\n      } else if (data.action === \"cancel\") {\n        onClose()\n      }\n    },\n    [onClose]\n  )\n\n  const createPicker = useCallback(() => {\n    if (pickerApiLoaded && oauthToken) {\n      const view = new window.google.picker.DocsView(\n        window.google.picker.ViewId.Docs,\n        window.google.picker.ViewId.FOLDERS\n      )\n        .setIncludeFolders(true)\n        .setSelectFolderEnabled(true)\n\n      const picker = new window.google.picker.PickerBuilder()\n        .enableFeature(window.google.picker.Feature.NAV_HIDDEN)\n        .enableFeature(window.google.picker.Feature.MINE_ONLY)\n        .enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED)\n        .setAppId(credentials.web.app_id)\n        .setOAuthToken(oauthToken)\n        .addView(view)\n        .addView(window.google.picker.ViewId.DOCS)\n        .setDeveloperKey(credentials.web.developer_key)\n        .setCallback(googlePickerActionCallback)\n        .build()\n      picker.setVisible(true)\n      setIsPickerOpen(true)\n    }\n  }, [googlePickerActionCallback, oauthToken, pickerApiLoaded])\n\n  useEffect(() => {\n    createPicker()\n  }, [pickerApiLoaded, oauthToken, createPicker])\n\n  const handleAuthenticationResponse = useCallback(\n    (authenticationResponse) => {\n      if (authenticationResponse && !authenticationResponse.error) {\n        setOAuthToken(authenticationResponse.access_token)\n        createPicker()\n      }\n    },\n    [createPicker]\n  )\n\n  const onAuthApiLoad = useCallback(() => {\n    window.gapi.auth.authorize(\n      {\n        client_id: credentials.web.client_id,\n        scope: scope,\n        immediate: false,\n      },\n      handleAuthenticationResponse\n    )\n  }, [handleAuthenticationResponse])\n\n  const onPickerApiLoad = useCallback(() => {\n    setPickerApiLoaded(true)\n    createPicker()\n  }, [createPicker])\n\n  const onLoadPicker = useCallback(() => {\n    if (googleScriptLoaded === true) {\n      window.gapi.load(\"auth\", { callback: onAuthApiLoad })\n      window.gapi.load(\"picker\", { callback: onPickerApiLoad })\n    }\n  }, [googleScriptLoaded, onAuthApiLoad, onPickerApiLoad])\n\n  const onAddSamplesClicked = () => {\n    const samples = []\n    for (const item of userSelectedItemsFromDrive) {\n      if (item.mimeType.includes(\"image/\")) {\n        samples.push({ imageUrl: `https://drive.google.com/uc?id=${item.id}` })\n      } else if (item.mimeType.includes(\"video/\")) {\n        samples.push({ videoUrl: `https://drive.google.com/uc?id=${item.id}` })\n      }\n    }\n\n    onAddSamples(samples)\n  }\n\n  useEffect(() => {\n    if (open) {\n      onLoadPicker()\n    }\n  }, [open, googleScriptLoaded, onLoadPicker])\n\n  return (\n    <SimpleDialog\n      open={open && !isPickerOpen}\n      onClose={onClose}\n      title=\"Import from Google Drive\"\n      actions={[\n        userSelectedItemsFromDrive &&\n          userSelectedItemsFromDrive.length > 0 && {\n            text: `Add ${userSelectedItemsFromDrive.length} Samples`,\n            onClick: onAddSamplesClicked,\n          },\n      ].filter(Boolean)}\n    >\n      <Button variant=\"outlined\" onClick={onLoadPicker}>\n        {t(\"reopen-google-drive-picker\")}\n      </Button>\n      <ExplainText>\n        {t(\"import-from-google-drive-explanation-text\")}.{\" \"}\n        <b>{t(\"import-from-google-drive-explanation-bold-text\")}!</b>\n      </ExplainText>\n      <GoogleDriveScreenshot\n        src={\n          \"https://s3.amazonaws.com/asset.workaround.online/google-share-screenshot.png\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport TextAreaWithUpload from \"../TextAreaWithUpload\"\nimport * as colors from \"@material-ui/core/colors\"\nimport fromUDTCSV from \"../../utils/from-udt-csv.js\"\n\nconst InfoText = styled(\"div\")({\n  fontFamily: \"Inter\",\n  marginBottom: 20,\n  \"& a\": {\n    color: colors.blue[500],\n  },\n})\n\nconst Error = styled(\"div\")({\n  color: colors.red[500],\n  whiteSpace: \"pre-wrap\",\n  marginBottom: 20,\n})\n\nconst ImportUDTFileDialog = ({ open, onClose, onAddSamples }) => {\n  const [error, changeError] = useState(null)\n  const [content, setContent] = useState(\"\")\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Import JSON/CSV Samples\"\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            changeError(null)\n            let samples, taskOutput\n            try {\n              ;[samples, taskOutput] = JSON.parse(content).samples\n            } catch (e1) {\n              try {\n                const udt = fromUDTCSV(content)\n                ;({ samples, taskOutput } = udt)\n              } catch (e2) {\n                console.log({\n                  message: \"CSV/JSON Error Stacks\",\n                  jsonError: e1.stack,\n                  csvError: e2.stack,\n                })\n                changeError(\n                  `JSON did not parse. CSV did not parse.\\n\\nJSON Error: ${e1.toString()}\\nCSV Error: ${e2.toString()}`\n                )\n                return\n              }\n            }\n            if (!samples || samples.length === 0) {\n              changeError(\"No task data found\")\n              return\n            }\n            onAddSamples(samples, taskOutput)\n          },\n        },\n      ]}\n    >\n      <InfoText>\n        See the{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format\">\n          UDT JSON format\n        </a>{\" \"}\n        or the{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format\">\n          UDT CSV format\n        </a>{\" \"}\n        for formatting details. Or take a look at a{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format/blob/master/SAMPLE.udt.json\">\n          sample JSON\n        </a>{\" \"}\n        or{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format/blob/master/SAMPLE.udt.csv\">\n          sample CSV\n        </a>{\" \"}\n        file.\n      </InfoText>\n      <Error>{error}</Error>\n      <TextAreaWithUpload\n        content={content}\n        onChangeContent={setContent}\n        placeholder={\n          \"Paste CSV/JSON here. The file should be in the UDT JSON/CSV format.\\n\\nYou can also drag a json or csv file here (double click to open file dialog)\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n\nexport default ImportUDTFileDialog\n","// @flow weak\n\nimport React from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport Table from \"@material-ui/core/Table\"\nimport TableBody from \"@material-ui/core/TableBody\"\nimport TableCell from \"@material-ui/core/TableCell\"\nimport TableContainer from \"@material-ui/core/TableContainer\"\nimport TableHead from \"@material-ui/core/TableHead\"\nimport TableRow from \"@material-ui/core/TableRow\"\nimport { useTranslation } from \"react-i18next\"\n\nconst datasets = [\n  { name: \"Elon Musk Tweets\", type: \"text\", size: 2800 },\n  { name: \"Cats\", type: \"image\", size: 360 },\n  { name: \"VR Hand Pinching\", type: \"image\", size: 20517 },\n  { name: \"AI Generated Faces\", type: \"image\", size: 1999 },\n  { name: \"Text to Speech Audio\", type: \"audio\", size: 200 },\n]\n\nasync function getSamples(dataset) {\n  const datasetName =\n    dataset.name.toLowerCase().replace(/ /g, \"_\") + \".udt.json\"\n\n  const datasetUrl = `https://s3.amazonaws.com/datasets.workaround.online/${datasetName}`\n\n  return await fetch(datasetUrl)\n    .then((r) => r.json())\n    .then((r) => r.samples || r.taskData)\n}\n\nconst StyledButton = styled(Button)({})\n\nconst ImportToyDatasetDialog = ({ onClose, onAddSamples, open }) => {\n  const { t } = useTranslation()\n\n  return (\n    <SimpleDialog onClose={onClose} open={open} title=\"Import Toy Dataset\">\n      <TableContainer>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>{t(\"name\")}</TableCell>\n              <TableCell>{t(\"type\")}</TableCell>\n              <TableCell>{t(\"size\")}</TableCell>\n              <TableCell>{t(\"actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {datasets.map((dataset) => (\n              <TableRow key={dataset.name}>\n                <TableCell>{dataset.name}</TableCell>\n                <TableCell>{dataset.type}</TableCell>\n                <TableCell>{dataset.size}</TableCell>\n                <TableCell>\n                  <StyledButton\n                    data-import-toy-dataset-name={dataset.name}\n                    onClick={async () => {\n                      onAddSamples(await getSamples(dataset))\n                    }}\n                    variant=\"outlined\"\n                  >\n                    {t(\"import\")}\n                  </StyledButton>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </SimpleDialog>\n  )\n}\n\nexport default ImportToyDatasetDialog\n","const idify = (s) =>\n  s\n    .toLowerCase()\n    .replace(/[^a-z0-9]/g, \"_\")\n    .replace(/_+/g, \"_\")\n\nexport default ({\n  youtubeUrl,\n  title: videoTitle,\n  remote,\n  videoQuality,\n  downloadPath,\n  onProgress,\n  onComplete,\n  onChangeOverallProgress,\n}) => {\n  //let starttime = Date.now()\n\n  const ytdl = remote.require(\"ytdl-core\")\n  const path = remote.require(\"path\")\n\n  const videoName = videoQuality.includes(\"audio\")\n    ? `${idify(videoTitle) + \".mp3\"}`\n    : `${idify(videoTitle) + \".mp4\"}`\n\n  const fullVideoPath = path.join(downloadPath, videoName)\n  const writableVideoFile = remote\n    .require(\"fs\")\n    .createWriteStream(fullVideoPath)\n\n  const videoFormat = videoName.endsWith(\".mp3\") ? \"audio/mp3\" : \"video/mp4\"\n\n  const youtubeVideoWithOptions = ytdl(youtubeUrl, {\n    format: videoFormat,\n    quality: videoQuality !== null ? videoQuality : \"highest\",\n  })\n\n  youtubeVideoWithOptions.pipe(writableVideoFile)\n\n  /*youtubeVideoWithOptions.once(\"response\", () => {\n    starttime = Date.now()\n  })*/\n\n  youtubeVideoWithOptions.on(\"progress\", (chunkLength, downloaded, total) => {\n    const percent = downloaded / total\n    // const downloadedMinutes = (Date.now() - starttime) / 1000 / 60\n\n    // const downloadedPercentage = (percent * 100).toFixed(2)\n    // const downloadedSize = (downloaded / 1024 / 1024).toFixed(2)\n    // const downloadedMBs = (\n    //   downloaded /\n    //   1024 /\n    //   1024\n    // ).toFixed(2)\n    // const totalSize = (total / 1024 / 1024).toFixed(2)\n    // const informationText = `${downloadedPercentage}% downloaded (${downloadedMBs}MB of ${totalSize}MB)\\nestimated time left: ${(downloadedMinutes / percent -downloadedMinutes).toFixed(2)}minutes`\n\n    onProgress({\n      progress: percent * 100,\n    })\n\n    onChangeOverallProgress(percent * 100)\n  })\n\n  youtubeVideoWithOptions.on(\"end\", () => onComplete(fullVideoPath))\n\n  return {\n    cancel: () => {\n      youtubeVideoWithOptions.destroy()\n    },\n  }\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  height: 36,\n  width: \"100%\",\n  boxSizing: \"border-box\",\n  position: \"relative\",\n  marginTop: 8,\n  marginBottom: 8,\n  backgroundColor: colors.blue[50],\n})\nconst Text = styled(\"div\")({\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  paddingTop: 4,\n  fontSize: 18,\n  textAlign: \"center\",\n  fontWeight: \"bold\",\n})\nconst Bar = styled(\"div\")({\n  position: \"absolute\",\n  left: 0,\n  bottom: 0,\n  top: 0,\n  backgroundColor: colors.blue[300],\n})\n\nexport default ({ progress }) => {\n  return (\n    <Container>\n      <Bar style={{ right: 100 - progress + \"%\" }} />\n      <Text>{Math.floor(progress)}%</Text>\n    </Container>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ProgressBar from \"../ProgressBar\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\n\nconst ProgressContainer = styled(\"div\")({\n  width: \"100%\",\n  height: \"100%\",\n})\n\nconst TotalPercentageWrapper = styled(\"div\")({\n  flexDirection: \"row\",\n  width: \"100%\",\n  display: \"flex\",\n  justifyContent: \"space-between\",\n})\n\nconst Progress = ({ unitProgress, overallProgress, completedVideoTitles }) => {\n  return (\n    <ProgressContainer>\n      <ProgressBar progress={overallProgress} />\n      <ProgressBar progress={unitProgress.progress} />\n\n      <h3>Downloading: {unitProgress.title}</h3>\n      <ExpansionPanel>\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n          <TotalPercentageWrapper>\n            <h3>Downloaded Video Titles</h3>\n          </TotalPercentageWrapper>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <ul>\n            {completedVideoTitles && completedVideoTitles.length > 0\n              ? completedVideoTitles\n              : null}\n          </ul>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    </ProgressContainer>\n  )\n}\n\nexport default Progress\n","const getYoutubeVideoInformation = async (\n  remote,\n  splittedURLsArray,\n  progressCallback = () => null\n) => {\n  const ytdl = remote.require(\"ytdl-core\")\n  const checkedVideos = []\n  if (splittedURLsArray.length > 0) {\n    for (let i = 0; i < splittedURLsArray.length; i++) {\n      const url = splittedURLsArray[i]\n      const video = await new Promise((resolve, reject) => {\n        ytdl.getBasicInfo(url, (err, info) => {\n          if (info && !err) {\n            resolve({\n              url,\n              title: info.title,\n            })\n          } else {\n            const errorText = `Error with video at \"${url}\"\\n\\n${err.toString()}`\n            reject(new Error(errorText))\n          }\n        })\n      })\n      checkedVideos.push(video)\n      progressCallback({\n        progress: (i / (splittedURLsArray.length - 1)) * 100,\n        text: \"Inspecting Video Information...\",\n      })\n    }\n  }\n  return checkedVideos\n}\n\nexport default getYoutubeVideoInformation\n","const splitURLsFromTextArea = (stringURLs) => {\n  const urlsHasHTTPS = []\n  const splittedURLsByNewLines = stringURLs.split(\"\\n\")\n  for (const url of splittedURLsByNewLines) {\n    if (url.includes(\"https://\")) {\n      urlsHasHTTPS.push(url)\n    }\n  }\n  return urlsHasHTTPS\n}\n\nexport default splitURLsFromTextArea\n","import React, { useState, useRef } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport useElectron from \"../../hooks/use-electron\"\nimport Select from \"react-select\"\nimport downloadYoutubeVideo from \"./download-youtube-video\"\nimport Progress from \"./progress\"\nimport getYoutubeVideoInformation from \"./get-youtube-video-information\"\nimport splitURLsFromTextArea from \"./split-urls-from-text-area\"\nimport { useTranslation } from \"react-i18next\"\n\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\n\nconst SelectVideoQualityHeader = styled(\"h3\")({\n  lineHeight: 0,\n  textAlign: \"center\",\n})\n\nconst SelectVideoQuality = styled(\"div\")({\n  width: \"100%\",\n  marginBottom: 8,\n  paddingBottom: 4,\n})\n\nconst ErrorText = styled(\"pre\")({\n  whiteSpace: \"pre-wrap\",\n  color: \"#f00\",\n})\n\nconst LoadingText = styled(\"h2\")({\n  width: \"100%\",\n  height: \"100%\",\n  margin: \"auto auto\",\n  textAlign: \"center\",\n})\n\nconst CompletedVideoTitle = styled(\"h3\")({\n  textDecoration: \"line-through\",\n  lineHeight: 0,\n})\n\nconst qualityOptions = [\n  { value: \"136\", label: \"720p\" },\n  { value: \"135\", label: \"480p\" },\n  { value: \"lowestvideo\", label: \"Lowest Video Only\" },\n  // TODO these did not seem to work in a local test (missing video)\n  // { value: \"lowest\", label: \"lowest\" },\n  // { value: \"highest\", label: \"Highest\" },\n  { value: \"highestvideo\", label: \"Highest Video Only\" },\n  { value: \"lowestaudio\", label: \"Lowest Audio Only\" },\n  { value: \"highestaudio\", label: \"Highest Audio Only\" },\n]\n\nconst ImportFromYoutubeUrls = ({ open, onClose, onAddSamples }) => {\n  const { remote } = useElectron() || {}\n  const { t } = useTranslation()\n\n  const [urlsFromTextArea, setUrlsFromTextArea] = useState([])\n  const [videoQuality, setVideoQuality] = useState(qualityOptions[0].value)\n  const [error, setError] = useState(null)\n\n  const [unitProgress, setUnitProgress] = useState({ progress: 0 })\n  const [overallProgress, setOverallProgress] = useState(0)\n  const [isDownloading, setIsDownloading] = useState(false)\n  const [completedVideoTitles, setCompletedVideoTitles] = useState(null)\n\n  const cancelRef = useRef()\n\n  const setDefaultState = async () => {\n    setUnitProgress({ progress: 0, title: \"\" })\n    setOverallProgress(0)\n    setIsDownloading(false)\n  }\n\n  const closeDialog = async () => {\n    await setDefaultState()\n    onClose()\n  }\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={closeDialog}\n      title=\"Import from Youtube URLs\"\n      actions={[\n        {\n          text: \"Cancel Downloads\",\n          disabled: !isDownloading,\n          onClick: () => {\n            cancelRef.current()\n            setIsDownloading(false)\n          },\n        },\n        {\n          text: \"Download Youtube URLs\",\n          onClick: async () => {\n            setIsDownloading(true)\n            const { canceled, filePaths } = await remote.dialog.showOpenDialog({\n              title: \"Directory to download files to\",\n              buttonLabel: \"Download Files Here\",\n              properties: [\n                \"createDirectory\",\n                \"openDirectory\",\n                \"promptToCreate\",\n              ],\n            })\n\n            if (canceled || !filePaths) return setIsDownloading(false)\n\n            const downloadPath = filePaths[0]\n\n            const youtubeVideoInfos = await getYoutubeVideoInformation(\n              remote,\n              urlsFromTextArea,\n              ({ progress, text }) => {\n                setUnitProgress({ progress })\n              }\n            ).catch((errorMessage) => {\n              console.error(errorMessage.stack)\n              setError(errorMessage.toString())\n              return null\n            })\n            if (!youtubeVideoInfos) return setIsDownloading(false)\n\n            const completedVideoPaths = []\n            const completedVideoTitlesArray = []\n\n            const youtubeVideosCount = youtubeVideoInfos.length\n\n            for (let i = 0; i < youtubeVideosCount; i++) {\n              const youtubeVideoInfo = youtubeVideoInfos[i]\n              const videoPath = await new Promise((resolve, reject) => {\n                const { cancel } = downloadYoutubeVideo({\n                  remote,\n                  downloadPath,\n                  youtubeUrl: youtubeVideoInfo.url,\n                  title: youtubeVideoInfo.title,\n                  videoQuality,\n                  onChangeOverallProgress: (currentProgress) =>\n                    setOverallProgress(\n                      ((completedVideoTitlesArray.length * 100 +\n                        currentProgress) /\n                        (youtubeVideosCount * 100)) *\n                        100\n                    ),\n                  onProgress: ({ progress, text }) =>\n                    setUnitProgress({\n                      progress,\n                      title: youtubeVideoInfo.title,\n                      progressText: text,\n                    }),\n                  onComplete: (filePath) => resolve(filePath),\n                })\n                cancelRef.current = cancel\n              })\n\n              completedVideoTitlesArray.push(\n                <li key={i + youtubeVideoInfo.title}>\n                  <CompletedVideoTitle>\n                    {youtubeVideoInfo.title}\n                  </CompletedVideoTitle>\n                </li>\n              )\n              setCompletedVideoTitles(completedVideoTitlesArray)\n\n              completedVideoPaths.push(videoPath)\n            }\n\n            onAddSamples(\n              completedVideoPaths.map((videoPath) => ({\n                videoUrl: `file://${videoPath}`,\n              }))\n            )\n\n            setIsDownloading(false)\n          },\n          disabled: isDownloading,\n        },\n      ]}\n    >\n      {error && <ErrorText>{error}</ErrorText>}\n      {isDownloading &&\n      ((unitProgress && unitProgress.progress && unitProgress.progress > 0) ||\n        (completedVideoTitles &&\n          Array.isArray(completedVideoTitles) === true &&\n          completedVideoTitles.length > 0)) ? (\n        <Progress\n          unitProgress={unitProgress}\n          completedVideoTitles={completedVideoTitles}\n          overallProgress={overallProgress}\n        />\n      ) : isDownloading === true ? (\n        <LoadingText>Information is Loading</LoadingText>\n      ) : null}\n      {!isDownloading && (\n        <React.Fragment>\n          <SelectVideoQuality>\n            <SelectVideoQualityHeader>\n              {t(\"select-video-quality\")}\n            </SelectVideoQualityHeader>\n            <Select\n              defaultValue={qualityOptions[0]}\n              options={qualityOptions}\n              onChange={({ value }) => setVideoQuality(value)}\n            />\n          </SelectVideoQuality>\n          <TextArea\n            onChange={(e, v) => {\n              setUrlsFromTextArea(splitURLsFromTextArea(e.target.value))\n            }}\n            placeholder={\"Paste Youtube URLs here\\nOne URL per line\"}\n          />\n        </React.Fragment>\n      )}\n    </SimpleDialog>\n  )\n}\n\nexport default ImportFromYoutubeUrls\n","import React, { useState, useEffect } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport CreatableSelect from \"react-select/creatable\"\n\nimport FormGroup from \"@material-ui/core/FormGroup\"\nimport Box from \"@material-ui/core/Box\"\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport { setIn } from \"seamless-immutable\"\n\nconst Image = styled(\"img\")({\n  width: 100,\n  height: 100,\n  margin: 8,\n})\n\nconst TermsOfUse = styled(\"div\")({\n  padding: 16,\n  margin: 16,\n  backgroundColor: colors.green[200],\n  \"& a\": {\n    color: colors.blue[600],\n  },\n})\n\nexport const ImportFromCOCODialog = ({\n  open,\n  onClose,\n  onChangeDataset,\n  dataset,\n}) => {\n  const [labelsSelected, setLabelsSelected] = useState([])\n  const [exclusive, setExclusive] = useState()\n  const [shouldReplaceInterface, setShouldReplaceInterface] = useState()\n  const [importedDataset, setImportedDataset] = useState(null)\n\n  useEffect(() => {\n    if (labelsSelected.length === 0) return\n    async function loadSamples() {\n      const ds = await fetch(\n        `https://coco.universaldatatool.com/api/captions?labels=${encodeURIComponent(\n          labelsSelected.join(\",\")\n        )}${exclusive ? \"&exclusive\" : \"\"}`\n      ).then((r) => r.json())\n      setImportedDataset(ds)\n    }\n    loadSamples()\n  }, [exclusive, labelsSelected])\n\n  return (\n    <SimpleDialog\n      open={open}\n      title=\"Import from COCO\"\n      onClose={onClose}\n      actions={[\n        importedDataset?.samples.length > 0 && {\n          text: \"Add Samples\",\n          disabled: !importedDataset,\n          onClick: () => {\n            onChangeDataset(\n              setIn(\n                dataset,\n                [\"samples\"],\n                dataset.samples.concat(importedDataset.samples)\n              ).setIn([\"interface\"], importedDataset.interface)\n            )\n            onClose()\n          },\n        },\n      ].filter(Boolean)}\n    >\n      <TermsOfUse>\n        By clicking \"Add Samples\" you understand that these images are from the{\" \"}\n        <a href=\"https://cocodataset.org\">Common Objects in Context dataset</a>{\" \"}\n        and you must abide by{\" \"}\n        <a href=\"https://cocodataset.org/#termsofuse\">their terms of use</a>.\n      </TermsOfUse>\n      <CreatableSelect\n        isMulti\n        onChange={(labels) => {\n          setLabelsSelected((labels || []).map((l) => l.value))\n        }}\n        options={[]}\n      />\n      <FormGroup>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={exclusive}\n              onChange={(e, checked) => setExclusive(checked)}\n            />\n          }\n          label=\"Exclusive (Single Classification)\"\n        />\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={shouldReplaceInterface}\n              onChange={(e, checked) => setShouldReplaceInterface(checked)}\n            />\n          }\n          label=\"Replace Interface?\"\n        />\n      </FormGroup>\n      <Box padding={2} minHeight=\"400px\">\n        {(importedDataset?.samples || []).slice(0, 9).map((s) => (\n          <Image src={s.imageUrl} />\n        ))}\n      </Box>\n    </SimpleDialog>\n  )\n}\n\nexport default ImportFromCOCODialog\n","// @flow weak\n\nconst convertToSamplesObject = (fp) => {\n  const ext = fp.split(\".\").slice(-1)[0].toLowerCase()\n  if ([\"png\", \"jpg\", \"jpeg\"].includes(ext)) {\n    return { imageUrl: `file://${fp}` }\n  }\n  if ([\"pdf\"].includes(ext)) {\n    return { pdfUrl: `file://${fp}` }\n  }\n  if ([\"mp4\", \"webm\", \"mkv\"].includes(ext)) {\n    return { videoUrl: `file://${fp}` }\n  }\n  return null\n}\n\nasync function promptAndGetSamplesLocalDirectory({ electron }) {\n  const {\n    canceled,\n    filePaths: dirPaths,\n  } = await electron.remote.dialog.showOpenDialog({\n    title: \"Select Directory to Import Files\",\n    properties: [\"openDirectory\"],\n  })\n  if (canceled) return\n  const dirPath = dirPaths[0]\n  const fs = electron.remote.require(\"fs\")\n  const path = electron.remote.require(\"path\")\n  return (await fs.promises.readdir(dirPath))\n    .filter((fn) => fn.includes(\".\"))\n    .map((fileName) => path.join(dirPath, fileName))\n    .map(convertToSamplesObject)\n    .filter(Boolean)\n}\n\nexport default promptAndGetSamplesLocalDirectory\n","import useDatasetProperty from \"../use-dataset-property\"\n\nexport default () => {\n  const ret = useDatasetProperty(\"interface\")\n  ret.iface = ret.interface\n  return ret // { interface, iface, updateInterface, interfaceLoading }\n}\n","// @flow weak\n\nimport React, { useState, createContext } from \"react\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport AssignmentReturnedIcon from \"@material-ui/icons/AssignmentReturned\"\nimport CreateNewFolderIcon from \"@material-ui/icons/CreateNewFolder\"\nimport TextFieldsIcon from \"@material-ui/icons/TextFields\"\nimport DescriptionIcon from \"@material-ui/icons/Description\"\nimport PetsIcon from \"@material-ui/icons/Pets\"\nimport * as colors from \"@material-ui/core/colors\"\nimport PasteUrlsDialog from \"../PasteUrlsDialog\"\nimport ExportToCognitoS3Dialog from \"../ExportToCognitoS3Dialog\"\nimport ImportFromCognitoS3Dialog from \"../ImportFromCognitoS3Dialog\"\nimport ImportFromS3Dialog from \"../ImportFromS3Dialog\"\nimport UploadToS3Dialog from \"../UploadToS3Dialog\"\nimport ImportTextSnippetsDialog from \"../ImportTextSnippetsDialog\"\nimport useElectron from \"../../hooks/use-electron\"\nimport classnames from \"classnames\"\nimport S3Icon from \"./S3Icon\"\nimport isEmpty from \"lodash/isEmpty\"\nimport useEventCallback from \"use-event-callback\"\nimport ImportFromGoogleDriveDialog from \"../ImportFromGoogleDriveDialog\"\nimport ImportUDTFileDialog from \"../ImportUDTFileDialog\"\nimport ImportToyDataset from \"../ImportToyDatasetDialog\"\nimport ImportFromYoutubeUrls from \"../ImportFromYoutubeUrls\"\nimport ImportFromCOCODialog from \"../ImportFromCOCODialog\"\nimport { FaGoogleDrive, FaYoutube } from \"react-icons/fa\"\nimport usePosthog from \"../../hooks/use-posthog\"\nimport promptAndGetSamplesFromLocalDirectory from \"./prompt-and-get-samples-from-local-directory.js\"\nimport { useTranslation } from \"react-i18next\"\nimport useAuth from \"../../utils/auth-handlers/use-auth.js\"\nimport { useAppConfig } from \"../AppConfig\"\nimport PhotoLibraryIcon from \"@material-ui/icons/PhotoLibrary\"\nimport useInterface from \"../../hooks/use-interface\"\nimport useAddSamples from \"../../hooks/use-add-samples\"\nimport useDatasetProperty from \"../../hooks/use-dataset-property\"\n\nconst ButtonBase = styled(MuiButton)({\n  width: 240,\n  height: 140,\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  \"&.disabled\": {\n    backgroundColor: colors.grey[200],\n  },\n  margin: 8,\n  \"& .icon\": {\n    width: 48,\n    height: 48,\n    color: colors.grey[600],\n    \"&.disabled\": {\n      color: colors.grey[400],\n    },\n  },\n})\n\nconst DesktopOnlyText = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  \"&.disabled\": {\n    color: colors.grey[500],\n  },\n})\n\nconst SelectDialogContext = createContext()\n\nconst Button = ({\n  Icon,\n  desktopOnly,\n  isDesktop,\n  children,\n  dialog,\n  authConfiguredOnly,\n  signedInOnly,\n  disabledReason,\n  user,\n  onlySupportType,\n  type,\n}) => {\n  const posthog = usePosthog()\n\n  const { isLoggedIn, authConfig } = useAuth()\n\n  const isDisabled = () => {\n    if (disabledReason) {\n      return { disabled: true, disabledText: disabledReason }\n    } else if (desktopOnly) {\n      return { disabled: !isDesktop, disabledText: \"DESKTOP ONLY\" }\n    } else if (onlySupportType && !onlySupportType.includes(type)) {\n      return { disabled: true, disabledText: `DOESN'T SUPPORT THIS INTERFACE` }\n    } else if (authConfiguredOnly && !isLoggedIn) {\n      if (signedInOnly) {\n        return { disabled: isEmpty(user), disabledText: \"MUST BE SIGNED IN\" }\n      } else {\n        return {\n          disabled: isEmpty(authConfig),\n          disabledText: \"AUTH MUST BE CONFIGURED\",\n        }\n      }\n    } else {\n      return { disabled: false, disabledText: \"\" }\n    }\n  }\n\n  const { disabled, disabledText } = isDisabled()\n\n  return (\n    <SelectDialogContext.Consumer>\n      {({ onChangeDialog }) => {\n        return (\n          <ButtonBase\n            onClick={() => {\n              posthog.capture(\"import_button_clicked\", {\n                import_button: dialog,\n              })\n              onChangeDialog(dialog)\n            }}\n            className={classnames({ disabled })}\n            variant=\"outlined\"\n            disabled={disabled}\n          >\n            <div>\n              <Icon className={classnames(\"icon\", { disabled })} />\n              <div>{children}</div>\n              {disabled && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  {disabledText}\n                </DesktopOnlyText>\n              )}\n            </div>\n          </ButtonBase>\n        )\n      }}\n    </SelectDialogContext.Consumer>\n  )\n}\n\nexport default ({ isDesktop, authConfig, user }) => {\n  const { t } = useTranslation()\n  const [selectedDialog, changeDialog] = useState()\n  const electron = useElectron()\n  const { fromConfig } = useAppConfig()\n  const { iface } = useInterface()\n  const { updateUsedToyDataset } = useDatasetProperty(\"usedToyDataset\")\n\n  const addSamples = useAddSamples()\n\n  const onChangeDialog = async (dialog) => {\n    switch (dialog) {\n      case \"upload-directory\": {\n        if (!electron) return\n        const localSamples = await promptAndGetSamplesFromLocalDirectory({\n          electron,\n        })\n\n        if (typeof localSamples === \"undefined\") {\n          return\n        }\n\n        addSamples(localSamples)\n        return\n      }\n      default: {\n        return changeDialog(dialog)\n      }\n    }\n  }\n\n  const closeDialog = () => changeDialog(null)\n\n  const onAddSamples = useEventCallback(async (samplesToAdd) => {\n    await addSamples(samplesToAdd)\n    closeDialog()\n  })\n\n  const onAddSamplesAsToyDataset = useEventCallback(async (samplesToAdd) => {\n    await addSamples(samplesToAdd)\n    await updateUsedToyDataset(true)\n    closeDialog()\n  })\n\n  return (\n    <SelectDialogContext.Provider value={{ onChangeDialog }}>\n      <div>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"paste-image-urls\"\n          Icon={AssignmentReturnedIcon}\n          authConfig={authConfig}\n          signedInOnly={false}\n          user={user}\n        >\n          {t(\"paste-urls\")}\n        </Button>\n        <Button\n          desktopOnly\n          isDesktop={isDesktop}\n          dialog=\"upload-directory\"\n          Icon={CreateNewFolderIcon}\n          authConfig={authConfig}\n          signedInOnly={false}\n          user={user}\n        >\n          {t(\"files-from-directory\")}\n        </Button>\n        <Button\n          dialog=\"import-text-snippets\"\n          Icon={TextFieldsIcon}\n          onlySupportType={[\n            \"text_entity_recognition\",\n            \"text_classification\",\n            \"text_entity_relations\",\n          ]}\n          type={iface?.type}\n        >\n          {t(\"import-text-snippets\")}\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"import-toy-dataset\"\n          Icon={PetsIcon}\n        >\n          {t(\"import-toy-dataset\")}\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"youtube-urls\"\n          Icon={FaYoutube}\n          desktopOnly\n        >\n          {t(\"import-from\")} Youtube URLs\n        </Button>\n        <Button\n          Icon={S3Icon}\n          dialog=\"import-from-s3\"\n          disabledReason={\n            fromConfig(\"auth.s3iam.accessKeyId\") ? null : \"NEED AWS IAM AUTH\"\n          }\n        >\n          {t(\"import-from-s3\")}\n        </Button>\n        <Button\n          Icon={S3Icon}\n          dialog=\"upload-to-s3\"\n          disabledReason={\n            fromConfig(\"auth.s3iam.accessKeyId\") ? null : \"NEED AWS IAM AUTH\"\n          }\n        >\n          {t(\"upload-to-s3\")}\n        </Button>\n        <Button\n          dialog=\"export-to-cognito-s3\"\n          Icon={S3Icon}\n          authConfiguredOnly={true}\n          signedInOnly={true}\n        >\n          {t(\"export-to-cognito-s3\")}\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"import-from-cognito-s3\"\n          Icon={S3Icon}\n          authConfiguredOnly={true}\n          signedInOnly={true}\n          user={user}\n        >\n          {t(\"import-from-cognito-s3\")}\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"google-drive-file-picker\"\n          Icon={FaGoogleDrive}\n          onAddSamples={onAddSamples}\n        >\n          {t(\"import-from\")} Google Drive\n        </Button>\n        <Button dialog=\"import-csv-json\" Icon={DescriptionIcon}>\n          {t(\"import-from\")} CSV / JSON\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"import-from-coco\"\n          Icon={PhotoLibraryIcon}\n        >\n          {t(\"import-from-coco\")}\n        </Button>\n        {selectedDialog === \"import-from-coco\" ? (\n          <ImportFromCOCODialog\n            open={selectedDialog === \"import-from-coco\"}\n            onClose={closeDialog}\n            // dataset={dataset}\n            // onChangeDataset={onChangeDataset}\n          />\n        ) : selectedDialog === \"import-text-snippets\" ? (\n          <ImportTextSnippetsDialog\n            open={selectedDialog === \"import-text-snippets\"}\n            onClose={closeDialog}\n            onAddSamples={onAddSamples}\n          />\n        ) : selectedDialog === \"paste-image-urls\" ? (\n          <PasteUrlsDialog\n            open={selectedDialog === \"paste-image-urls\"}\n            onClose={closeDialog}\n            onAddSamples={onAddSamples}\n          />\n        ) : selectedDialog === \"import-from-s3\" ? (\n          <ImportFromS3Dialog\n            open={selectedDialog === \"import-from-s3\"}\n            // onChangeFile={onChangeFile}\n            onClose={closeDialog}\n            user={user}\n            onAddSamples={onAddSamples}\n          />\n        ) : selectedDialog === \"upload-to-s3\" ? (\n          <UploadToS3Dialog\n            open={selectedDialog === \"upload-to-s3\"}\n            // onChangeFile={onChangeFile}\n            onClose={closeDialog}\n            user={user}\n            onAddSamples={onAddSamples}\n          />\n        ) : selectedDialog === \"export-to-cognito-s3\" ? (\n          <ExportToCognitoS3Dialog\n            open={selectedDialog === \"export-to-cognito-s3\"}\n            onClose={closeDialog}\n            onAddSamples={onAddSamples}\n          />\n        ) : selectedDialog === \"import-from-cognito-s3\" ? (\n          <ImportFromCognitoS3Dialog\n            open={selectedDialog === \"import-from-cognito-s3\"}\n            onClose={closeDialog}\n            onAddSamples={onAddSamples}\n          />\n        ) : selectedDialog === \"google-drive-file-picker\" ? (\n          <ImportFromGoogleDriveDialog\n            open={selectedDialog === \"google-drive-file-picker\"}\n            onClose={closeDialog}\n            onAddSamples={onAddSamples}\n          />\n        ) : selectedDialog === \"import-toy-dataset\" ? (\n          <ImportToyDataset\n            open={selectedDialog === \"import-toy-dataset\"}\n            onClose={closeDialog}\n            onAddSamples={onAddSamplesAsToyDataset}\n          />\n        ) : selectedDialog === \"youtube-urls\" ? (\n          <ImportFromYoutubeUrls\n            open={selectedDialog === \"youtube-urls\"}\n            onClose={closeDialog}\n            onAddSamples={onAddSamples}\n          />\n        ) : selectedDialog === \"import-csv-json\" ? (\n          <ImportUDTFileDialog\n            open={selectedDialog === \"import-csv-json\"}\n            onClose={closeDialog}\n            onAddSamples={onAddSamples}\n          />\n        ) : (\n          <p></p>\n        )}\n      </div>\n    </SelectDialogContext.Provider>\n  )\n}\n","import useActiveDatasetManager from \"../use-active-dataset-manager\"\n\nexport default (datasetPropertyKey: string) => {\n  const [dm] = useActiveDatasetManager()\n  return dm.addSamples\n}\n","// @flow weak\n\nimport React from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Box from \"@material-ui/core/Box\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport immutable from \"seamless-immutable\"\nimport { useTranslation } from \"react-i18next\"\nimport useDataset from \"../../hooks/use-dataset\"\n\nconst Code = styled(\"pre\")({\n  fontSize: 8,\n})\n\nconst StyledExpansionPanel = styled(ExpansionPanel)({\n  backgroundColor: colors.grey[100],\n  border: `1px solid ${colors.grey[500]}`,\n  marginTop: 16,\n  marginBottom: 16,\n})\n\nconst StyledExpansionPanelSummary = styled(ExpansionPanelSummary)({\n  fontWeight: \"bold\",\n})\n\nexport default ({ open, onClose }) => {\n  const [dataset, setDataset] = useDataset()\n  const { t } = useTranslation()\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Transform Video Keyframes\"\n      actions={[\n        {\n          text: \"Transform Video Keyframes\",\n          disabled: !dataset.samples,\n          onClick: () => {\n            const samples = dataset.samples.flatMap((item, index) => {\n              if (!item.videoUrl) return { data: item, output: item.annotation }\n              if (item.videoUrl && !item.videoFrameAt) {\n                if (!item.annotation) return []\n                if (!item.annotation.keyframes) return []\n                const { keyframes } = item[index].annotation\n                return Object.keys(keyframes).map((kf) => ({\n                  videoUrl: item.videoUrl,\n                  videoFrameAt: parseInt(kf),\n                  annotation: keyframes[kf].regions || [],\n                }))\n              }\n            })\n\n            setDataset(\n              immutable(dataset)\n                .setIn(\n                  [\"samples\"],\n                  samples.map((s) => s.data)\n                )\n                .setIn([\"interface\", \"type\"], \"image_segmentation\")\n            )\n          },\n        },\n      ]}\n    >\n      {t(\"transform-video-keyframes-dialog-explanation-text\")}\n      {!dataset.samples && (\n        <b>\n          <br />\n          <br />\n          {t(\"transform-video-keyframes-dialog-explanation-warning\")}\n        </b>\n      )}\n      <StyledExpansionPanel>\n        <StyledExpansionPanelSummary>Details</StyledExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <Box display=\"flex\">\n            <Box>\n              <Code>\n                {`{\n  \"interface\": { \"type\": \"video_segmentation\" },\n  samples: [\n    {\n      videoUrl: \"https://example.com/video1.mp4\"\n    }\n  ],\n  taskOutput: [\n    {\n      keyframes: {\n        \"0\": { /* labels */ },\n        \"1000\": { /* labels */ },\n        \"2000\": { /* labels */ }\n      }\n    }\n  ]\n}`}\n              </Code>\n            </Box>\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <ArrowForwardIcon\n                style={{ color: colors.grey[500], width: 48, height: 48 }}\n              />\n            </Box>\n            <Box>\n              <Code>\n                {`{\n  \"interface\": { \"type\": \"image_segmentation\" },\n  samples: [\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 0\n    },\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 1000\n    },\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 2000\n    }\n  ],\n  taskOutput: [\n    { /* labels */ },\n    { /* labels */ },\n    { /* labels */ }\n  ]\n}`}\n              </Code>\n            </Box>\n          </Box>\n        </ExpansionPanelDetails>\n      </StyledExpansionPanel>\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useElectron from \"../../hooks/use-electron\"\nimport ProgressBar from \"../ProgressBar\"\nimport md5 from \"js-md5\"\nimport path from \"path\"\nimport { setIn } from \"seamless-immutable\"\n\nimport { useTranslation } from \"react-i18next\"\n\nconst ErrorBox = styled(\"pre\")({\n  color: \"red\",\n  whiteSpace: \"prewrap\",\n  fontSize: 11,\n})\n\nfunction downloadFile(urlToDownload, directoryPath, remote) {\n  const fileName = `sample_${md5(urlToDownload).slice(0, 6)}__${urlToDownload\n    .split(\"/\")\n    .slice(-1)[0]\n    .replace(/[^a-zA-Z0-9_\\-.]/g, \"\")}`\n  const downloadPath = path.join(directoryPath, fileName)\n  if (remote.require(\"fs\").existsSync(downloadPath)) return downloadPath\n  return new Promise((resolve, reject) => {\n    remote.require(\"download-file\")(\n      urlToDownload,\n      {\n        directory: directoryPath,\n        filename: fileName,\n      },\n      (err) => {\n        if (err) return reject(err)\n        return resolve(downloadPath)\n      }\n    )\n  })\n}\n\nexport default ({ open, onChangeDataset, onClose, dataset }) => {\n  const { remote } = useElectron() || {}\n  const [progress, changeProgress] = useState(null)\n  const [errors, changeErrors] = useState(\"\")\n\n  const { t } = useTranslation()\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Download URLs\"\n      actions={[\n        {\n          text: \"Download URLs\",\n          disabled: progress !== null,\n          onClick: async () => {\n            changeProgress(0)\n            const {\n              cancelled,\n              filePaths: [directoryPath] = [null],\n            } = await remote.dialog.showOpenDialog({\n              title: \"Directory to download files to\",\n              buttonLabel: \"Download Files Here\",\n              properties: [\n                \"createDirectory\",\n                \"openDirectory\",\n                \"promptToCreate\",\n              ],\n            })\n            if (cancelled || !directoryPath) {\n              changeProgress(null)\n              return\n            }\n\n            const newSamples = [...dataset.samples]\n            let errors = \"\"\n\n            // Iterate over each task datum and download the url, then convert\n            // the path to a filesystem path\n            for (let i = 0; i < dataset.samples.length; i++) {\n              const td = dataset.samples[i]\n              let urlKey\n              if (td.imageUrl) urlKey = \"imageUrl\"\n              if (td.videoUrl) urlKey = \"videoUrl\"\n              if (!urlKey || !td[urlKey].startsWith(\"http\")) continue\n              const urlToDownload = td[urlKey]\n              try {\n                const pathToFile = await downloadFile(\n                  urlToDownload,\n                  directoryPath,\n                  remote\n                )\n                newSamples[i] = {\n                  ...td,\n                  [urlKey]: `file://${pathToFile}`,\n                }\n              } catch (e) {\n                errors += `Skipping sample, error downloading samples[${i}] (${urlToDownload}): ${e.toString()} \\n`\n              }\n              changeProgress((i / dataset.samples.length) * 100)\n            }\n\n            onChangeDataset(setIn(dataset, [\"samples\"], newSamples))\n\n            changeErrors(errors)\n            changeProgress(100)\n          },\n        },\n      ]}\n    >\n      {t(\"download-urls-dialog\")}\n      <ProgressBar progress={progress || 0} />\n      {errors && <ErrorBox>{errors}</ErrorBox>}\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useElectron from \"../../hooks/use-electron\"\nimport ProgressBar from \"../ProgressBar\"\nimport { setIn, without } from \"seamless-immutable\"\nimport { useTranslation } from \"react-i18next\"\n\nconst ErrorBox = styled(\"pre\")({\n  color: \"red\",\n  whiteSpace: \"prewrap\",\n  fontSize: 11,\n})\n\nconst getFfmpegTimeCode = (ms) => {\n  const cs = Math.floor(ms / 10) % 100\n  const ss = Math.floor(ms / 1000) % 60\n  const mn = Math.floor(ms / 1000 / 60) % 60\n  const hr = Math.floor(ms / 1000 / 60 / 60)\n  return [hr, \":\", mn, \":\", ss, \".\", cs]\n    .map((n) => (typeof n === \"number\" ? n.toString().padStart(2, \"0\") : n))\n    .join(\"\")\n}\n\nexport default ({ open, onChangeDataset, onClose, dataset }) => {\n  const { remote } = useElectron() || {}\n  const [progress, changeProgress] = useState(null)\n  const [errors, changeErrors] = useState(\"\")\n  const { t } = useTranslation()\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Convert Video Frames to Images\"\n      actions={[\n        {\n          text: \"Convert Video Frames to Images\",\n          disabled: progress !== null,\n          onClick: async () => {\n            changeProgress(0)\n            let errors = \"\"\n            const pathToFfmpeg = remote.require(\"ffmpeg-static\")\n            if (!pathToFfmpeg) {\n              changeErrors(\n                \"There was an issue using ffmpeg. Please create an issue on the github repository.\"\n              )\n            }\n\n            const shell = remote.require(\"any-shell-escape\")\n            const { exec } = remote.require(\"child_process\")\n            const newsamples = [...dataset.samples]\n            let transformsPerformed = 0\n\n            for (let i = 0; i < dataset.samples.length; i++) {\n              const td = dataset.samples[i]\n              if (td.videoUrl && td.videoFrameAt !== undefined) {\n                if (td.videoUrl.startsWith(\"http\")) {\n                  errors += `Sample ${i} has a url to a video, videos must be downloaded before extracting frames.`\n                  continue\n                }\n                transformsPerformed++\n\n                const videoPath = td.videoUrl.replace(/^file:\\/\\//, \"\")\n                const imageOutputPath =\n                  videoPath + \"__frameat__\" + td.videoFrameAt + \".jpg\"\n                const ffmpegCommand = shell([\n                  pathToFfmpeg,\n                  \"-y\",\n                  \"-ss\",\n                  getFfmpegTimeCode(td.videoFrameAt),\n                  \"-i\",\n                  videoPath,\n                  \"-frames:v\",\n                  1,\n                  imageOutputPath,\n                ])\n                await new Promise((resolve, reject) => {\n                  exec(ffmpegCommand, { timeout: 5000 }, (err) => {\n                    if (err) return reject(err)\n                    resolve()\n                  })\n                })\n                newsamples[i] = {\n                  ...without(\n                    without(dataset.samples[i], \"videoUrl\"),\n                    \"videoFrameAt\"\n                  ),\n                  imageUrl: `file://${imageOutputPath}`,\n                }\n              }\n              changeProgress((i / dataset.samples.length) * 100)\n            }\n\n            if (transformsPerformed === 0) {\n              errors +=\n                \"No transforms were performed, do all of your video samples have frames specified? You may need to convert the keyframes to samples.\"\n            }\n\n            onChangeDataset(setIn(dataset, [\"samples\"], newsamples))\n\n            changeErrors(errors)\n            changeProgress(100)\n          },\n        },\n      ]}\n    >\n      {t(\"transform-video-frames-to-images-dialog-explanation-text\")}\n      <ProgressBar progress={progress || 0} />\n      {errors && <ErrorBox>{errors}</ErrorBox>}\n    </SimpleDialog>\n  )\n}\n","const uploadFileToTransferSh = async ({ fileName, fileURL, remote }) => {\n  window.remote = remote // TODO remove\n  const remoteURL = `https://files.universaldatatool.com/${fileName}` ///${hashedFileName}\n\n  const axios = remote.require(\"axios\")\n  const exactFilePath = fileURL.split(\"file://\")[1]\n\n  const fsFileBuffer = remote.require(\"fs\").readFileSync(exactFilePath)\n\n  const uploadedFileURL = await axios\n    .put(remoteURL, fsFileBuffer)\n    .then((response) => {\n      if (response.status === 200) {\n        return response.data\n      }\n    })\n\n  return uploadedFileURL.replace(\n    \"universaldatatool.com/\",\n    \"universaldatatool.com/get/\"\n  )\n}\n\nexport default uploadFileToTransferSh\n","const splitFileNameFromFileURL = (fileURL) => {\n  if (fileURL.startsWith(\"file://\")) {\n    const splittedFullFileName = fileURL.split(\"/\")\n    const fullFileName = splittedFullFileName[splittedFullFileName.length - 1]\n    return fullFileName\n  }\n}\n\nexport default splitFileNameFromFileURL\n","const getFileURLKey = (item) => {\n  if (item.imageUrl) return \"imageUrl\"\n  if (item.videoUrl) return \"videoUrl\"\n  if (item.audioUrl) return \"audioUrl\"\n  return null\n}\n\nexport default getFileURLKey\n","import uploadFileToTransferSh from \"./upload-file-to-transfersh\"\nimport splitFileNameFromFileURL from \"./split-file-name-from-file-url\"\nimport getFileURLKey from \"./get-file-url-key\"\nimport { setIn } from \"seamless-immutable\"\n\n// TODO move to utils directory\nconst idify = (s) =>\n  s\n    .toLowerCase()\n    .replace(/[^a-z0-9]/g, \"_\")\n    .replace(/_+/g, \"_\")\n\nconst transformFileURLsToWebURLs = async ({\n  dataset,\n  onChangeDataset,\n  setProgress,\n  remote,\n}) => {\n  const newsamples = []\n\n  const progressUnit = 100 / dataset.samples.length\n  for (\n    let samplesIndex = 0;\n    samplesIndex < dataset.samples.length;\n    samplesIndex++\n  ) {\n    const samplesItem = dataset.samples[samplesIndex]\n\n    const fileURLKey = getFileURLKey(samplesItem)\n\n    if (!fileURLKey) {\n      newsamples.push(samplesItem)\n      continue\n    }\n\n    const fileURL = samplesItem[fileURLKey]\n\n    if (!fileURL.startsWith(\"file://\")) {\n      newsamples.push(samplesItem)\n      continue\n    }\n\n    const halfProgressOfUnit = progressUnit * samplesIndex\n    setProgress(halfProgressOfUnit)\n\n    const fileName = idify(splitFileNameFromFileURL(fileURL))\n\n    const webURLOfUploadedFile = await uploadFileToTransferSh({\n      fileName,\n      fileURL,\n      remote,\n    }).catch((e) => console.warn(e))\n\n    if (!webURLOfUploadedFile) {\n      newsamples.push(samplesItem)\n      continue\n    }\n\n    newsamples.push({\n      ...samplesItem,\n      [fileURLKey]: webURLOfUploadedFile,\n    })\n  }\n  setProgress(100)\n  onChangeDataset(setIn(dataset, [\"samples\"], newsamples))\n}\n\nexport default transformFileURLsToWebURLs\n","import React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport transformFileURLsToWebURLs from \"./functions/transform-file-urls-to-web-urls\"\nimport ProgressBar from \"../ProgressBar\"\nimport useElectron from \"../../hooks/use-electron\"\nimport { useTranslation } from \"react-i18next\"\n\nconst TransformLocalFilesToWebURLs = ({\n  open,\n  onClose,\n  dataset,\n  onChangeDataset,\n}) => {\n  const { t } = useTranslation()\n\n  const [progress, setProgress] = useState(0)\n  const { remote } = useElectron() || {}\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Convert Local Files to Web URLs\"\n      actions={[\n        {\n          text: \"Convert Local Files to Web URLs\",\n          onClick: async () =>\n            await transformFileURLsToWebURLs({\n              dataset,\n              onChangeDataset,\n              setProgress,\n              remote,\n            }),\n        },\n      ]}\n    >\n      {t(\"transform-local-files-to-web-urls-explanation\")}\n      <ProgressBar progress={progress} />\n    </SimpleDialog>\n  )\n}\n\nexport default TransformLocalFilesToWebURLs\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { setIn } from \"seamless-immutable\"\nimport Box from \"@material-ui/core/Box\"\nimport range from \"lodash/range\"\nimport TextField from \"@material-ui/core/TextField\"\nimport useDataset from \"../../hooks/use-dataset\"\n\nconst ErrorBox = styled(\"pre\")({\n  color: \"red\",\n  whiteSpace: \"prewrap\",\n  fontSize: 11,\n})\n\nexport default ({ open, onClose }) => {\n  const [errors, setErrors] = useState(\"\")\n  const [rows, setRows] = useState(\"2\")\n  const [columns, setColumns] = useState(\"2\")\n  const [dataset, setDataset] = useDataset()\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Convert Image Samples into Segments\"\n      actions={[\n        {\n          text: \"Convert Image Samples into Segments\",\n          onClick: async () => {\n            const [nRows, nCols] = [parseInt(rows), parseInt(columns)]\n\n            try {\n              setDataset(\n                setIn(\n                  dataset,\n                  [\"samples\"],\n                  range(nRows).flatMap((y) =>\n                    range(nCols).flatMap((x) =>\n                      dataset.samples.map((s) => {\n                        return setIn(s, [\"allowedArea\"], {\n                          x: x / nCols,\n                          y: y / nRows,\n                          width: 1 / nCols,\n                          height: 1 / nRows,\n                        })\n                      })\n                    )\n                  )\n                )\n              )\n              onClose()\n            } catch (e) {\n              setErrors(e.toString())\n            }\n          },\n        },\n      ]}\n    >\n      This transformation will multiply the number of image samples you have,\n      splitting each individual image into segments. The image is not processed\n      and clipped, but rather an \"allowedArea\" property is placed on the sample\n      which limits the labeling to a section of the image. This is useful when\n      trying to reduce the amount of work per image sample.\n      <Box padding={4}>\n        <TextField\n          label=\"Rows\"\n          value={rows}\n          onChange={(e) => setRows(e.target.value)}\n        />\n        <TextField\n          label=\"Columns\"\n          value={columns}\n          onChange={(e) => setColumns(e.target.value)}\n        />\n      </Box>\n      {errors && <ErrorBox>{errors}</ErrorBox>}\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { setIn } from \"seamless-immutable\"\nimport useDataset from \"../../hooks/use-dataset\"\n\nconst ErrorBox = styled(\"pre\")({\n  color: \"red\",\n  whiteSpace: \"prewrap\",\n  fontSize: 11,\n})\n\nexport default ({ open, onClose }) => {\n  const [errors, setErrors] = useState(\"\")\n  const [dataset, setDataset] = useDataset()\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Convert Segments to Image Samples\"\n      actions={[\n        {\n          text: \"Convert Segments to Image Samples\",\n          onClick: async () => {\n            try {\n              const imageUrls = Array.from(\n                new Set(dataset.samples.map((s) => s.imageUrl))\n              )\n              const newSamples = []\n              for (const imageUrl of imageUrls) {\n                const pieces = dataset.samples.filter(\n                  (s) => s.imageUrl === imageUrl\n                )\n                newSamples.push({\n                  imageUrl,\n                  annotation: pieces\n                    .flatMap((p) => p.annotation)\n                    .filter(Boolean),\n                })\n              }\n              setDataset(setIn(dataset, [\"samples\"], newSamples))\n              onClose()\n            } catch (e) {\n              setErrors(e.toString())\n            }\n          },\n        },\n      ]}\n    >\n      This transformation will take image samples that have been split into\n      segments (each with an allowedArea), and combine them into one image\n      sample again. This is typically executed after a splitting operation when\n      the samples are to be recombined.\n      {errors && <ErrorBox>{errors}</ErrorBox>}\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { setIn } from \"seamless-immutable\"\nimport ProgressBar from \"../ProgressBar\"\nimport useDataset from \"../../hooks/use-dataset\"\n\nasync function isUrlValid(url) {\n  return new Promise((resolve) => {\n    const image = document.createElement(\"img\")\n\n    image.onload = () => {\n      resolve(true)\n    }\n    image.onerror = () => {\n      resolve(false)\n    }\n\n    image.src = url\n\n    setTimeout(() => {\n      resolve(true)\n    }, 200)\n  })\n}\n\nexport default ({ open, onClose }) => {\n  const [dataset, setDataset] = useDataset()\n  // const [errors, setErrors] = useState(\"\")\n  const [filteredSamples, setFilteredSamples] = useState()\n  const [\n    { samplesRemoved, samplesProcessed, complete },\n    setProcessState,\n  ] = useState({\n    samplesRemoved: 0,\n    samplesProcessed: 0,\n    complete: false,\n  })\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Remove Invalid Samples\"\n      actions={[\n        {\n          text: \"Find Invalid Samples\",\n          onClick: async () => {\n            const samples = []\n            let samplesProcessed = 0,\n              samplesRemoved = 0\n            // TODO add parallelism\n            for (const sample of dataset.samples) {\n              setProcessState({\n                samplesRemoved,\n                samplesProcessed,\n                complete: false,\n              })\n              samplesProcessed += 1\n              const requestUrl = sample.imageUrl\n              if (!requestUrl || !requestUrl.startsWith(\"http\")) {\n                samples.push(sample)\n                continue\n              }\n              if (await isUrlValid(requestUrl)) {\n                samples.push(sample)\n                continue\n              }\n              samplesRemoved += 1\n            }\n\n            setProcessState({\n              samplesRemoved,\n              samplesProcessed,\n              complete: true,\n            })\n            setFilteredSamples(samples)\n          },\n        },\n        complete && {\n          text: \"Remove Invalid Samples\",\n          onClick: async () => {\n            setDataset(setIn(dataset, [\"samples\"], filteredSamples))\n          },\n        },\n      ].filter(Boolean)}\n    >\n      <ProgressBar\n        progress={\n          complete\n            ? 100\n            : (samplesProcessed / (dataset.samples?.length + 1)) * 100\n        }\n      />\n      <div>\n        Samples processed: {samplesProcessed}\n        <br />\n        Samples to be removed: {samplesRemoved}\n        <br />\n        Total samples: {dataset.samples?.length}\n      </div>\n      <div style={{ marginTop: 16 }}>\n        This transformation will try to request each sample's url, if any of\n        them do not return a valid status code the sample will be removed from\n        the dataset.\n      </div>\n    </SimpleDialog>\n  )\n}\n","// @flow\nimport React, { createContext, useContext, useEffect, useReducer } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\nimport classNames from \"classnames\"\nimport {\n  CheckCircle as SuccessIcon,\n  Close as CloseIcon,\n  Error as ErrorIcon,\n  Info as InfoIcon,\n  Warning as WarningIcon,\n} from \"@material-ui/icons\"\nimport Typography from \"@material-ui/core/Typography\"\nimport IconButton from \"@material-ui/core/IconButton\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 16,\n    right: 16,\n    alignItems: \"flex-start\",\n  },\n  msgBox: {\n    display: \"flex\",\n    backgroundColor: colors.blue[700],\n    fontSize: 12,\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4,\n    boxShadow: \"0px 3px 8px rgba(0,0,0,0.5)\",\n    \"&.warning\": {\n      backgroundColor: colors.orange[700],\n    },\n    \"&.error\": {\n      backgroundColor: colors.red[700],\n    },\n  },\n  notificationPaper: {\n    display: \"flex\",\n    borderRadius: 10,\n    padding: 12,\n    boxShadow: `0 2.8px 2.2px rgba(0, 0, 0, 0.034),\n                0 6.7px 5.3px rgba(0, 0, 0, 0.048);`,\n    backgroundColor: \"#FFF\",\n    margin: 6,\n  },\n  icon: {\n    borderLeft: `3px solid ${colors.blue[700]}`,\n    color: colors.blue[700],\n    \"&.warning\": {\n      borderLeft: `3px solid ${colors.orange[700]}`,\n      color: colors.orange[700],\n    },\n    \"&.error\": {\n      borderLeft: `3px solid ${colors.red[700]}`,\n      color: colors.red[700],\n    },\n    \"&.info\": {\n      borderLeft: `3px solid ${colors.blue[700]}`,\n      color: colors.blue[700],\n    },\n    \"&.success\": {\n      borderLeft: `3px solid ${colors.green[700]}`,\n      color: colors.green[700],\n    },\n  },\n})\n\nconst REFRESH_INTERVAL = 100\n\nconst ToastContext = createContext({})\n\nexport const useToasts = () => {\n  const { addToast } = useContext(ToastContext)\n\n  return { addToast }\n}\n\nexport const ToastProvider = ({ children }) => {\n  const [toasts, changeToasts] = useReducer((state = [], action) => {\n    if (action.type === \"add\") {\n      const fullLife =\n        action.messageType === \"info\"\n          ? 2000\n          : action.messageType === \"warning\"\n          ? 5000\n          : 5000\n\n      return state.concat([\n        {\n          id: Math.random().toString().split(\".\")[1],\n          message: action.message,\n          type: action.messageType,\n          life: fullLife,\n          fullLife,\n        },\n      ])\n    } else if (action.type === \"tick\") {\n      return state\n        .map((msg) => ({\n          ...msg,\n          life: msg.life - REFRESH_INTERVAL,\n        }))\n        .filter((msg) => msg.life > 0)\n    } else if (action.type === \"remove\") {\n      return state\n        .map((msg) => ({\n          ...msg,\n          life: msg.life - REFRESH_INTERVAL,\n        }))\n        .filter((msg) => msg.id !== action.id)\n    }\n    return state\n  }, [])\n  const c = useStyles()\n\n  useEffect(() => {\n    if (toasts.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeToasts({ type: \"tick\" })\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [toasts])\n\n  const addToast = (message: string, messageType: string = \"info\") =>\n    changeToasts({ type: \"add\", message, messageType })\n\n  return (\n    <>\n      <ToastContext.Provider value={{ toasts, addToast }}>\n        {children}\n      </ToastContext.Provider>\n      <div className={c.root}>\n        {toasts.map((msg) => (\n          <Collapse key={msg.id} in={msg.life < msg.fullLife}>\n            <Fade in={msg.life > 600}>\n              <Notification\n                type={msg.type}\n                message={msg.message}\n                onClose={() => changeToasts({ type: \"remove\", id: msg.id })}\n              />\n            </Fade>\n          </Collapse>\n        ))}\n      </div>\n    </>\n  )\n}\n\nexport const Notification = ({ type, message, onClose }) => {\n  const classes = useStyles()\n  let Icon = null\n  switch (type) {\n    case \"success\":\n      Icon = SuccessIcon\n      break\n    case \"warning\":\n      Icon = WarningIcon\n      break\n    case \"error\":\n      Icon = ErrorIcon\n      break\n    default:\n      Icon = InfoIcon\n  }\n  return (\n    <paper\n      className={classes.notificationPaper}\n      style={{ position: \"relative\" }}\n    >\n      <div className={classNames(classes.icon, type)}>\n        <Icon fontSize=\"large\" style={{ padding: 12 }} />\n      </div>\n      <div style={{ margin: \"auto 0\" }}>\n        <Typography variant=\"body1\">{message}</Typography>\n      </div>\n      <div\n        style={{\n          position: \"absolute\",\n          top: -10,\n          right: -10,\n          backgroundColor: \"#FFF\",\n          borderRadius: 100,\n        }}\n      >\n        <IconButton color=\"action\" size=\"small\">\n          <CloseIcon onClick={onClose} />\n        </IconButton>\n      </div>\n    </paper>\n  )\n}\n","import { useEffect } from \"react\"\nimport { useAppConfig } from \"../AppConfig\"\nimport { atom, useRecoilState, useRecoilValue } from \"recoil\"\nimport { useToasts } from \"../Toasts\"\n\nconst pluginsState = atom({\n  key: \"plugins\",\n  default: [],\n})\n\nexport const usePlugins = () => useRecoilValue(pluginsState)\n\nexport default () => {\n  // eslint-disable-next-line\n  const [plugins, setPlugins] = useRecoilState(pluginsState)\n  const { fromConfig } = useAppConfig()\n  const { addToast } = useToasts()\n\n  useEffect(() => {\n    async function loadPlugins() {\n      const pluginUrls = (fromConfig(\"pluginUrls\") || \"\")\n        .split(\"\\n\")\n        .filter(Boolean)\n\n      const plugins = []\n\n      for (const pluginUrl of pluginUrls) {\n        try {\n          const {\n            transformPlugins,\n            importPlugins,\n            interfacePlugins,\n            authenticationPlugins,\n          } = (await import(/* webpackIgnore: true */ pluginUrl)).default()\n\n          plugins.push(\n            ...transformPlugins.map((p) => ({ ...p, type: \"transform\" }))\n          )\n          plugins.push(...importPlugins.map((p) => ({ ...p, type: \"import\" })))\n          plugins.push(\n            ...interfacePlugins.map((p) => ({ ...p, type: \"interface\" }))\n          )\n          plugins.push(\n            ...authenticationPlugins.map((p) => ({\n              ...p,\n              type: \"authentication\",\n            }))\n          )\n        } catch (e) {\n          // TODO display broken plugin more nicely, using regex extraction of\n          // package and version\n          addToast(\n            \"Couldn't load plugin: \" + pluginUrl + \"\\n\\n\" + e.toString(),\n            \"error\"\n          )\n        }\n      }\n      setPlugins(plugins)\n    }\n    loadPlugins()\n    // eslint-disable-next-line\n  }, [fromConfig(\"pluginUrls\")])\n}\n","import React, { useEffect, useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { setIn } from \"seamless-immutable\"\n\nexport default ({\n  open,\n  onChangeDataset,\n  onClose,\n  dataset,\n  name,\n  renderDialog,\n}) => {\n  const [ref, setRef] = useState()\n  const [actions, setActions] = useState([])\n  useEffect(() => {\n    if (!open) return\n    if (!ref) return\n\n    let actions = []\n\n    renderDialog({\n      elm: ref,\n      onSuccess: () => {\n        onClose()\n      },\n      addAction: (action) => {\n        actions.push(action)\n        setActions(actions)\n      },\n      removeAction: (action) => {\n        actions = actions.filter((a) => a !== action)\n        setActions(actions)\n      },\n      dataset,\n      setInDataset: (path, val) => {\n        onChangeDataset(setIn(dataset, path, val))\n      },\n    })\n    //eslint-disable-next-line\n  }, [open, ref])\n\n  return (\n    <SimpleDialog title={name} open={open} onClose={onClose} actions={actions}>\n      <div ref={(newRef) => setRef(newRef)} />\n    </SimpleDialog>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport usePosthog from \"../../hooks/use-posthog\"\nimport useIsDesktop from \"../../hooks/use-is-desktop\"\nimport { useTranslation } from \"react-i18next\"\nimport classnames from \"classnames\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\n\nimport { SelectDialogContext } from \"./\"\n\nconst ButtonBase = styled(MuiButton)({\n  width: 240,\n  height: 140,\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  \"&.disabled\": {\n    backgroundColor: colors.grey[200],\n  },\n  margin: 8,\n  \"& .icon\": {\n    width: 36,\n    height: 36,\n    color: colors.grey[600],\n    \"&.disabled\": {\n      color: colors.grey[400],\n    },\n  },\n})\n\nconst DesktopOnlyText = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  \"&.disabled\": {\n    color: colors.grey[500],\n  },\n})\n\nexport const Button = ({\n  Icon1,\n  Icon2,\n  desktopOnly,\n  children,\n  dialog,\n  disabled,\n  onClick,\n}) => {\n  const isDesktop = useIsDesktop()\n  const posthog = usePosthog()\n  const { t } = useTranslation()\n\n  disabled =\n    disabled === undefined ? (desktopOnly ? !isDesktop : false) : disabled\n  return (\n    <SelectDialogContext.Consumer>\n      {({ onChangeDialog }) => {\n        return (\n          <ButtonBase\n            onClick={() => {\n              posthog.capture(\"transform_button_clicked\", {\n                transform_button: dialog || children,\n              })\n              if (onClick) return onClick()\n              onChangeDialog(dialog)\n            }}\n            className={classnames({ disabled })}\n            variant=\"outlined\"\n            disabled={disabled}\n          >\n            <div>\n              {Icon1 && Icon2 ? (\n                <>\n                  <Icon1 className={classnames(\"icon\", { disabled })} />\n                  <ArrowForwardIcon\n                    className={classnames(\"icon\", { disabled })}\n                  />\n                  <Icon2 className={classnames(\"icon\", { disabled })} />\n                </>\n              ) : (\n                <Icon1 className={classnames(\"icon\", { disabled })} />\n              )}\n              <div>{children}</div>\n              {desktopOnly && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  {t(\"desktop-only\").toUpperCase()}\n                </DesktopOnlyText>\n              )}\n            </div>\n          </ButtonBase>\n        )\n      }}\n    </SelectDialogContext.Consumer>\n  )\n}\n\nexport default Button\n","// @flow weak\n\nimport React, { useState, createContext } from \"react\"\nimport ImageIcon from \"@material-ui/icons/Image\"\nimport OndemandVideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport TransformVideoKeyframesDialog from \"../TransformVideoKeyframesDialog\"\nimport DownloadURLsDialog from \"../DownloadURLsDialog\"\nimport GetAppIcon from \"@material-ui/icons/GetApp\"\nimport CollectionsIcon from \"@material-ui/icons/Collections\"\nimport TransformVideoFramesToImagesDialog from \"../TransformVideoFramesToImagesDialog\"\nimport TransformLocalFilesToWebURLs from \"../TransformLocalFilesToWebURLs\"\nimport TransformImageSamplesIntoSegmentsDialog from \"../TransformImageSamplesIntoSegmentsDialog\"\nimport TransformSegmentsIntoImageSamplesDialog from \"../TransformSegmentsIntoImageSamplesDialog\"\nimport TransformRemoveInvalidSamplesDialog from \"../TransformRemoveInvalidSamplesDialog\"\nimport { usePlugins } from \"../PluginProvider\"\nimport PluginDialog from \"../PluginDialog\"\nimport useInterface from \"../../hooks/use-interface\"\nimport useActiveDatasetManager from \"../../hooks/use-active-dataset-manager\"\nimport Button from \"./Button\"\n\nimport PeopleAltIcon from \"@material-ui/icons/PeopleAlt\"\nimport ComputerIcon from \"@material-ui/icons/Computer\"\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\"\nimport LanguageIcon from \"@material-ui/icons/Language\"\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\"\nimport GridOnIcon from \"@material-ui/icons/GridOn\"\n\nimport { useTranslation } from \"react-i18next\"\n\nexport const SelectDialogContext = createContext()\n\nexport default () => {\n  const { t } = useTranslation()\n  const [selectedDialog, changeDialog] = useState()\n  const { iface } = useInterface()\n  const onChangeDialog = async (dialog) => {\n    switch (dialog) {\n      case \"convert-keyframes-to-samples\": {\n        break\n      }\n      default: {\n        return changeDialog(dialog)\n      }\n    }\n  }\n  const closeDialog = () => changeDialog(null)\n  const [openPlugin, setOpenPlugin] = useState(null)\n  const plugins = usePlugins()\n  const [datasetManager] = useActiveDatasetManager()\n\n  return (\n    <SelectDialogContext.Provider value={{ onChangeDialog }}>\n      <div>\n        <Button\n          disabled={iface?.type !== \"video_segmentation\"}\n          dialog=\"convert-keyframes-to-samples\"\n          Icon1={OndemandVideoIcon}\n          Icon2={CollectionsIcon}\n        >\n          {t(\"convert-video-keyframes-to-samples\")}\n        </Button>\n        <Button\n          desktopOnly\n          dialog=\"convert-local-files-to-web-urls\"\n          Icon1={ComputerIcon}\n          Icon2={LanguageIcon}\n        >\n          {t(\"transform-local-files-to-web-urls\")}\n        </Button>\n        <Button desktopOnly dialog=\"download-urls\" Icon1={GetAppIcon}>\n          {t(\"download\")} URLs\n        </Button>\n        <Button\n          desktopOnly\n          dialog=\"convert-video-frames-to-images\"\n          Icon1={OndemandVideoIcon}\n          Icon2={ImageIcon}\n        >\n          {t(\"convert-video-frames-to-images\")}\n        </Button>\n        <Button\n          dialog=\"split-image-samples-into-segments\"\n          Icon1={CheckBoxOutlineBlankIcon}\n          Icon2={GridOnIcon}\n        >\n          Split Image Samples into Segments\n        </Button>\n        <Button\n          dialog=\"combine-segments-into-image-samples\"\n          Icon1={GridOnIcon}\n          Icon2={CheckBoxOutlineBlankIcon}\n        >\n          Combine Segments into Image Samples\n        </Button>\n        <Button\n          dialog=\"remove-invalid-samples\"\n          Icon1={ImageIcon}\n          Icon2={HighlightOffIcon}\n        >\n          Remove Invalid Samples\n        </Button>\n        {plugins.map((plugin) => (\n          <Button\n            key={plugin.name}\n            Icon1={PeopleAltIcon}\n            Icon2={PeopleAltIcon}\n            onClick={() => setOpenPlugin(plugin)}\n          >\n            {plugin.name}\n          </Button>\n        ))}\n        {openPlugin && (\n          <PluginDialog\n            open={Boolean(openPlugin)}\n            onClose={() => setOpenPlugin(null)}\n            {...openPlugin}\n            datasetManager={datasetManager}\n          />\n        )}\n        <TransformRemoveInvalidSamplesDialog\n          open={selectedDialog === \"remove-invalid-samples\"}\n          onClose={closeDialog}\n        />\n        <TransformVideoKeyframesDialog\n          open={selectedDialog === \"convert-keyframes-to-samples\"}\n          onClose={closeDialog}\n        />\n        <DownloadURLsDialog\n          open={selectedDialog === \"download-urls\"}\n          onClose={closeDialog}\n          desktopOnly\n        ></DownloadURLsDialog>\n        <TransformLocalFilesToWebURLs\n          onClose={closeDialog}\n          desktopOnly\n          open={selectedDialog === \"convert-local-files-to-web-urls\"}\n        ></TransformLocalFilesToWebURLs>\n        <TransformVideoFramesToImagesDialog\n          open={selectedDialog === \"convert-video-frames-to-images\"}\n          onClose={closeDialog}\n          desktopOnly\n        ></TransformVideoFramesToImagesDialog>\n        <TransformImageSamplesIntoSegmentsDialog\n          open={selectedDialog === \"split-image-samples-into-segments\"}\n          onClose={closeDialog}\n        ></TransformImageSamplesIntoSegmentsDialog>\n        <TransformSegmentsIntoImageSamplesDialog\n          open={selectedDialog === \"combine-segments-into-image-samples\"}\n          onClose={closeDialog}\n        ></TransformSegmentsIntoImageSamplesDialog>\n      </div>\n    </SelectDialogContext.Provider>\n  )\n}\n","import { useEffect, useState } from \"react\"\nimport useActiveDatasetManager from \"../use-active-dataset-manager\"\n\nexport default () => {\n  const [dm] = useActiveDatasetManager()\n  const [retVal, setRetVal] = useState({ summaryLoading: true, summary: {} })\n\n  useEffect(() => {\n    if (!dm) return { summaryLoading: true, summary: {} }\n\n    function loadSummary() {\n      dm.getSummary().then((summary) => {\n        setRetVal({ summaryLoading: false, summary })\n      })\n    }\n\n    loadSummary()\n    dm.on(\"summary-changed\", loadSummary)\n    return () => {\n      dm.off(\"summary-changed\", loadSummary)\n    }\n  }, [dm])\n\n  return retVal\n}\n","import { useEffect, useState } from \"react\"\nimport useActiveDatasetManager from \"../use-active-dataset-manager\"\n\nexport default (sampleIndexOrId) => {\n  const [\n    { currentSampleId, currentSampleIndex, sample },\n    setCurrentSample,\n  ] = useState({})\n  const [dm] = useActiveDatasetManager()\n\n  useEffect(() => {\n    setCurrentSample({ currentSampleId: null, sampleLoading: true })\n    async function loadSample() {\n      const summary = await dm.getSummary()\n      let sampleIndex, sampleId\n\n      if (typeof sampleIndexOrId === \"string\") {\n        sampleIndex = summary.samples.findIndex((s) => s.id === sampleIndexOrId)\n        sampleId = sampleIndexOrId\n      } else if (typeof sampleIndexOrId === \"number\") {\n        if (sampleIndexOrId >= summary.samples.length) {\n          setCurrentSample({ currentSampleId: null })\n          return\n        }\n        sampleIndex = sampleIndexOrId\n        sampleId = summary.samples[sampleIndexOrId]._id\n      }\n\n      if (!sampleId) {\n        return\n      }\n\n      const sample = await dm.getSample(sampleId)\n\n      setCurrentSample({\n        currentSampleId: sampleId,\n        currentSampleIndex: sampleIndex,\n        sample,\n      })\n    }\n    loadSample()\n  }, [sampleIndexOrId, dm])\n\n  if (!dm)\n    return {\n      sampleLoading: true,\n      currentSampleIndex: null,\n      currentSampleId: null,\n      sample: null,\n      updateSample: () => {\n        throw new Error(\"no sample loaded\")\n      },\n    }\n\n  return {\n    sampleLoading: !sample,\n    currentSampleIndex,\n    currentSampleId,\n    sample,\n    updateSample: async (newSample) => {\n      await dm.setSample(currentSampleId, newSample)\n    },\n  }\n}\n","import useActiveDatasetManager from \"../use-active-dataset-manager\"\n\nexport default (datasetPropertyKey: string) => {\n  const [dm] = useActiveDatasetManager()\n  return dm?.removeSamples\n}\n","import React, { useMemo } from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport DataTable from \"react-data-table-component\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport useSample from \"../../hooks/use-sample\"\nimport useSummary from \"../../hooks/use-summary\"\nimport useRemoveSamples from \"../../hooks/use-remove-samples\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\n\nconst ExpandedRowContainer = styled(\"div\")({\n  padding: 8,\n  border: \"#888 solid 1px\",\n  borderTop: \"none\",\n  borderRadius: 4,\n  borderTopLeftRadius: 0,\n  borderTopRightRadius: 0,\n  boxShadow: \"inset 0 3px 3px rgba(0,0,0,0.2)\",\n})\nconst ExpandedRowTitle = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n})\nconst ExpandedRowCode = styled(\"pre\")({ whiteSpace: \"pre-wrap\", fontSize: 11 })\n\nconst ExpandedRow = ({ data }) => {\n  const { sample } = useSample(data._id)\n  const { annotation, ...input } = sample || {}\n\n  return (\n    <ExpandedRowContainer>\n      <Grid spacing={2} container>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>samples[{data.index}]:</ExpandedRowTitle>\n          <ExpandedRowCode>{JSON.stringify(input, null, \"  \")}</ExpandedRowCode>\n        </Grid>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>samples[{data.index}].annotation:</ExpandedRowTitle>\n          <ExpandedRowCode>\n            {JSON.stringify(annotation, null, \"  \")}\n          </ExpandedRowCode>\n        </Grid>\n      </Grid>\n    </ExpandedRowContainer>\n  )\n}\n\nexport const SamplesTable = ({ onClickSample }) => {\n  const { summary } = useSummary()\n  const removeSamples = useRemoveSamples()\n  const data = useMemo(() => {\n    if (!summary?.samples) return []\n    return summary.samples.map((td, i) => ({\n      ...td,\n      index: i,\n    }))\n  }, [summary])\n  const columns = useMemo(() => {\n    if (!summary || (summary?.samples || []).length === 0) return []\n    const columns = [\n      {\n        name: \"Index\",\n        selector: \"index\",\n        sortable: true,\n      },\n    ]\n    const knownKeys = new Set()\n    for (const td of summary.samples) {\n      for (const key in td) {\n        if (!knownKeys.has(key)) {\n          columns.push({\n            name: key,\n            selector: key,\n            cell: (row) =>\n              typeof row[key] !== \"object\"\n                ? row[key].toString()\n                : JSON.stringify(row[key]).slice(0, 30) + \"...\",\n          })\n          knownKeys.add(key)\n        }\n      }\n    }\n    // TODO \"Edit\" allows editing of the sample JSON\n    // columns.push({\n    //   name: \"Edit\",\n    //   button: true,\n    //   cell: (row) => (\n    //     <IconButton raised onClick={() => onClickSample(row.index)}>\n    //       <EditIcon style={{ width: 20, height: 20 }} />\n    //     </IconButton>\n    //   ),\n    // })\n    columns.push({\n      name: \"Label\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised onClick={() => onClickSample(row.index)}>\n          <BorderColorIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    columns.push({\n      name: \"Delete\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised primary onClick={() => removeSamples([row._id])}>\n          <DeleteIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    return columns\n  }, [summary, onClickSample, removeSamples])\n  return (\n    <DataTable\n      title=\"Samples\"\n      expandableRowsComponent={<ExpandedRow />}\n      expandableRows\n      dense\n      columns={columns}\n      data={data}\n      pagination\n      paginationPerPage={10}\n      paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n    />\n  )\n}\n\nexport default SamplesTable\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SampleGrid from \"../SampleGrid\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport AppsIcon from \"@material-ui/icons/Apps\"\nimport SlideshowIcon from \"@material-ui/icons/Slideshow\"\nimport TableChartIcon from \"@material-ui/icons/TableChart\"\nimport Box from \"@material-ui/core/Box\"\nimport ImportIcon from \"@material-ui/icons/Publish\"\nimport ImportPage from \"../ImportPage\"\nimport TransformPage from \"../TransformPage\"\nimport useIsDesktop from \"../../hooks/use-is-desktop\"\nimport useSummary from \"../../hooks/use-summary\"\nimport * as colors from \"@material-ui/core/colors\"\nimport SamplesTable from \"../SamplesTable\"\n\nconst Container = styled(\"div\")({\n  height: \"100%\",\n  padding: 8,\n  paddingBottom: 0,\n  display: \"flex\",\n  flexDirection: \"column\",\n  boxSizing: \"border-box\",\n})\n\nconst SampleCounter = styled(\"div\")({\n  fontSize: 14,\n  color: colors.grey[600],\n  display: \"flex\",\n  justifyContent: \"flex-end\",\n  alignItems: \"center\",\n  flexGrow: 1,\n})\n\nexport const SamplesView = ({\n  openSampleInputEditor,\n  openSampleLabelEditor,\n  user,\n}) => {\n  const isDesktop = useIsDesktop()\n  const { summary } = useSummary()\n  const [currentTab, changeTabState] = useState(\"grid\")\n\n  const changeTab = (tab) => {\n    changeTabState(tab)\n    window.localStorage.lastSampleTab = tab\n  }\n\n  return (\n    <Container>\n      <Box display=\"flex\">\n        <Tabs value={currentTab} onChange={(e, newTab) => changeTab(newTab)}>\n          <Tab icon={<ImportIcon />} label=\"Import\" value=\"import\" />\n          <Tab icon={<SlideshowIcon />} label=\"Transform\" value=\"transform\" />\n          <Tab icon={<AppsIcon />} label=\"Grid\" value=\"grid\" />\n          <Tab icon={<TableChartIcon />} label=\"Table\" value=\"table\" />\n        </Tabs>\n        <SampleCounter>\n          {(summary.samples || []).length} Samples\n          <br />\n          {(summary.samples || []).filter((s) => s?.hasAnnotation).length}{\" \"}\n          Labels\n        </SampleCounter>\n      </Box>\n      <Box paddingTop={2} />\n      <Box flexGrow={1}>\n        {currentTab === \"import\" && (\n          <ImportPage\n            isDesktop={isDesktop}\n            onImportPageShouldExit={() => changeTab(\"grid\")}\n            user={user}\n          />\n        )}\n        {currentTab === \"transform\" && <TransformPage />}\n        {currentTab === \"grid\" && (\n          <SampleGrid\n            tablePaginationPadding={6}\n            samples={summary.samples || []}\n            onClick={(sampleIndex) => {\n              openSampleLabelEditor(sampleIndex)\n            }}\n          />\n        )}\n        {currentTab === \"table\" && (\n          <SamplesTable\n            onClickSample={(sampleIndex) => {\n              openSampleLabelEditor(sampleIndex)\n            }}\n          />\n        )}\n      </Box>\n    </Container>\n  )\n}\nexport default SamplesView\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn, asMutable } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"regionTypesAllowed\",\n      title: \"Region Types Allowed\",\n      description: \"What types of regions can be drawn on the image.\",\n      type: \"multiple-dropdown\",\n      choices: [\"bounding-box\", \"polygon\", \"point\"],\n    },\n    {\n      name: \"multipleRegions\",\n      title: \"Can multiple regions be created?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"multipleRegionLabels\",\n      title: \"Multiple Region Labels Allowed?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Available Labels\",\n      description:\n        \"If you're labeling regions on an image, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () =>\n      asMutable(\n        {\n          multipleRegions: Boolean(\n            iface.multipleRegions || iface.multipleRegions === undefined\n          ),\n          multipleRegionLabels: Boolean(iface.multipleRegionLabels),\n          regionTypesAllowed: iface.regionTypesAllowed,\n          labels:\n            (iface.labels || []).map((a) =>\n              typeof a === \"string\" ? { id: a, description: a } : a\n            ) || [],\n        },\n        { deep: true }\n      ),\n    [iface]\n  )\n  return (\n    <div style={{ display: \"block\" }}>\n      <Survey\n        noActions\n        variant=\"flat\"\n        defaultAnswers={defaultAnswers}\n        onQuestionChange={(questionId, newValue, answers) => {\n          onChange(setIn(iface, [questionId], newValue))\n        }}\n        form={form}\n      />\n    </div>\n  )\n}\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\n\nconst maxClusterPresets = {\n  low: 1000,\n  medium: 8000,\n  high: 64000,\n}\nconst maxClusterPresetsRev = Object.entries(maxClusterPresets).reduce(\n  (acc, curr) => {\n    acc[curr[1]] = curr[0]\n    return acc\n  },\n  {}\n)\n\nconst form = {\n  questions: [\n    {\n      name: \"labels\",\n      title: \"Available Labels\",\n      description:\n        \"If you're labeling regions on an image, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n    {\n      name: \"description\",\n      title: \"Sidebar Description\",\n      description: \"Any instructions or notes in markdown.\",\n      type: \"text\",\n    },\n    {\n      name: \"autosegMode\",\n      type: \"dropdown\",\n      title: \"Automatic Segmentation Engine\",\n      choices: [\"simple\", \"autoseg\"],\n    },\n    {\n      name: \"autosegPreset\",\n      type: \"dropdown\",\n      visibleIf: \"{autosegMode}='autoseg'\",\n      title: \"Super Pixel Quality\",\n      choices: [\"low\", \"medium\", \"high\", \"custom\"],\n    },\n    {\n      name: \"autosegMaxClusters\",\n      type: \"slider\",\n      visibleIf: \"{autosegPreset}='custom'\",\n      title: \"Total Super Pixels\",\n      min: 10,\n      max: 100000,\n      step: 10,\n      defaultValue: 1000,\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      description: iface.description,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n      autosegMode: iface.autoSegmentationEngine?.mode,\n      autosegPreset:\n        maxClusterPresetsRev[\n          iface.autoSegmentationEngine?.maxClusters || 1000\n        ] || \"custom\",\n      autosegMaxClusters: iface.autoSegmentationEngine?.maxClusters || 1000,\n    }),\n    [iface]\n  )\n  return (\n    <>\n      <Survey\n        noActions\n        variant=\"flat\"\n        defaultAnswers={defaultAnswers}\n        onQuestionChange={(questionId, newValue, answers) => {\n          onChange({\n            ...iface,\n            description: answers.description,\n            labels: answers.labels,\n            autoSegmentationEngine: {\n              mode: answers.autosegMode,\n              maxClusters:\n                answers.autosegPreset === \"custom\"\n                  ? answers.autosegMaxClusters\n                  : maxClusterPresets[answers.autosegPreset],\n            },\n          })\n        }}\n        form={form}\n      />\n    </>\n  )\n}\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"multiple\",\n      title: \"Allow multiple classifications per image?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      description: \"Classifications or tags to be labeled.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multiple: iface.multiple ? iface.multiple : false,\n      labels:\n        (iface.labels || []).map((a) => {\n          return typeof a === \"string\" ? { id: a, description: a } : a\n        }) || [],\n    }),\n    [iface.labels, iface.multiple]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue) => {\n        var arrayId = []\n        if (Array.isArray(newValue))\n          newValue = newValue.filter((json) => {\n            if (arrayId.includes(json.id)) return false\n            arrayId.push(json.id)\n            return true\n          })\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"multiple\",\n      title: \"Allow Multiple Classifications\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      description: \"Classifications or tags to be labeled.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        { cellType: \"text\", name: \"displayName\", title: \"Display Name\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multiple: false,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, displayName: a, description: a } : a\n        ) || [],\n    }),\n    [iface.labels]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","import React from \"react\"\nimport Survey from \"material-survey/components/Survey\"\n\n// https://gist.github.com/DimazzzZ/4e2a5a6c8c6f67900091#gistcomment-2021620\nconst languages = [\n  { value: \"ab\", text: \"Abkhazian\" },\n  { value: \"aa\", text: \"Afar\" },\n  { value: \"af\", text: \"Afrikaans\" },\n  { value: \"ak\", text: \"Akan\" },\n  { value: \"sq\", text: \"Albanian\" },\n  { value: \"am\", text: \"Amharic\" },\n  { value: \"ar\", text: \"Arabic\" },\n  { value: \"an\", text: \"Aragonese\" },\n  { value: \"hy\", text: \"Armenian\" },\n  { value: \"as\", text: \"Assamese\" },\n  { value: \"av\", text: \"Avaric\" },\n  { value: \"ae\", text: \"Avestan\" },\n  { value: \"ay\", text: \"Aymara\" },\n  { value: \"az\", text: \"Azerbaijani\" },\n  { value: \"bm\", text: \"Bambara\" },\n  { value: \"ba\", text: \"Bashkir\" },\n  { value: \"eu\", text: \"Basque\" },\n  { value: \"be\", text: \"Belarusian\" },\n  { value: \"bn\", text: \"Bengali\" },\n  { value: \"bh\", text: \"Bihari languages\" },\n  { value: \"bi\", text: \"Bislama\" },\n  { value: \"bs\", text: \"Bosnian\" },\n  { value: \"br\", text: \"Breton\" },\n  { value: \"bg\", text: \"Bulgarian\" },\n  { value: \"my\", text: \"Burmese\" },\n  { value: \"ca\", text: \"Catalan, Valencian\" },\n  { value: \"km\", text: \"Central Khmer\" },\n  { value: \"ch\", text: \"Chamorro\" },\n  { value: \"ce\", text: \"Chechen\" },\n  { value: \"ny\", text: \"Chichewa, Chewa, Nyanja\" },\n  { value: \"zh\", text: \"Chinese\" },\n  { value: \"cu\", text: \"Church Slavonic, Old Bulgarian, Old Church Slavonic\" },\n  { value: \"cv\", text: \"Chuvash\" },\n  { value: \"kw\", text: \"Cornish\" },\n  { value: \"co\", text: \"Corsican\" },\n  { value: \"cr\", text: \"Cree\" },\n  { value: \"hr\", text: \"Croatian\" },\n  { value: \"cs\", text: \"Czech\" },\n  { value: \"da\", text: \"Danish\" },\n  { value: \"dv\", text: \"Divehi, Dhivehi, Maldivian\" },\n  { value: \"nl\", text: \"Dutch, Flemish\" },\n  { value: \"dz\", text: \"Dzongkha\" },\n  { value: \"en\", text: \"English\" },\n  { value: \"eo\", text: \"Esperanto\" },\n  { value: \"et\", text: \"Estonian\" },\n  { value: \"ee\", text: \"Ewe\" },\n  { value: \"fo\", text: \"Faroese\" },\n  { value: \"fj\", text: \"Fijian\" },\n  { value: \"fi\", text: \"Finnish\" },\n  { value: \"fr\", text: \"French\" },\n  { value: \"ff\", text: \"Fulah\" },\n  { value: \"gd\", text: \"Gaelic, Scottish Gaelic\" },\n  { value: \"gl\", text: \"Galician\" },\n  { value: \"lg\", text: \"Ganda\" },\n  { value: \"ka\", text: \"Georgian\" },\n  { value: \"de\", text: \"German\" },\n  { value: \"ki\", text: \"Gikuyu, Kikuyu\" },\n  { value: \"el\", text: \"Greek (Modern)\" },\n  { value: \"kl\", text: \"Greenlandic, Kalaallisut\" },\n  { value: \"gn\", text: \"Guarani\" },\n  { value: \"gu\", text: \"Gujarati\" },\n  { value: \"ht\", text: \"Haitian, Haitian Creole\" },\n  { value: \"ha\", text: \"Hausa\" },\n  { value: \"he\", text: \"Hebrew\" },\n  { value: \"hz\", text: \"Herero\" },\n  { value: \"hi\", text: \"Hindi\" },\n  { value: \"ho\", text: \"Hiri Motu\" },\n  { value: \"hu\", text: \"Hungarian\" },\n  { value: \"is\", text: \"Icelandic\" },\n  { value: \"io\", text: \"Ido\" },\n  { value: \"ig\", text: \"Igbo\" },\n  { value: \"id\", text: \"Indonesian\" },\n  {\n    value: \"ia\",\n    text: \"Interlingua (International Auxiliary Language Association)\",\n  },\n  { value: \"ie\", text: \"Interlingue\" },\n  { value: \"iu\", text: \"Inuktitut\" },\n  { value: \"ik\", text: \"Inupiaq\" },\n  { value: \"ga\", text: \"Irish\" },\n  { value: \"it\", text: \"Italian\" },\n  { value: \"ja\", text: \"Japanese\" },\n  { value: \"jv\", text: \"Javanese\" },\n  { value: \"kn\", text: \"Kannada\" },\n  { value: \"kr\", text: \"Kanuri\" },\n  { value: \"ks\", text: \"Kashmiri\" },\n  { value: \"kk\", text: \"Kazakh\" },\n  { value: \"rw\", text: \"Kinyarwanda\" },\n  { value: \"kv\", text: \"Komi\" },\n  { value: \"kg\", text: \"Kongo\" },\n  { value: \"ko\", text: \"Korean\" },\n  { value: \"kj\", text: \"Kwanyama, Kuanyama\" },\n  { value: \"ku\", text: \"Kurdish\" },\n  { value: \"ky\", text: \"Kyrgyz\" },\n  { value: \"lo\", text: \"Lao\" },\n  { value: \"la\", text: \"Latin\" },\n  { value: \"lv\", text: \"Latvian\" },\n  { value: \"lb\", text: \"Letzeburgesch, Luxembourgish\" },\n  { value: \"li\", text: \"Limburgish, Limburgan, Limburger\" },\n  { value: \"ln\", text: \"Lingala\" },\n  { value: \"lt\", text: \"Lithuanian\" },\n  { value: \"lu\", text: \"Luba-Katanga\" },\n  { value: \"mk\", text: \"Macedonian\" },\n  { value: \"mg\", text: \"Malagasy\" },\n  { value: \"ms\", text: \"Malay\" },\n  { value: \"ml\", text: \"Malayalam\" },\n  { value: \"mt\", text: \"Maltese\" },\n  { value: \"gv\", text: \"Manx\" },\n  { value: \"mi\", text: \"Maori\" },\n  { value: \"mr\", text: \"Marathi\" },\n  { value: \"mh\", text: \"Marshallese\" },\n  { value: \"ro\", text: \"Moldovan, Moldavian, Romanian\" },\n  { value: \"mn\", text: \"Mongolian\" },\n  { value: \"na\", text: \"Nauru\" },\n  { value: \"nv\", text: \"Navajo, Navaho\" },\n  { value: \"nd\", text: \"Northern Ndebele\" },\n  { value: \"ng\", text: \"Ndonga\" },\n  { value: \"ne\", text: \"Nepali\" },\n  { value: \"se\", text: \"Northern Sami\" },\n  { value: \"no\", text: \"Norwegian\" },\n  { value: \"nb\", text: \"Norwegian Bokml\" },\n  { value: \"nn\", text: \"Norwegian Nynorsk\" },\n  { value: \"ii\", text: \"Nuosu, Sichuan Yi\" },\n  { value: \"oc\", text: \"Occitan (post 1500)\" },\n  { value: \"oj\", text: \"Ojibwa\" },\n  { value: \"or\", text: \"Oriya\" },\n  { value: \"om\", text: \"Oromo\" },\n  { value: \"os\", text: \"Ossetian, Ossetic\" },\n  { value: \"pi\", text: \"Pali\" },\n  { value: \"pa\", text: \"Panjabi, Punjabi\" },\n  { value: \"ps\", text: \"Pashto, Pushto\" },\n  { value: \"fa\", text: \"Persian\" },\n  { value: \"pl\", text: \"Polish\" },\n  { value: \"pt\", text: \"Portuguese\" },\n  { value: \"qu\", text: \"Quechua\" },\n  { value: \"rm\", text: \"Romansh\" },\n  { value: \"rn\", text: \"Rundi\" },\n  { value: \"ru\", text: \"Russian\" },\n  { value: \"sm\", text: \"Samoan\" },\n  { value: \"sg\", text: \"Sango\" },\n  { value: \"sa\", text: \"Sanskrit\" },\n  { value: \"sc\", text: \"Sardinian\" },\n  { value: \"sr\", text: \"Serbian\" },\n  { value: \"sn\", text: \"Shona\" },\n  { value: \"sd\", text: \"Sindhi\" },\n  { value: \"si\", text: \"Sinhala, Sinhalese\" },\n  { value: \"sk\", text: \"Slovak\" },\n  { value: \"sl\", text: \"Slovenian\" },\n  { value: \"so\", text: \"Somali\" },\n  { value: \"st\", text: \"Sotho, Southern\" },\n  { value: \"nr\", text: \"South Ndebele\" },\n  { value: \"es\", text: \"Spanish, Castilian\" },\n  { value: \"su\", text: \"Sundanese\" },\n  { value: \"sw\", text: \"Swahili\" },\n  { value: \"ss\", text: \"Swati\" },\n  { value: \"sv\", text: \"Swedish\" },\n  { value: \"tl\", text: \"Tagalog\" },\n  { value: \"ty\", text: \"Tahitian\" },\n  { value: \"tg\", text: \"Tajik\" },\n  { value: \"ta\", text: \"Tamil\" },\n  { value: \"tt\", text: \"Tatar\" },\n  { value: \"te\", text: \"Telugu\" },\n  { value: \"th\", text: \"Thai\" },\n  { value: \"bo\", text: \"Tibetan\" },\n  { value: \"ti\", text: \"Tigrinya\" },\n  { value: \"to\", text: \"Tonga (Tonga Islands)\" },\n  { value: \"ts\", text: \"Tsonga\" },\n  { value: \"tn\", text: \"Tswana\" },\n  { value: \"tr\", text: \"Turkish\" },\n  { value: \"tk\", text: \"Turkmen\" },\n  { value: \"tw\", text: \"Twi\" },\n  { value: \"ug\", text: \"Uighur, Uyghur\" },\n  { value: \"uk\", text: \"Ukrainian\" },\n  { value: \"ur\", text: \"Urdu\" },\n  { value: \"uz\", text: \"Uzbek\" },\n  { value: \"ve\", text: \"Venda\" },\n  { value: \"vi\", text: \"Vietnamese\" },\n  { value: \"vo\", text: \"Volap_k\" },\n  { value: \"wa\", text: \"Walloon\" },\n  { value: \"cy\", text: \"Welsh\" },\n  { value: \"fy\", text: \"Western Frisian\" },\n  { value: \"wo\", text: \"Wolof\" },\n  { value: \"xh\", text: \"Xhosa\" },\n  { value: \"yi\", text: \"Yiddish\" },\n  { value: \"yo\", text: \"Yoruba\" },\n  { value: \"za\", text: \"Zhuang, Chuang\" },\n  { value: \"zu\", text: \"Zulu\" },\n]\n\nconst form = {\n  questions: [\n    {\n      name: \"transcriptionType\",\n      title: \"Transcription Type\",\n      type: \"dropdown\",\n      choices: [\"simple\", \"proper\"],\n    },\n    {\n      name: \"phraseBank\",\n      title: \"Phrase Bank\",\n      description: \"URL of single-column CSV or TXT file with allowed phrases\",\n      type: \"text\",\n    },\n    {\n      name: \"onlyUseWordsInPhraseBank\",\n      title: \"Only Use Words In Phrase Bank\",\n      type: \"boolean\",\n    },\n    {\n      name: \"language\",\n      title: \"Language\",\n      type: \"dropdown\",\n      // https://gist.github.com/DimazzzZ/4e2a5a6c8c6f67900091#gistcomment-2858621\n      choices: languages,\n    },\n    {\n      name: \"description\",\n      title: \"Description\",\n      type: \"multiline-text\",\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      onQuestionChange={(questionId, newValue, answers) => {\n        if (newValue.value) {\n          onChange({ ...iface, [questionId]: newValue.value })\n        } else {\n          onChange({ ...iface, [questionId]: newValue })\n        }\n      }}\n      form={form}\n      defaultAnswers={form.questions.reduce(\n        (defaults, question) => ({\n          ...defaults,\n          [question.name]: iface[question.name],\n        }),\n        {}\n      )}\n    />\n  )\n}\n","import React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    // TODO uncomment when description can be seen in the interface somewhere\n    // {\n    //   name: \"description\",\n    //   title: \"Description\",\n    //   type: \"multiline-text\",\n    // },\n    // TODO enable when we support overlap\n    // {\n    //   name: \"overlapAllowed\",\n    //   title: \"Overlap Allowed\",\n    //   type: \"boolean\",\n    // },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      type: \"matrixdynamic\",\n      hasOther: true,\n      columns: [\n        {\n          cellType: \"text\",\n          name: \"id\",\n          title: \"ID\",\n        },\n        {\n          cellType: \"text\",\n          name: \"displayName\",\n          title: \"Display Name\",\n        },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      description: iface.description,\n      overlapAllowed: Boolean(\n        iface.overlapAllowed || iface.overlapAllowed === undefined\n      ),\n      labels: (iface.labels || []).map((column) =>\n        typeof column === \"string\"\n          ? {\n              id: column,\n              displayName: column,\n              description: column,\n            }\n          : column\n      ),\n    }),\n    [iface]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n      defaultAnswers={defaultAnswers}\n    />\n  )\n}\n","import React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"entityLabels\",\n      title: \"Entity Labels\",\n      type: \"matrixdynamic\",\n      columns: [\n        {\n          cellType: \"text\",\n          name: \"id\",\n          title: \"ID\",\n        },\n        {\n          cellType: \"text\",\n          name: \"displayName\",\n          title: \"Display Name\",\n        },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description\",\n        },\n      ],\n    },\n    {\n      name: \"relationLabels\",\n      title: \"Relation Labels\",\n      type: \"matrixdynamic\",\n      columns: [\n        {\n          cellType: \"text\",\n          name: \"id\",\n          title: \"ID\",\n        },\n        {\n          cellType: \"text\",\n          name: \"displayName\",\n          title: \"Display Name\",\n        },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      entityLabels: (iface.entityLabels || []).map((column) =>\n        typeof column === \"string\"\n          ? {\n              id: column,\n              displayName: column,\n              description: column,\n            }\n          : column\n      ),\n      relationLabels: (iface.relationLabels || []).map((column) =>\n        typeof column === \"string\"\n          ? {\n              id: column,\n              displayName: column,\n              description: column,\n            }\n          : column\n      ),\n    }),\n    [iface]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n      defaultAnswers={defaultAnswers}\n    />\n  )\n}\n","// @flow\n\nimport React, { useRef, useState } from \"react\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Menu from \"@material-ui/core/Menu\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Survey from \"material-survey/components/Survey\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { setIn } from \"seamless-immutable\"\n\nimport { useTranslation } from \"react-i18next\"\n\nconst ButtonsContainer = styled(\"div\")({\n  textAlign: \"right\",\n})\nconst NoQuestions = styled(\"div\")({\n  fontSize: 18,\n  color: colors.grey[500],\n  fontWeight: \"bold\",\n  textAlign: \"center\",\n  padding: 16,\n})\n\nconst Question = styled(\"div\")({\n  position: \"relative\",\n  padding: 16,\n  margin: 16,\n  borderLeft: `4px solid ${colors.blue[400]}`,\n  // backgroundColor: colors.grey[50],\n  borderRadius: 4,\n  paddingRight: 64,\n  \"& .quitButton\": {\n    position: \"absolute\",\n    right: 4,\n    top: 4,\n  },\n  \"& > *\": {\n    margin: 8,\n  },\n})\nconst PreviewHeader = styled(\"div\")({\n  fontSize: 12,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  textTransform: \"uppercase\",\n  margin: 16,\n  marginBottom: 32,\n})\n\nconst StyledButton = styled(Button)({\n  position: \"relative\",\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n  },\n})\n\nexport default ({ iface, onChange }) => {\n  const anchorEl = useRef()\n  const [menuOpen, changeMenuOpen] = useState(false)\n  const { questions = [] } = iface.surveyjs || {}\n\n  const { t } = useTranslation()\n\n  return (\n    <div>\n      {questions.length === 0 ? (\n        <NoQuestions>No Inputs, Click Add Input Below</NoQuestions>\n      ) : (\n        questions.map((q, i) => (\n          <Question key={i}>\n            <div style={{ display: \"flex\" }}>\n              <TextField\n                variant=\"outlined\"\n                label=\"Name / Identifier\"\n                value={q.name || \"\"}\n                onChange={(e) => {\n                  onChange(\n                    setIn(\n                      iface,\n                      [\"surveyjs\", \"questions\", i, \"name\"],\n                      e.target.value\n                    )\n                  )\n                }}\n              />\n              <TextField\n                style={{ marginLeft: 8, flexGrow: 1 }}\n                variant=\"outlined\"\n                label=\"Title / Instruction\"\n                value={q.title || \"\"}\n                onChange={(e) => {\n                  onChange(\n                    setIn(\n                      iface,\n                      [\"surveyjs\", \"questions\", i, \"title\"],\n                      e.target.value\n                    )\n                  )\n                }}\n              />\n            </div>\n            <Grid container>\n              <Grid item xs={6}>\n                {q.choices && (\n                  <TextField\n                    style={{\n                      marginTop: 8,\n                      paddingRight: 8,\n                      boxSizing: \"border-box\",\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    label=\"Choices (One per Line)\"\n                    defaultValue={q.choices.join(\"\\n\") || \"\"}\n                    onChange={(e) => {\n                      onChange(\n                        setIn(\n                          iface,\n                          [\"surveyjs\", \"questions\", i, \"choices\"],\n                          e.target.value.split(\"\\n\")\n                        )\n                      )\n                    }}\n                    multiline\n                    rows={6}\n                  />\n                )}\n              </Grid>\n              <Grid item xs={6}>\n                <PreviewHeader>Preview</PreviewHeader>\n                <Survey\n                  noActions\n                  variant=\"flat\"\n                  key={q}\n                  form={{ questions: [q] }}\n                />\n              </Grid>\n            </Grid>\n            <IconButton\n              className=\"quitButton\"\n              onClick={() => {\n                onChange(\n                  setIn(\n                    iface,\n                    [\"surveyjs\", \"questions\"],\n                    [...questions.slice(0, i), ...questions.slice(i + 1)]\n                  )\n                )\n              }}\n            >\n              <CancelIcon />\n            </IconButton>\n          </Question>\n        ))\n      )}\n      <ButtonsContainer>\n        <StyledButton onClick={(e) => changeMenuOpen(true)} ref={anchorEl}>\n          <AddCircleIcon className=\"icon\" />\n          {t(\"add-input\")}\n        </StyledButton>\n      </ButtonsContainer>\n      <Menu\n        anchorEl={anchorEl && anchorEl.current}\n        open={menuOpen}\n        onClose={() => changeMenuOpen(false)}\n      >\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                ((iface.surveyjs || {}).questions || []).concat([\n                  {\n                    name: \"input\" + questions.length,\n                    type: \"text\",\n                    title: \"New Text Input\",\n                  },\n                ])\n              )\n            )\n          }}\n        >\n          {t(\"text-input\")}\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.surveyjs.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"radiogroup\",\n                  title: \"New Exclusive Choice Input\",\n                  choices: [\"Yes\", \"Maybe\", \"No\"],\n                })\n              )\n            )\n          }}\n        >\n          {t(\"exclusive-choice\")}\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.surveyjs.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"checkbox\",\n                  title: \"New Checkbox Input\",\n                  choices: [\"A\", \"B\", \"C\"],\n                })\n              )\n            )\n          }}\n        >\n          Checkboxes\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                iface.surveyjs.questions.concat({\n                  name: \"input\" + questions.length,\n                  type: \"boolean\",\n                  title: \"New Boolean Input\",\n                })\n              )\n            )\n          }}\n        >\n          Boolean\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"dropdown\",\n                  title: \"New Dropdown Input\",\n                  choices: [\"A\", \"B\", \"C\"],\n                })\n              )\n            )\n          }}\n        >\n          {t(\"drop-down-autocomplete\")}\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                iface.surveyjs.questions.concat([\n                  {\n                    name: \"input\" + questions.length,\n                    type: \"multiple-dropdown\",\n                    title: \"New Multiple Dropdown Input\",\n                    choices: [\"A\", \"B\", \"C\"],\n                  },\n                ])\n              )\n            )\n          }}\n        >\n          {t(\"multiple-item-dropdown-autocomplete\")}\n        </MenuItem>\n      </Menu>\n    </div>\n  )\n}\n","import React from \"react\"\nimport ConfigureInterface from \"../ConfigureInterface\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\"\nimport Button from \"@material-ui/core/Button\"\nimport Box from \"@material-ui/core/Box\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { setIn } from \"seamless-immutable\"\n\nimport { useTranslation } from \"react-i18next\"\n\nconst Fields = styled(\"div\")({})\nconst StyledExpansionPanel = styled(ExpansionPanel)({\n  marginTop: 16,\n  border: \"2px solid #000\",\n})\nconst StyledButton = styled(Button)({\n  width: \"100%\",\n  margin: 16,\n  marginLeft: 0,\n})\n\nexport default ({ iface, onChange }) => {\n  const { t } = useTranslation()\n\n  return (\n    <React.Fragment>\n      <Fields>\n        {(iface.fields || []).map((f, fieldIndex) => (\n          <StyledExpansionPanel key={fieldIndex}>\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n              {f.fieldName}\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>\n              <Box display=\"flex\" flexDirection=\"column\">\n                <TextField\n                  label=\"Field Name\"\n                  value={f.fieldName}\n                  onChange={(e) => {\n                    onChange(\n                      setIn(\n                        [\"fields\", fieldIndex, \"fieldName\"],\n                        e.target.value,\n                        iface\n                      )\n                    )\n                  }}\n                />\n                <ConfigureInterface\n                  isNested\n                  interface={f.interface}\n                  onChange={(newFieldInterface) => {\n                    onChange({\n                      ...iface,\n                      fields: iface.fields.map((field) =>\n                        field.fieldName === f.fieldName\n                          ? { ...f, interface: newFieldInterface }\n                          : field\n                      ),\n                    })\n                  }}\n                />\n                <Button\n                  onClick={() => {\n                    onChange({\n                      ...iface,\n                      fields: iface.fields.filter(\n                        ({ fieldName }) => fieldName !== f.fieldName\n                      ),\n                    })\n                  }}\n                >\n                  {t(\"remove-field\")}\n                </Button>\n              </Box>\n            </ExpansionPanelDetails>\n          </StyledExpansionPanel>\n        ))}\n        <StyledButton\n          onClick={() => {\n            onChange(\n              setIn(\n                iface,\n                [\"fields\"],\n                (iface.fields || []).concat({\n                  fieldOrder: (iface.fields || []).length,\n                  fieldName: \"New Field\",\n                  interface: {\n                    type: \"empty\",\n                  },\n                })\n              )\n            )\n          }}\n        >\n          {t(\"add-new-field\")}\n        </StyledButton>\n      </Fields>\n    </React.Fragment>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nimport { useTranslation } from \"react-i18next\"\n\nconst ExplanationTextHeader = styled(\"div\")({\n  textAlign: \"center\",\n  paddingTop: 30,\n  paddingBottom: 50,\n  userSelect: \"none\",\n})\n\nconst ExplanationText = styled(\"h3\")({\n  fontWeight: \"bold\",\n  color: colors.grey[500],\n})\n\nconst GithubLink = styled(\"a\")({\n  color: colors.blue[500],\n})\n\nconst Configure3D = () => {\n  const { t } = useTranslation()\n\n  return (\n    <ExplanationTextHeader>\n      <ExplanationText>\n        {t(\"configure-3d-explanation-text-part-1\")}{\" \"}\n        <GithubLink\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://github.com/UniversalDataTool/universal-data-tool/issues/20\"\n        >\n          this\n        </GithubLink>{\" \"}\n        {t(\"github-issue\")}.\n      </ExplanationText>\n    </ExplanationTextHeader>\n  )\n}\n\nexport default Configure3D\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"regionTypesAllowed\",\n      title: \"Region Types Allowed\",\n      description: \"What types of regions can be drawn on the image.\",\n      type: \"multiple-dropdown\",\n      choices: [\"bounding-box\", \"polygon\", \"point\"],\n    },\n    {\n      name: \"multipleRegions\",\n      title: \"Can multiple regions be created?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"multipleRegionLabels\",\n      title: \"Multiple Region Labels Allowed?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      description:\n        \"If you're labeling regions on an video frames, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multipleRegions: Boolean(\n        iface.multipleRegions || iface.multipleRegions === undefined\n      ),\n      multipleRegionLabels: Boolean(iface.multipleRegionLabels),\n      regionTypesAllowed: iface.regionTypesAllowed,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n    }),\n    [iface]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default ({ iface, onChange }) => {\n  return (\n    <div>\n      We'd like to put a little interface to edit poses or landmarks here, but\n      we need help! Check out this{\" \"}\n      <a href=\"https://github.com/UniversalDataTool/universal-data-tool/issues/307\">\n        Github Issue\n      </a>{\" \"}\n      to learn more! For now just turn to the JSON tab to edit the landmarks\n      manually!\n    </div>\n  )\n}\n","import React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { asMutable } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"enabledTools\",\n      title: \"Enabled Tools\",\n      type: \"multiple-dropdown\",\n      choices: [\n        \"create-durations\",\n        \"label-durations\",\n        \"create-timestamps\",\n        \"label-timestamps\",\n      ],\n    },\n    {\n      name: \"timeFormat\",\n      title: \"Time Format\",\n      type: \"dropdown\",\n      choices: [\"dates\", \"none\", \"duration\"],\n    },\n    {\n      name: \"allowCustomLabels\",\n      title: \"Allow Custom Labels\",\n      type: \"boolean\",\n    },\n    {\n      name: \"durationLabels\",\n      title: \"Duration Labels\",\n      type: \"matrixdynamic\",\n      columns: [{ cellType: \"text\", name: \"id\", title: \"id\" }],\n    },\n    {\n      name: \"timestampLabels\",\n      title: \"Timestamp Labels\",\n      type: \"matrixdynamic\",\n      columns: [{ cellType: \"text\", name: \"id\", title: \"id\" }],\n    },\n    {\n      name: \"graphs\",\n      title: \"Graphs\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"keyName\", title: \"Key Name\" },\n        { cellType: \"text\", name: \"row\", title: \"Row (optional)\" },\n        { cellType: \"text\", name: \"color\", title: \"Color (optional)\" },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () =>\n      asMutable(\n        {\n          ...iface,\n          durationLabels: (iface.durationLabels || []).map((a) => ({ id: a })),\n          timestampLabels: (iface.timestampLabels || []).map((a) => ({\n            id: a,\n          })),\n          graphs: (iface.graphs || []).map((a) => ({\n            ...a,\n            ...(a.row !== null && a.row !== undefined\n              ? { row: a.row.toString() }\n              : {}),\n          })),\n        },\n        { deep: true }\n      ),\n    [iface]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      onQuestionChange={(questionId, newValue, answers) => {\n        if (\n          questionId === \"durationLabels\" ||\n          questionId === \"timestampLabels\"\n        ) {\n          if (newValue.length === 0) {\n            newValue = undefined\n          } else {\n            newValue = newValue.map((a) => a.id)\n          }\n        }\n        if (questionId === \"graphs\") {\n          newValue = newValue.map((graphRow) => ({\n            ...graphRow,\n            row: graphRow.row ? parseInt(graphRow.row) : undefined,\n          }))\n        }\n        if (newValue.value) {\n          onChange({ ...iface, [questionId]: newValue.value })\n        } else {\n          onChange({ ...iface, [questionId]: newValue })\n        }\n      }}\n      form={form}\n      defaultAnswers={defaultAnswers}\n    />\n  )\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport ConfigureImageSegmentation from \"../ConfigureImageSegmentation\"\nimport ConfigureImagePixelSegmentation from \"../ConfigureImagePixelSegmentation\"\nimport ConfigureImageClassification from \"../ConfigureImageClassification\"\nimport ConfigureTextClassification from \"../ConfigureTextClassification\"\nimport ConfigureAudioTranscription from \"../ConfigureAudioTranscription\"\nimport ConfigureTextEntityRecognition from \"../ConfigureTextEntityRecognition\"\nimport ConfigureTextEntityRelations from \"../ConfigureTextEntityRelations\"\nimport ConfigureDataEntry from \"../ConfigureDataEntry\"\nimport ConfigureComposite from \"../ConfigureComposite\"\nimport Configure3D from \"../Configure3D\"\nimport ConfigureVideoSegmentation from \"../ConfigureVideoSegmentation\"\nimport ConfigureImageLandmarkAnnotation from \"../ConfigureImageLandmarkAnnotation\"\nimport ConfigureTimeSeries from \"../ConfigureTimeSeries\"\n\nconst Container = styled(\"div\")({\n  padding: 24,\n})\n\nconst NoOptions = styled(\"div\")({\n  fontSize: 18,\n  textAlign: \"center\",\n  fontWeight: \"bold\",\n  color: colors.grey[500],\n  paddingTop: 30,\n  paddingBottom: 50,\n})\n\nexport const ConfigureInterface = ({\n  interface: iface,\n  onChange,\n  onClickEditJSON,\n  isNested = false,\n}) => {\n  return (\n    <Container>\n      {!iface?.type && <NoOptions>Select a Type</NoOptions>}\n      {iface?.type === \"image_segmentation\" && (\n        <ConfigureImageSegmentation iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"image_pixel_segmentation\" && (\n        <ConfigureImagePixelSegmentation iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"image_classification\" && (\n        <ConfigureImageClassification iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"composite\" && (\n        <ConfigureComposite iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"data_entry\" && (\n        <ConfigureDataEntry iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"audio_transcription\" && (\n        <ConfigureAudioTranscription iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"text_entity_recognition\" && (\n        <ConfigureTextEntityRecognition iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"text_entity_relations\" && (\n        <ConfigureTextEntityRelations iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"text_classification\" && (\n        <ConfigureTextClassification iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"video_segmentation\" && (\n        <ConfigureVideoSegmentation iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"3d_bounding_box\" && (\n        <Configure3D iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"image_landmark_annotation\" && (\n        <ConfigureImageLandmarkAnnotation iface={iface} onChange={onChange} />\n      )}\n      {iface?.type === \"time_series\" && (\n        <ConfigureTimeSeries iface={iface} onChange={onChange} />\n      )}\n    </Container>\n  )\n}\n\nexport default ConfigureInterface\n","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Table from \"@material-ui/core/Table\"\nimport TableBody from \"@material-ui/core/TableBody\"\nimport TableCell from \"@material-ui/core/TableCell\"\nimport TableContainer from \"@material-ui/core/TableContainer\"\nimport TableHead from \"@material-ui/core/TableHead\"\nimport TableRow from \"@material-ui/core/TableRow\"\nimport Button from \"@material-ui/core/Button\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nconst useStyles = makeStyles({\n  table: {},\n})\n\nconst hotkeyIconStyle = { marginLeft: 8, width: 16, height: 16 }\n\nexport default ({\n  open,\n  onClose,\n  onChangeHotkey,\n  hotkeyList,\n  onClearHotkeys,\n}) => {\n  const classes = useStyles()\n  const [selectedHotKey, setSelectedHotKey] = useState()\n  const [{ modifier, key }, setCurrentKeyCombo] = useState({})\n\n  useEffect(() => {\n    if (!selectedHotKey) return\n    function keyListener(e) {\n      if ([\"shift\", \"ctrl\", \"cmd\", \"alt\"].includes(e.key.toLowerCase())) {\n        setCurrentKeyCombo({ modifier: e.key.toLowerCase(), key })\n      }\n      if (e.key.length === 1) {\n        setCurrentKeyCombo({ modifier, key: e.key.toLowerCase() })\n      }\n    }\n    window.addEventListener(\"keydown\", keyListener)\n    return () => {\n      window.removeEventListener(\"keydown\", keyListener)\n    }\n  }, [selectedHotKey, key, modifier, setCurrentKeyCombo])\n\n  useEffect(() => {\n    if (!key) return\n    if (modifier) {\n      onChangeHotkey(selectedHotKey, `${modifier} + ${key}`)\n    } else {\n      onChangeHotkey(selectedHotKey, key)\n    }\n    setCurrentKeyCombo({})\n    setSelectedHotKey(null)\n  }, [modifier, key, onChangeHotkey, selectedHotKey])\n\n  return (\n    <SimpleDialog\n      title=\"Manage Keyboard Shortcuts\"\n      actions={[\n        {\n          text: \"Clear Hotkeys\",\n          onClick: onClearHotkeys,\n        },\n      ]}\n      open={open}\n      onClose={onClose}\n    >\n      <TableContainer>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Action</TableCell>\n              <TableCell align=\"right\">Keyboard Shortcut</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {hotkeyList.map((hotkey) => (\n              <TableRow key={hotkey.description}>\n                <TableCell>{hotkey.description}</TableCell>\n                <TableCell align=\"right\">\n                  <Button\n                    onClick={() => {\n                      if (selectedHotKey !== hotkey) {\n                        setSelectedHotKey(hotkey)\n                        setCurrentKeyCombo({})\n                        return\n                      }\n                    }}\n                    style={{ minWidth: 0 }}\n                  >\n                    <b>\n                      {selectedHotKey === hotkey\n                        ? modifier || key\n                          ? `<${modifier ? modifier + \"+\" : \"\"}${key || \"???\"}>`\n                          : \"<Press Any Key>\"\n                        : hotkey.binding}\n                    </b>\n                    {selectedHotKey === hotkey ? (\n                      <EditIcon style={hotkeyIconStyle} />\n                    ) : (\n                      <EditIcon style={hotkeyIconStyle} />\n                    )}\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </SimpleDialog>\n  )\n}\n","import React, { useState } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { useUpdate } from \"react-use\"\nimport { styled } from \"@material-ui/core/styles\"\nimport usePosthog from \"../../hooks/use-posthog\"\nimport { useAppConfig } from \"../AppConfig\"\nimport { useHotkeyStorage } from \"../HotkeyStorage\"\nimport KeyboardShortcutManagerDialog from \"../KeyboardShortcutManagerDialog\"\n\nimport { useTranslation } from \"react-i18next\"\n\nconst Button = styled(MuiButton)({\n  margin: 8,\n})\n\nexport const AdvancedOptionsView = ({ onClickEditJSON, onClearLabelData }) => {\n  const forceUpdate = useUpdate()\n  const posthog = usePosthog()\n  const { fromConfig, setInConfig } = useAppConfig()\n  const { hotkeys, changeHotkey, clearHotkeys } = useHotkeyStorage()\n  const [hotkeyDialogOpen, setHotkeyDialogOpen] = useState(false)\n\n  // internalization hook\n  const { t } = useTranslation()\n\n  return (\n    <Box padding={2}>\n      <Button\n        onClick={() => {\n          if (\n            window.confirm(\n              \"Are you sure you want to delete all your label data? Click OK to delete.\"\n            )\n          ) {\n            onClearLabelData()\n          }\n        }}\n        variant=\"outlined\"\n      >\n        {t(\"clear-labels\")}\n      </Button>\n      <Button\n        variant=\"outlined\"\n        onClick={() => {\n          if (posthog.has_opted_out_capturing()) {\n            posthog.opt_in_capturing()\n          } else {\n            posthog.opt_out_capturing()\n          }\n          forceUpdate()\n        }}\n      >\n        {posthog.has_opted_out_capturing() ? \"Enable\" : \"Disable\"}{\" \"}\n        {t(\"telemetry\")}\n      </Button>\n      <Button\n        variant=\"outlined\"\n        onClick={() => {\n          // TODO store in appConfig\n          const response = window.prompt(\n            \"Input URL for new collaboration server (empty to use universaldatatool.com):\",\n            fromConfig(\"collaborationServer.url\")\n          )\n          if (response === null) return\n          setInConfig(\"collaborationServer.url\", response)\n        }}\n      >\n        {t(\"custom-collaboration-server\")}\n      </Button>\n      <Button\n        variant=\"outlined\"\n        onClick={() => {\n          setInConfig(\n            \"labelhelp.disabled\",\n            !Boolean(fromConfig(\"labelhelp.disabled\"))\n          )\n        }}\n      >\n        {fromConfig(\"labelhelp.disabled\") ? \"Enable\" : \"Disable\"}{\" \"}\n        {t(\"label-help\")}\n      </Button>\n      {!fromConfig(\"labelhelp.disabled\") && (\n        <Button\n          variant=\"outlined\"\n          disabled={Boolean(fromConfig(\"labelhelp.disabled\"))}\n          onClick={() => {\n            const response = window.prompt(\n              \"Label Help API Key:\",\n              fromConfig(\"labelhelp.apikey\") || \"\"\n            )\n            if (response === null) return\n            setInConfig(\"labelhelp.apikey\", response)\n          }}\n        >\n          {t(\"label-help-api-key\")}\n        </Button>\n      )}\n      <Button\n        variant=\"outlined\"\n        onClick={() => {\n          setHotkeyDialogOpen(true)\n        }}\n      >\n        Change/View Hotkeys\n      </Button>\n      <KeyboardShortcutManagerDialog\n        open={hotkeyDialogOpen}\n        hotkeyList={hotkeys}\n        onClose={() => setHotkeyDialogOpen(false)}\n        onClearHotkeys={clearHotkeys}\n        onChangeHotkey={(hotkey, newBinding) =>\n          changeHotkey(hotkey.id, newBinding)\n        }\n      />\n    </Box>\n  )\n}\n\nexport default AdvancedOptionsView\n","import React from \"react\"\nimport templates from \"../StartingPage/templates\"\nimport Button from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  padding: 24,\n  boxSizing: \"border-box\",\n  \"&.emptyState\": {\n    textAlign: \"center\",\n    backgroundColor: colors.blue[800],\n    minHeight: \"85vh\",\n    padding: 64,\n    \"& .bigText\": {\n      textAlign: \"left\",\n      fontSize: 48,\n      color: \"#fff\",\n      fontWeight: \"bold\",\n      marginBottom: 48,\n    },\n  },\n})\n\nconst BigButton = styled(Button)({\n  padding: 10,\n  width: 200,\n  height: 150,\n  boxShadow: \"0px 3px 5px rgba(0,0,0,0.3)\",\n  margin: 12,\n  \"& .bigIcon\": {\n    marginTop: 16,\n    width: 64,\n    height: 64,\n  },\n  transition: \"transform 100ms\",\n  \"&:hover\": {\n    backgroundColor: \"#fff\",\n    transform: \"scale(1.04,1.04)\",\n  },\n  backgroundColor: colors.blue[100],\n  \"&.selected\": {\n    backgroundColor: \"#fff\",\n  },\n})\n\nexport const BigInterfaceSelect = ({ onChange, currentInterfaceType }) => {\n  return (\n    <Container className=\"emptyState\">\n      <div className=\"bigText\">Choose an Interface:</div>\n      {templates\n        .filter((t) => t.name !== \"Empty\")\n        .map((template) => (\n          <BigButton\n            key={template.name}\n            className={\n              currentInterfaceType === template.dataset.interface.type\n                ? \"selected\"\n                : \"\"\n            }\n            disabled={currentInterfaceType === template.dataset.interface.type}\n            onClick={() => onChange(template.dataset.interface)}\n          >\n            <div>\n              <div>{template.name}</div>\n              <div>\n                <template.Icon className=\"bigIcon\" />\n              </div>\n            </div>\n          </BigButton>\n        ))}\n    </Container>\n  )\n}\n\nexport default BigInterfaceSelect\n","import i18n from \"i18next\"\nimport { initReactI18next } from \"react-i18next\"\nimport enTranslation from \"./locales/en/translation.json\"\nimport frTranslation from \"./locales/fr/translations.json\"\nimport cnTranslation from \"./locales/cn/translations.json\"\nimport ptBrTranslation from \"./locales/pt-br/translation.json\"\nimport nlTranslation from \"./locales/nl/translation.json\"\n\nimport LanguageDetector from \"i18next-browser-languagedetector\"\n// not like to use this?\n// have a look at the Quick start guide\n// for passing in lng and translations on init\n\ni18n\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: \"en\",\n    debug: true,\n\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n\n    resources: {\n      fr: {\n        translation: frTranslation,\n      },\n      en: {\n        translation: enTranslation,\n      },\n      cn: {\n        translation: cnTranslation,\n      },\n      pt: {\n        translation: ptBrTranslation,\n      },\n      nl: {\n        translation: nlTranslation,\n      },\n    },\n  })\n\nexport default i18n\n","import React from \"react\"\nimport NLPAnnotator from \"react-nlp-annotate\"\n\nexport const TextClassification = ({\n  sample,\n  interface: iface,\n  onExit,\n  sampleIndex,\n  onModifySample,\n  disableHotkeys,\n}) => {\n  const { annotation = null } = sample || {}\n\n  const initialLabels = annotation\n    ? typeof annotation === \"string\"\n      ? [annotation]\n      : annotation\n    : undefined\n  if (!iface.labels) {\n    throw new Error(\"Labels not defined. Try defining some labels in Setup\")\n  }\n  let labels = iface.labels\n    .map((l) =>\n      typeof l === \"string\" ? { id: l, description: l, displayName: l } : l\n    )\n    .map((l) => (!l.displayName ? { ...l, displayName: l.id } : l))\n  return (\n    <NLPAnnotator\n      key={sampleIndex}\n      type=\"label-document\"\n      labels={labels}\n      multipleLabels={iface?.multiple}\n      separatorRegex={iface?.wordSplitRegex}\n      document={sample?.document}\n      initialLabels={initialLabels}\n      hotkeysEnabled={!disableHotkeys}\n      onPrev={(result) => {\n        onModifySample({ ...sample, annotation: result })\n        onExit(\"go-to-previous\")\n      }}\n      onNext={(result) => {\n        onModifySample({ ...sample, annotation: result })\n        onExit(\"go-to-next\")\n      }}\n      onFinish={(result) => {\n        onModifySample({ ...sample, annotation: result })\n        onExit()\n      }}\n    />\n  )\n}\n\nexport default TextClassification\n","export const simpleSequenceToEntitySequence = (simpleSeq) => {\n  const entSeq = []\n  let charsPassed = 0\n  for (const seq of simpleSeq || []) {\n    if (seq.label) {\n      entSeq.push({\n        text: seq.text,\n        label: seq.label,\n        start: charsPassed,\n        end: charsPassed + seq.text.length,\n      })\n    }\n    charsPassed += seq.text.length\n  }\n  return entSeq\n}\n\nexport const simpleSequenceAndRelationsToEntitySequence = ({\n  sequence: simpleSeq,\n  relationships,\n}) => {\n  const textIdsInRelation = new Set(\n    (relationships || []).flatMap((r) => [r.from, r.to])\n  )\n\n  const entSeq = []\n  let charsPassed = 0\n  for (const seq of simpleSeq || []) {\n    if (seq.label || (seq.textId && textIdsInRelation.has(seq.textId))) {\n      entSeq.push({\n        text: seq.text,\n        textId: seq.textId,\n        label: seq.label,\n        start: charsPassed,\n        end: charsPassed + seq.text.length - 1,\n      })\n    }\n    charsPassed += seq.text.length\n  }\n  return { entities: entSeq, relations: relationships }\n}\n\nexport const entitySequenceToSimpleSeq = (doc, entSeq) => {\n  if (!entSeq) return undefined\n  const simpleSeq = []\n  entSeq = [...entSeq]\n  entSeq.sort((a, b) => a.start - b.start)\n  let nextEntity = 0\n  for (let i = 0; i < doc.length; i++) {\n    if ((entSeq[nextEntity] || {}).start === i) {\n      simpleSeq.push({\n        text: entSeq[nextEntity].text,\n        label: entSeq[nextEntity].label,\n        textId:\n          entSeq[nextEntity].textId || Math.random().toString(36).slice(-6),\n      })\n      // i = entSeq[nextEntity].end\n      i += entSeq[nextEntity].text.length - 1\n      simpleSeq.push({ text: \"\" })\n      nextEntity += 1\n    } else {\n      if (simpleSeq.length === 0 || simpleSeq[simpleSeq.length - 1].label) {\n        simpleSeq.push({\n          text: doc[i],\n          textId: Math.random().toString(36).slice(-6),\n        })\n      } else {\n        simpleSeq[simpleSeq.length - 1].text += doc[i]\n      }\n    }\n  }\n  if (simpleSeq.map((s) => s.text).join(\"\") !== doc) {\n    throw new Error(\n      \"Combining annotation entities with document didn't match document.\\n\\n\" +\n        simpleSeq.map((s) => s.text).join(\"\") +\n        \"\\n\\nvs\\n\\n\" +\n        doc\n    )\n  }\n  return simpleSeq.filter((item) => item.text.length > 0)\n}\n","import React from \"react\"\nimport NLPAnnotator from \"react-nlp-annotate\"\nimport Box from \"@material-ui/core/Box\"\nimport {\n  simpleSequenceToEntitySequence,\n  entitySequenceToSimpleSeq,\n} from \"./convert-react-nlp-annotate-types\"\n\nexport const TextEntityRecognition = ({\n  sample,\n  interface: iface,\n  onModifySample,\n  disableHotkeys,\n  sampleIndex,\n  onExit,\n}) => {\n  const initialSequence = sample?.annotation\n    ? entitySequenceToSimpleSeq(sample?.document, sample?.annotation.entities)\n    : null\n\n  if (!iface?.labels) {\n    throw new Error(\"Labels not defined. Try adding some labels in setup.\")\n  }\n\n  return (\n    <NLPAnnotator\n      key={sampleIndex}\n      titleContent={<Box paddingLeft={4}>Sample {sampleIndex}</Box>}\n      type=\"label-sequence\"\n      separatorRegex={iface?.wordSplitRegex}\n      document={sample?.document}\n      labels={iface?.labels}\n      initialSequence={initialSequence}\n      hotkeysEnabled={!disableHotkeys}\n      onPrev={(result) => {\n        const annotation = {\n          entities: simpleSequenceToEntitySequence(result),\n        }\n        onModifySample({ ...sample, annotation })\n        onExit(\"go-to-previous\")\n      }}\n      onNext={(result) => {\n        const annotation = {\n          entities: simpleSequenceToEntitySequence(result),\n        }\n        onModifySample({ ...sample, annotation })\n        onExit(\"go-to-next\")\n      }}\n      onFinish={(result) => {\n        const annotation = {\n          entities: simpleSequenceToEntitySequence(result),\n        }\n        onModifySample({ ...sample, annotation })\n        onExit()\n      }}\n    />\n  )\n}\n\nexport default TextEntityRecognition\n","import React from \"react\"\nimport NLPAnnotator from \"react-nlp-annotate\"\nimport Box from \"@material-ui/core/Box\"\nimport {\n  simpleSequenceAndRelationsToEntitySequence,\n  entitySequenceToSimpleSeq,\n} from \"../TextEntityRecognition/convert-react-nlp-annotate-types\"\n\nexport const TextEntityRelations = ({\n  sample,\n  interface: iface,\n  onExit,\n  onModifySample,\n  disableHotkeys,\n  sampleIndex,\n}) => {\n  const initialSequence = sample?.annotation\n    ? entitySequenceToSimpleSeq(sample?.document, sample?.annotation?.entities)\n    : undefined\n\n  const initialRelations = sample?.annotation?.relations || []\n\n  if (!iface?.relationLabels) {\n    throw new Error(\n      \"Relation labels not defined. Try adding some labels in setup.\"\n    )\n  }\n\n  return (\n    <NLPAnnotator\n      key={sampleIndex}\n      titleContent={<Box paddingLeft={4}>Sample {sampleIndex}</Box>}\n      type=\"label-relationships\"\n      separatorRegex={iface?.wordSplitRegex}\n      document={sample?.document}\n      entityLabels={iface?.entityLabels}\n      relationshipLabels={iface?.relationLabels}\n      initialSequence={initialSequence}\n      initialRelationships={initialRelations}\n      hotkeysEnabled={!disableHotkeys}\n      onPrev={(result) => {\n        onModifySample({\n          ...sample,\n          annotation: simpleSequenceAndRelationsToEntitySequence(result),\n        })\n        onExit(\"go-to-previous\")\n      }}\n      onNext={(result) => {\n        onModifySample({\n          ...sample,\n          annotation: simpleSequenceAndRelationsToEntitySequence(result),\n        })\n        onExit(\"go-to-next\")\n      }}\n      onFinish={(result) => {\n        onModifySample({\n          ...sample,\n          annotation: simpleSequenceAndRelationsToEntitySequence(result),\n        })\n        onExit()\n      }}\n    />\n  )\n}\n\nexport default TextEntityRelations\n","// @flow\n\n// RIA = React Image Annotate\n\nexport function getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport function getRandomColor() {\n  var h = getRandomInt(0, 360)\n  var s = 100\n  var l = 50\n  return \"hsl(\"\n    .concat(h.toString(), \",\")\n    .concat(s.toString(), \"%,\")\n    .concat(l.toString(), \"%)\")\n}\n\nexport const rid = () => Math.random().toString().split(\".\")[1]\n\nexport const convertToRIARegionFmt = (region) => {\n  switch (region.regionType) {\n    case \"bounding-box\": {\n      return {\n        id: region.id || rid(),\n        cls: region.classification,\n        tags: region.labels,\n        color: region.color || getRandomColor(),\n        type: \"box\",\n        x: region.centerX - region.width / 2,\n        y: region.centerY - region.height / 2,\n        w: region.width,\n        h: region.height,\n      }\n    }\n    case \"point\": {\n      return {\n        id: region.id || rid(),\n        type: \"point\",\n        tags: region.labels,\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        x: region.x,\n        y: region.y,\n      }\n    }\n    case \"polygon\": {\n      return {\n        id: region.id || rid(),\n        type: \"polygon\",\n        tags: region.labels,\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        open: false,\n        points: region.points.map((p) => [p.x, p.y]),\n      }\n    }\n    case \"line\":\n    case \"pixel-mask\": {\n      throw new Error(`Unsupported region \"${JSON.stringify(region)}\"`)\n    }\n    case \"keypoints\": {\n      return {\n        id: region.id || rid(),\n        type: \"keypoints\",\n        keypointsDefinitionId: region.keypointsDefinitionId,\n        points: region.points,\n      }\n    }\n    default:\n      return null\n  }\n}\n\nexport const convertFromRIARegionFmt = (riaRegion) => {\n  switch (riaRegion.type) {\n    case \"point\": {\n      return {\n        regionType: \"point\",\n        id: riaRegion.id,\n        x: riaRegion.x,\n        y: riaRegion.y,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n      }\n    }\n    case \"box\": {\n      return {\n        regionType: \"bounding-box\",\n        id: riaRegion.id,\n        centerX: riaRegion.x + riaRegion.w / 2,\n        centerY: riaRegion.y + riaRegion.h / 2,\n        width: riaRegion.w,\n        height: riaRegion.h,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n      }\n    }\n    case \"polygon\": {\n      return {\n        regionType: \"polygon\",\n        id: riaRegion.id,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n        points: riaRegion.points.map(([x, y]) => ({ x, y })),\n      }\n    }\n    case \"keypoints\": {\n      return {\n        id: riaRegion.id || rid(),\n        keypointsDefinitionId: riaRegion.keypointsDefinitionId,\n        regionType: \"keypoints\",\n        points: riaRegion.points,\n      }\n    }\n    default:\n      throw new Error(`Unsupported riaRegion \"${JSON.stringify(riaRegion)}\"`)\n  }\n}\n\nexport const convertToRIAImageFmt = ({\n  title,\n  taskDatum: td,\n  index: i,\n  output,\n}) => {\n  td = td || {}\n  const regions = !output\n    ? undefined\n    : Array.isArray(output)\n    ? output.map(convertToRIARegionFmt)\n    : [convertToRIARegionFmt(output)]\n\n  if (td.imageUrl) {\n    return {\n      src: td.imageUrl,\n      name: title || `Sample ${i}`,\n      regions,\n    }\n  } else if (td.videoUrl && td.videoFrameAt !== undefined) {\n    return {\n      src: td.videoUrl,\n      frameTime: td.videoFrameAt,\n      name: title || `Sample ${i}`,\n      regions,\n    }\n  }\n  throw new Error(`Task Datum not supported \"${JSON.stringify(td)}\"`)\n}\n\nexport const convertToRIAKeyframes = (keyframes) => {\n  const newKeyframes = {}\n  for (const key in keyframes) {\n    newKeyframes[key] = {\n      regions: keyframes[key].regions.map(convertToRIARegionFmt),\n    }\n  }\n  return newKeyframes\n}\n","// @flow\n\nimport React, { useState, useMemo } from \"react\"\nimport Annotator from \"react-image-annotate\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useEventCallback from \"use-event-callback\"\nimport {\n  convertFromRIARegionFmt,\n  convertToRIAImageFmt,\n} from \"../../utils/ria-format.js\"\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: [\"create-polygon\", \"create-expanding-line\"],\n  point: \"create-point\",\n  \"allowed-area\": \"modify-allowed-area\",\n}\n\nconst Container = styled(\"div\")({\n  \"& .fullscreen\": { height: \"100%\" },\n})\n\nconst emptyObj = {}\n\nexport default ({\n  sampleIndex,\n  interface: iface,\n  sample,\n  containerProps = emptyObj,\n  onModifySample,\n}) => {\n  const [showTags, changeShowTags] = useState(true)\n  const [selectedTool, changeSelectedTool] = useState(\"select\")\n\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = !Boolean(iface?.multipleRegionLabels)\n  const isPixel = iface?.type === \"image_pixel_segmentation\"\n\n  const saveCurrentIndexAnnotation = useEventCallback((output) => {\n    const img = output.images[0]\n    const annotation = multipleRegions\n      ? (img.regions || []).map(convertFromRIARegionFmt)\n      : convertToRIAImageFmt((img.regions || [])[0])\n    const { x, y, w: width, h: height } = output.allowedArea || {}\n\n    onModifySample({\n      ...sample,\n      annotation,\n      ...(output.allowedArea\n        ? {\n            allowedArea: { x, y, width, height },\n          }\n        : {}),\n    })\n  })\n\n  const labelProps = useMemo(\n    () =>\n      isPixel\n        ? {\n            regionClsList: [\"background\"]\n              .concat(iface.labels || [])\n              .map((l) => (typeof l === \"string\" ? l : l.id)),\n          }\n        : isClassification\n        ? {\n            regionClsList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          }\n        : {\n            regionTagList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          },\n    [isClassification, iface.labels, isPixel]\n  )\n\n  const multipleRegions =\n    iface.multipleRegions || iface.multipleRegions === undefined\n\n  const onExit = useEventCallback((output, nextAction) => {\n    saveCurrentIndexAnnotation(output)\n    changeShowTags(output.showTags)\n    changeSelectedTool(output.selectedTool)\n    containerProps.onExit(nextAction)\n  })\n\n  const onNextImage = useEventCallback((output) => onExit(output, \"go-to-next\"))\n  const onPrevImage = useEventCallback((output) =>\n    onExit(output, \"go-to-previous\")\n  )\n\n  const singleImageList = useMemo(() => {\n    return [\n      convertToRIAImageFmt({\n        title: containerProps.title || `Sample ${sampleIndex}`,\n        taskDatum: sample,\n        output: sample.annotation,\n        selectedIndex: sampleIndex,\n      }),\n    ]\n    // eslint-disable-next-line\n  }, [sampleIndex, containerProps.title])\n\n  const enabledTools =\n    iface.type === \"image_pixel_segmentation\"\n      ? undefined\n      : useMemo(\n          () =>\n            [\"select\"].concat(\n              regionTypesAllowed\n                .flatMap((rt) => regionTypeToTool[rt])\n                .filter(Boolean)\n            ),\n          [regionTypesAllowed]\n        )\n\n  const allowedArea = useMemo(() => {\n    if (!iface.allowedArea && !sample?.allowedArea)\n      return { x: 0, y: 0, w: 1, h: 1 }\n    const { x, y, width: w, height: h } =\n      sample?.allowedArea || iface?.allowedArea\n    return { x, y, w, h }\n    // eslint-disable-next-line\n  }, [iface.allowedArea, sample?.allowedArea])\n\n  return (\n    <Container\n      style={{\n        height: containerProps.height || \"calc(100% - 70px)\",\n        minHeight: 600,\n        width: \"100%\",\n      }}\n    >\n      <Annotator\n        key={sampleIndex}\n        fullImageSegmentationMode={isPixel}\n        selectedImage={0}\n        taskDescription={iface.description}\n        hideNext={containerProps.hideNext}\n        hidePrev={containerProps.hidePrev}\n        hideHeader={containerProps.hideHeader}\n        hideHeaderText={containerProps.hideHeaderText}\n        showTags={showTags}\n        {...labelProps}\n        autoSegmentationOptions={iface.autoSegmentationEngine}\n        allowedArea={allowedArea}\n        onNextImage={onNextImage}\n        onPrevImage={onPrevImage}\n        enabledTools={enabledTools}\n        selectedTool={selectedTool}\n        images={singleImageList}\n        onExit={onExit}\n      />\n    </Container>\n  )\n}\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport Workspace from \"react-material-workspace-layout/Workspace\"\nimport { styled } from \"@material-ui/core/styles\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\n\nconst HeaderLeftSideContainer = styled(\"div\")({\n  fontSize: 24,\n  fontWeight: \"bold\",\n})\n\nexport default ({\n  children,\n  onNext,\n  onPrev,\n  onRemoveSample,\n  currentSampleIndex = 0,\n  numberOfSamples = 1,\n  globalSampleIndex = 1,\n  titleContent,\n  onClickHeaderItem,\n}: any) => {\n  const headerItems = useMemo(\n    () =>\n      [\n        onRemoveSample && {\n          name: \"Delete\",\n          icon: <DeleteIcon />,\n          onClick: () => onRemoveSample(globalSampleIndex),\n        },\n        (currentSampleIndex > 0 || onPrev) && {\n          name: \"Prev\",\n          onClick: onPrev,\n          disabled: currentSampleIndex === 0,\n        },\n        {\n          name: \"Next\",\n          onClick: onNext,\n        },\n        { name: \"Save\" },\n      ].filter(Boolean),\n    [currentSampleIndex, globalSampleIndex, onNext, onPrev, onRemoveSample]\n  )\n  return (\n    <Workspace\n      headerLeftSide={\n        titleContent === undefined ? (\n          <Box paddingLeft={2}>\n            <HeaderLeftSideContainer>\n              Sample{\" \"}\n              {numberOfSamples > 1\n                ? `${currentSampleIndex} / ${numberOfSamples}`\n                : `${globalSampleIndex}`}\n            </HeaderLeftSideContainer>\n          </Box>\n        ) : (\n          titleContent\n        )\n      }\n      onClickHeaderItem={onClickHeaderItem}\n      headerItems={headerItems}\n      iconSidebarItems={[]}\n      rightSidebarItems={[]}\n    >\n      <Box padding={2} style={{ width: \"100%\" }}>\n        {children}\n      </Box>\n    </Workspace>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect, useMemo } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport without from \"lodash/without\"\nimport WorkspaceContainer from \"../WorkspaceContainer\"\n\nconst brightColors = [\n  colors.blue[600],\n  colors.green[600],\n  colors.red[600],\n  colors.deepOrange[600],\n  colors.pink[600],\n  colors.teal[600],\n  colors.deepPurple[600],\n  colors.indigo[600],\n  colors.blue[600],\n  colors.cyan[600],\n  colors.purple[600],\n]\n\nconst letters = \"abcdefghijklmnopqrstuvwxyz1234567890\".split(\"\")\nconst getRandomColor = (label) => {\n  const hashInt = label.id\n    .split(\"\")\n    .reduce((acc, v, i) => acc + (letters.indexOf(v) + 1), 0)\n  return brightColors[hashInt % brightColors.length]\n}\n\nconst Container = styled(\"div\")({\n  maxWidth: \"100vw\",\n  display: \"flex\",\n  flexDirection: \"column\",\n})\n\nconst ImageContainer = styled(\"div\")({\n  position: \"relative\",\n  display: \"flex\",\n  flexGrow: 1,\n})\n\nconst Image = styled(\"img\")({\n  display: \"inline-block\",\n  position: \"absolute\",\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n  objectFit: \"contain\",\n})\n\nconst ButtonsContainer = styled(\"div\")({\n  paddingLeft: 50,\n  paddingRight: 50,\n  marginTop: 8,\n  textAlign: \"center\",\n  flexShrink: 0,\n})\n\nconst CheckButton = styled(Button)({\n  margin: 8,\n  color: \"#fff\",\n  fontSize: 18,\n  paddingRight: 16,\n  transition: \"transform 50ms ease\",\n})\n\nconst [emptyObj, emptyArr] = [{}, []]\n\nexport const ImageClassification = ({\n  sampleIndex,\n  interface: iface,\n  sample,\n  containerProps = emptyObj,\n  onModifySample,\n}) => {\n  const disableHotkeys = containerProps.disableHotkeys\n\n  if (!iface.labels)\n    throw new Error(\"No labels defined. Add some labels in Setup to continue.\")\n\n  const [enlargedLabel, changeEnlargedLabel] = useState(null)\n  const [currentOutput, changeCurrentOutput] = useState(emptyArr)\n  const labels = useMemo(\n    () =>\n      iface.labels.map((l) =>\n        typeof l === \"string\" ? { id: l, description: l } : l\n      ),\n    [iface.labels]\n  )\n\n  const onDone = useEventCallback((output) => {\n    onModifySample({ ...sample, annotation: currentOutput })\n    if (containerProps.onExit) containerProps.onExit()\n  })\n  const onNext = useEventCallback(() => {\n    onModifySample({ ...sample, annotation: currentOutput })\n    containerProps.onExit(\"go-to-next\")\n  })\n  const onPrev = useEventCallback(() => {\n    onModifySample({ ...sample, annotation: currentOutput })\n    containerProps.onExit(\"go-to-previous\")\n  })\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      changeEnlargedLabel(null)\n    }, 100)\n    return () => clearTimeout(timeout)\n  }, [enlargedLabel])\n\n  const onClickLabel = useEventCallback((label) => {\n    changeEnlargedLabel(label)\n    let newOutput\n    if (\n      typeof currentOutput !== \"string\" &&\n      (currentOutput || []).includes(label.id)\n    ) {\n      newOutput = without(currentOutput, label.id)\n    } else {\n      if (iface.multiple) {\n        newOutput = currentOutput.concat([label.id])\n      } else {\n        newOutput = label.id\n      }\n    }\n\n    changeCurrentOutput(newOutput)\n    if (!iface.multiple && newOutput.length > 0) {\n      onModifySample({ ...sample, annotation: newOutput })\n      containerProps.onExit(\"go-to-next\")\n    }\n  })\n\n  useEffect(() => {\n    let newOutput = sample?.annotation\n    if (!newOutput) newOutput = []\n    if (typeof newOutput === \"string\") newOutput = [newOutput]\n    changeCurrentOutput(newOutput)\n  }, [sampleIndex, sample])\n\n  const [hotkeyMap, labelKeyMap] = useMemo(() => {\n    if (disableHotkeys) return [{}, {}]\n    const hotkeyMap = {\n      \" \": onNext,\n      backspace: onPrev,\n      enter: onDone,\n      rightarrow: onNext,\n      leftarrow: onPrev,\n    }\n    const labelKeyMap = {}\n    for (let label of labels) {\n      const nextAvailableLetter = label.id\n        .split(\"\")\n        .filter((l) => letters.includes(l))\n        .find((l) => !hotkeyMap[l.toLowerCase()])\n      if (!nextAvailableLetter) continue\n      hotkeyMap[nextAvailableLetter] = () => onClickLabel(label)\n      labelKeyMap[label.id] = nextAvailableLetter\n    }\n    return [hotkeyMap, labelKeyMap]\n  }, [labels, onClickLabel, onDone, onNext, onPrev, disableHotkeys])\n\n  useEffect(() => {\n    if (disableHotkeys) return\n    const onKeyDown = (e) => {\n      const key = e.key.toLowerCase()\n      if (hotkeyMap[key]) {\n        hotkeyMap[key]()\n      }\n    }\n    window.addEventListener(\"keydown\", onKeyDown)\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown)\n    }\n  }, [hotkeyMap, disableHotkeys])\n\n  return (\n    <WorkspaceContainer\n      {...containerProps}\n      onNext={onNext}\n      onPrev={onPrev}\n      onRemoveSample={containerProps.onRemoveSample}\n      onClickHeaderItem={onDone}\n      currentSampleIndex={sampleIndex}\n    >\n      <Container\n        style={{\n          height: containerProps.height || \"calc(100% - 70px)\",\n          minHeight: 600,\n        }}\n      >\n        <ImageContainer>\n          <Image src={sample?.imageUrl} />\n        </ImageContainer>\n        <ButtonsContainer>\n          {labels.map((label) => (\n            <CheckButton\n              key={label.id}\n              onClick={() => onClickLabel(label)}\n              style={{\n                backgroundColor: getRandomColor(label),\n                transform:\n                  enlargedLabel === label ? \"scale(1.1,1.1)\" : undefined,\n              }}\n            >\n              <Checkbox\n                style={{ color: \"#fff\" }}\n                checked={\n                  typeof currentOutput === \"object\"\n                    ? currentOutput.includes(label.id)\n                    : currentOutput === label.id\n                }\n              />\n              {label.id}\n              {labelKeyMap[label.id] ? ` (${labelKeyMap[label.id]})` : \"\"}\n            </CheckButton>\n          ))}\n        </ButtonsContainer>\n      </Container>\n    </WorkspaceContainer>\n  )\n}\n\nexport default ImageClassification\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport Annotator from \"react-image-annotate\"\nimport useEventCallback from \"use-event-callback\"\nimport {\n  convertFromRIARegionFmt,\n  convertToRIAKeyframes,\n} from \"../../utils/ria-format.js\"\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: \"create-polygon\",\n  \"full-segmentation\": \"create-polygon\",\n  point: \"create-point\",\n}\n\nconst emptyObj = {}\n\nexport default ({\n  interface: iface,\n  sampleIndex,\n  sample,\n  containerProps = emptyObj,\n  onModifySample,\n}) => {\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = !Boolean(iface?.multipleRegionLabels)\n\n  const labelProps = useMemo(\n    () =>\n      isClassification\n        ? {\n            regionClsList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          }\n        : {\n            regionTagList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          },\n    [isClassification, iface.labels]\n  )\n\n  const getUDTKeyFrames = (riaOutput) => {\n    const newKeyframes = {}\n    for (const key in riaOutput.keyframes) {\n      newKeyframes[key] = {\n        regions: riaOutput.keyframes[key].regions.map(convertFromRIARegionFmt),\n      }\n    }\n    return newKeyframes\n  }\n\n  const onExit = useEventCallback((output) => {\n    const annotation = { keyframes: getUDTKeyFrames(output) }\n    onModifySample({ ...sample, annotation })\n    if (containerProps.onExit) containerProps.onExit()\n  })\n\n  const onNext = useEventCallback((output) => {\n    const annotation = { keyframes: getUDTKeyFrames(output) }\n    onModifySample({ ...sample, annotation })\n    if (containerProps.onExit) {\n      containerProps.onExit(\"go-to-next\")\n    }\n  })\n\n  const onPrev = useEventCallback((output) => {\n    const annotation = { keyframes: getUDTKeyFrames(output) }\n    onModifySample({ ...sample, annotation })\n    if (containerProps.onExit) {\n      containerProps.onExit(\"go-to-previous\")\n    }\n  })\n\n  const enabledTools = useMemo(\n    () =>\n      [\"select\"].concat(\n        regionTypesAllowed.map((rt) => regionTypeToTool[rt]).filter(Boolean)\n      ),\n    [regionTypesAllowed]\n  )\n\n  if (!sample) throw new Error(\"No sample data provided selected\")\n  if (!sample.videoUrl) throw new Error(\"Sample must have videoUrl\")\n\n  const annotation = sample.annotation || {}\n\n  return (\n    <div\n      style={{\n        height: containerProps.height || \"calc(100vh - 70px)\",\n        width: \"100%\",\n        minHeight: 600,\n      }}\n    >\n      <Annotator\n        key={sampleIndex}\n        taskDescription={iface.description}\n        {...labelProps}\n        enabledTools={enabledTools}\n        keyframes={convertToRIAKeyframes(annotation?.keyframes || {})}\n        onNextImage={onNext}\n        onPrevImage={onPrev}\n        videoName={sample.customId || \"\"}\n        videoTime={0}\n        videoSrc={sample.videoUrl}\n        onExit={onExit}\n      />\n    </div>\n  )\n}\n","// @flow weak\n\nimport React from \"react\"\nimport NLPAnnotator from \"react-nlp-annotate\"\nimport Box from \"@material-ui/core/Box\"\n\nexport default ({\n  sampleIndex,\n  sample,\n  interface: iface,\n  onModifySample,\n  onExit,\n}) => {\n  return (\n    <NLPAnnotator\n      key={sampleIndex}\n      titleContent={<Box paddingLeft={4}>Sample {sampleIndex}</Box>}\n      type=\"transcribe\"\n      audio={sample.audioUrl}\n      phraseBank={iface.phraseBank}\n      initialTranscriptionText={sample.annotation || \"\"}\n      onPrev={(result) => {\n        onModifySample({ ...sample, annotation: result })\n        onExit(\"go-to-previous\")\n      }}\n      onNext={(result) => {\n        onModifySample({ ...sample, annotation: result })\n        onExit(\"go-to-next\")\n      }}\n      onFinish={(result) => {\n        onModifySample({ ...sample, annotation: result })\n        onExit()\n      }}\n    />\n  )\n}\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport Annotator from \"react-image-annotate\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useEventCallback from \"use-event-callback\"\nimport {\n  convertFromRIARegionFmt,\n  convertToRIAImageFmt,\n} from \"../../utils/ria-format.js\"\n\nconst Container = styled(\"div\")({\n  \"& .fullscreen\": { height: \"100%\" },\n})\n\nconst emptyObj = {}\n\nconst posingTools = [\"create-keypoints\"]\n\nexport default ({\n  sampleIndex: globalSampleIndex,\n  interface: iface,\n  sampleIndex,\n  sample,\n  containerProps = emptyObj,\n  onModifySample,\n}) => {\n  const saveCurrentIndexAnnotation = useEventCallback((output) => {\n    const img = output.images[0]\n    const annotation = (img.regions || []).map(convertFromRIARegionFmt)\n    onModifySample({ ...sample, annotation })\n  })\n\n  const onExit = useEventCallback((output, nextAction) => {\n    saveCurrentIndexAnnotation(output)\n    if (containerProps.onExit) containerProps.onExit(nextAction)\n  })\n  const onNextImage = useEventCallback((output) => {\n    saveCurrentIndexAnnotation(output)\n    onExit(output, \"go-to-next\")\n  })\n  const onPrevImage = useEventCallback((output) => {\n    saveCurrentIndexAnnotation(output)\n    onExit(output, \"go-to-previous\")\n  })\n\n  const singleImageList = useMemo(() => {\n    if (!sample) return []\n    return [\n      convertToRIAImageFmt({\n        title: containerProps.title || `Sample ${sampleIndex}`,\n        taskDatum: sample,\n        output: sample?.annotation,\n      }),\n    ]\n    // eslint-disable-next-line\n  }, [sampleIndex, containerProps.title])\n\n  return (\n    <Container\n      style={{\n        height: containerProps.height || \"calc(100% - 70px)\",\n        minHeight: 600,\n        width: \"100%\",\n      }}\n    >\n      {!sample ? (\n        \"loading...\"\n      ) : (\n        <Annotator\n          key={sampleIndex}\n          keypointDefinitions={iface.keypointDefinitions}\n          selectedImage={0}\n          taskDescription={iface.description}\n          onNextImage={onNextImage}\n          onPrevImage={onPrevImage}\n          enabledTools={posingTools}\n          images={singleImageList}\n          onExit={onExit}\n        />\n      )}\n    </Container>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport { styled } from \"@material-ui/core/styles\"\nimport WorkspaceContainer from \"../WorkspaceContainer\"\nimport ReactTimeSeries from \"react-time-series\"\n\nconst Container = styled(\"div\")({\n  maxWidth: \"100vw\",\n  display: \"flex\",\n  flexDirection: \"column\",\n})\n\nconst [emptyObj] = [{}]\n\nexport const TimeSeries = ({\n  sampleIndex,\n  interface: iface,\n  sample: sampleProp,\n  containerProps = emptyObj,\n  onModifySample: onModifySampleProp,\n}) => {\n  const [sample, setSample] = useState(sampleProp)\n\n  const onDone = useEventCallback(() => {\n    onModifySampleProp(sample)\n    if (containerProps.onExit) containerProps.onExit()\n  })\n  const onNext = useEventCallback(() => {\n    onModifySampleProp(sample)\n    containerProps.onExit(\"go-to-next\")\n  })\n  const onPrev = useEventCallback(() => {\n    onModifySampleProp(sample)\n    containerProps.onExit(\"go-to-previous\")\n  })\n\n  return (\n    <WorkspaceContainer\n      {...containerProps}\n      onNext={onNext}\n      onPrev={onPrev}\n      onRemoveSample={containerProps.onRemoveSample}\n      onClickHeaderItem={onDone}\n      currentSampleIndex={sampleIndex}\n    >\n      <Container\n        style={{\n          height: containerProps.height || \"calc(100% - 70px)\",\n          minHeight: 600,\n        }}\n      >\n        <ReactTimeSeries\n          sample={sample}\n          interface={iface}\n          onModifySample={setSample}\n        />\n      </Container>\n    </WorkspaceContainer>\n  )\n}\n\nexport default TimeSeries\n","export default function getTaskDescription(samplesItem) {\n  const { description, imageUrl, url, pdfUrl } = samplesItem\n  if (description) return description\n  if (imageUrl) return `![${imageUrl}](${imageUrl})`\n  if (pdfUrl)\n    return (\n      `[PDF Link](${pdfUrl})` +\n      `<object data=\"${pdfUrl.replace(\n        \"http://\",\n        \"https://\"\n      )}\" type=\"application/pdf\" width=\"100%\" height=\"600px\"></object>`\n    )\n  if (url) return `Use this [Link](${url})`\n  return null\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  linkButtonContainer: {\n    marginLeft: 8,\n    marginRight: 8,\n  },\n  linkButton: {\n    textTransform: \"none\",\n    cursor: \"pointer\",\n    textDecoration: \"underline\",\n  },\n})\n\nexport default ({ onClick, text }: { onClick: Function, text: string }) => {\n  const c = useStyles()\n  return (\n    <span className={c.linkButtonContainer}>\n      (\n      <span onClick={onClick} className={c.linkButton}>\n        {text}\n      </span>\n      )\n    </span>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport ReactMarkdown from \"react-markdown\"\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport LeftIcon from \"@material-ui/icons/KeyboardArrowLeft\"\nimport CircleIcon from \"@material-ui/icons/RadioButtonUnchecked\"\nimport CheckCircle from \"@material-ui/icons/CheckCircle\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport LinkButton from \"./LinkButton\"\nimport range from \"lodash/range\"\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    backgroundColor: \"#fff\",\n    marginTop: 40,\n  },\n  footerContent: {\n    alignItems: \"center\",\n    padding: 20,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  footerBorder: {\n    borderTop: \"1px solid #ccc\",\n    marginLeft: 20,\n    marginRight: 20,\n  },\n  footerCount: {\n    display: \"inline-flex\",\n  },\n  allSamplesButton: {\n    color: \"#fff\",\n    border: \"1px solid rgba(255,255,255,0.5)\",\n    marginRight: 10,\n    paddingLeft: 8,\n  },\n  sampleIcon: {\n    marginRight: 8,\n  },\n  menuButton: {\n    marginRight: 8,\n    color: \"#fff\",\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  buttons: {\n    \"& > *\": {\n      margin: 4,\n    },\n  },\n  description: {\n    padding: 10,\n    \"& img\": {\n      maxWidth: \"calc(100% - 16px)\",\n      marginLeft: 8,\n      marginRight: 8,\n      maxHeight: 600,\n    },\n  },\n  sectionHeader: {\n    fontWeight: 700,\n    fontSize: 12,\n    padding: 10,\n    paddingTop: 16,\n    textTransform: \"uppercase\",\n    color: colors.grey[600],\n  },\n  content: {\n    padding: 10,\n    // minHeight: \"calc(100vh - 200px)\"\n  },\n}))\n\nexport const SampleContainer = ({\n  hideDescription: defaultHideDescription = window.localStorage.getItem(\n    \"hideDescription\"\n  ) === '\"true\"',\n  lastSampleExitText,\n  onExit,\n  requireCompleteToPressNext = false,\n  samples,\n  minContentHeight,\n  currentSampleIndex,\n  totalSamples,\n  onChangeSample,\n  taskOutput = [],\n  description,\n  children,\n}) => {\n  const c = useStyles()\n  const [hideDescription, changeHideDescriptionState] = useState(\n    defaultHideDescription\n  )\n  const changeHideDescription = (hide) => {\n    window.localStorage.setItem(\n      \"hideDescription\",\n      `\"${hide ? \"true\" : \"false\"}\"`\n    )\n    changeHideDescriptionState(hide)\n  }\n\n  const [sampleDrawerOpen, changeSampleDrawerOpen] = useState(false)\n  return (\n    <>\n      <Grid container>\n        {!hideDescription && (\n          <Grid item xs={12} sm={12} md={6}>\n            <div className={c.sectionHeader}>\n              Description\n              <LinkButton\n                onClick={() => changeHideDescription(true)}\n                text=\"hide\"\n              />\n            </div>\n            <div className={c.description}>\n              <ReactMarkdown escapeHtml={false} source={description} />\n            </div>\n          </Grid>\n        )}\n        <Grid item xs={12} sm={12} md={hideDescription ? 12 : 6}>\n          <div className={c.sectionHeader}>\n            Sample {currentSampleIndex + 1}/{totalSamples}\n            {hideDescription && (\n              <LinkButton\n                onClick={() => changeHideDescription(false)}\n                text=\"show description\"\n              />\n            )}\n            {totalSamples > 1 && (\n              <LinkButton\n                onClick={() => changeSampleDrawerOpen(true)}\n                text=\"view all\"\n              />\n            )}\n            {onExit && (\n              <LinkButton onClick={() => onExit()} text=\"exit without saving\" />\n            )}\n          </div>\n          <div style={{ minHeight: minContentHeight }} className={c.content}>\n            {children}\n          </div>\n        </Grid>\n        {totalSamples > 1 && (\n          <Grid item xs={12}>\n            <div className={c.footer}>\n              <div className={c.footerBorder} />\n              <div className={c.footerContent}>\n                <Button\n                  onClick={() =>\n                    onChangeSample(\n                      (currentSampleIndex - 1 + totalSamples) % totalSamples\n                    )\n                  }\n                >\n                  <LeftIcon /> Prev Sample\n                </Button>\n                <Button\n                  onClick={() => changeSampleDrawerOpen(true)}\n                  className={c.footerCount}\n                >\n                  {currentSampleIndex + 1} / {totalSamples}\n                </Button>\n                <Button\n                  disabled={\n                    requireCompleteToPressNext &&\n                    !taskOutput[currentSampleIndex]\n                  }\n                  onClick={() =>\n                    onChangeSample((currentSampleIndex + 1) % totalSamples)\n                  }\n                >\n                  {requireCompleteToPressNext && !taskOutput[currentSampleIndex]\n                    ? \"Save to Continue\"\n                    : \"Next Sample\"}\n                  <RightIcon />\n                </Button>\n              </div>\n            </div>\n          </Grid>\n        )}\n      </Grid>\n      <Drawer\n        open={sampleDrawerOpen}\n        anchor=\"left\"\n        onClose={() => changeSampleDrawerOpen(false)}\n      >\n        <List style={{ minWidth: 300 }}>\n          <ListSubheader>Samples</ListSubheader>\n          {range(0, totalSamples).map((i) => (\n            <ListItem\n              style={{\n                backgroundColor:\n                  i === currentSampleIndex ? colors.grey[200] : undefined,\n              }}\n              button\n              onClick={() => onChangeSample(i)}\n            >\n              <ListItemIcon\n                style={{\n                  color:\n                    i === currentSampleIndex ? colors.blue[500] : undefined,\n                }}\n              >\n                {taskOutput[i] ? <CheckCircle /> : <CircleIcon />}\n              </ListItemIcon>\n              <ListItemText>Sample {i + 1}</ListItemText>\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n    </>\n  )\n}\n\nexport default SampleContainer\n","import React from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\n\nexport const DataEntry = ({\n  containerProps,\n  interface: iface,\n  sample,\n  sampleIndex,\n  onModifySample,\n}) => {\n  const form = sample.surveyjs || iface.surveyjs\n  if (!form)\n    throw new Error(\"No survey/form created. Try adding some inputs in Setup\")\n  return (\n    <SampleContainer\n      {...containerProps}\n      currentSampleIndex={sampleIndex}\n      taskOutput={sample?.annotation}\n      description={getTaskDescription(sample) || iface?.description}\n    >\n      <Survey\n        key={sampleIndex}\n        variant=\"flat\"\n        form={form}\n        defaultAnswers={sample.annotation || undefined}\n        completeText=\"Save & Next\"\n        onFinish={(answers) => {\n          onModifySample({ ...sample, annotation: answers })\n          containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default DataEntry\n","// @flow\n\nimport React from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  root: {\n    padding: 50,\n    textAlign: \"center\",\n  },\n  title: {\n    margin: 50,\n  },\n  explain: {},\n})\n\nexport const BadDataset = ({ title, description, children }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      <Typography variant=\"h4\" component=\"div\" className={c.title}>\n        {title}\n      </Typography>\n      <Typography variant=\"h6\" component=\"div\" className={c.explain}>\n        {description || children}\n      </Typography>\n    </div>\n  )\n}\n\nexport default BadDataset\n","// @flow\n\nimport React from \"react\"\nimport BadDataset from \"../BadDataset\"\n\nexport default () => {\n  return (\n    <BadDataset title=\"No Samples to Show\">\n      Make sure that <code>samples</code> is defined and not empty.\n      <br />\n      <br />\n      Need help setting up? {/*<a href=\"#\">Check out this tutorial.</a>*/}\n    </BadDataset>\n  )\n}\n","import React from \"react\"\n\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Help from \"@material-ui/icons/Help\"\nimport ThreeDRotation from \"@material-ui/icons/ThreeDRotation\"\n\nexport default ({ type, ...props }) => {\n  switch (type) {\n    case \"image_label\":\n    case \"image_segmentation\":\n      return <RemoveRedEye {...props} />\n    case \"audio_transcription\":\n      return <Audiotrack {...props} />\n    case \"data_entry\":\n      return <Edit {...props} />\n    case \"text_entity_recognition\":\n      return <TextFormat {...props} />\n    case \"3d_bounding_box\":\n      return <ThreeDRotation {...props} />\n    default:\n      return <Help {...props} />\n  }\n}\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport UniversalSampleEditor from \"../UniversalSampleEditor\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport InterfaceIcon from \"../InterfaceIcon\"\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport Box from \"@material-ui/core/Box\"\n\nimport { useTranslation } from \"react-i18next\"\n\nconst Title = styled(\"div\")({\n  fontSize: 18,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n  borderBottom: `1px solid ${colors.grey[300]}`,\n  paddingBottom: 8,\n  marginBottom: 8,\n  paddingLeft: 8,\n})\nconst StyledButton = styled(Button)({\n  display: \"flex\",\n  textAlign: \"left\",\n  justifyContent: \"flex-start\",\n  marginTop: 8,\n})\n\nexport const Composite = ({\n  sample,\n  interface: iface,\n  onModifySample,\n  containerProps,\n  sampleIndex,\n}) => {\n  const { fields } = iface\n  const [selectedField, changeSelectedField] = useState()\n\n  const { t } = useTranslation()\n\n  if (!fields) throw new Error(\"No fields defined. Try adding a field in Setup\")\n\n  if (selectedField) {\n    return (\n      <UniversalSampleEditor\n        interface={selectedField.interface}\n        sample={{\n          ...sample,\n          annotation: (sample.annotation || {})[selectedField.fieldName],\n        }}\n        onExit={() => changeSelectedField(null)}\n        onModifySample={(output) => {\n          onModifySample({\n            ...sample,\n            annotation: {\n              ...sample.annotation,\n              [selectedField.fieldName]: output,\n            },\n          })\n          changeSelectedField(null)\n        }}\n      />\n    )\n  }\n\n  return (\n    <SampleContainer\n      {...containerProps}\n      currentSampleIndex={sampleIndex}\n      description={getTaskDescription(sample) || iface.description}\n    >\n      <Title>Fields</Title>\n      {fields.map((field, index) => (\n        <StyledButton\n          key={field.fieldName}\n          onClick={() => {\n            changeSelectedField({ ...field, index })\n          }}\n          fullWidth\n          variant=\"outlined\"\n        >\n          <InterfaceIcon\n            style={{ color: colors.grey[500], marginRight: 16 }}\n            type={field.interface.type}\n          />\n          {field.fieldName}\n          <Box flexGrow={1} />\n          <Checkbox\n            checked={Boolean((sample.annotation || {})[field.fieldName])}\n          />\n          <KeyboardArrowRightIcon />\n        </StyledButton>\n      ))}\n      <StyledButton\n        onClick={() => containerProps.onExit(\"go-to-next\")}\n        fullWidth\n        variant=\"outlined\"\n      >\n        <KeyboardArrowRightIcon\n          style={{ color: colors.grey[500], marginRight: 16 }}\n        />\n        {t(\"next\")}\n        <Box flexGrow={1} />\n        <Box height=\"42px\" />\n        <KeyboardArrowRightIcon />\n      </StyledButton>\n    </SampleContainer>\n  )\n}\n\nexport default Composite\n","// @flow\n\nimport \"../../i18n\"\nimport React, { useMemo } from \"react\"\nimport TextClassification from \"../TextClassification\"\nimport TextEntityRecognition from \"../TextEntityRecognition\"\nimport TextEntityRelations from \"../TextEntityRelations\"\nimport ImageSegmentation from \"../ImageSegmentation\"\nimport ImageClassification from \"../ImageClassification\"\nimport VideoSegmentation from \"../VideoSegmentation\"\nimport AudioTranscription from \"../AudioTranscription\"\nimport ImageLandmarkAnnotation from \"../ImageLandmarkAnnotation\"\nimport TimeSeries from \"../TimeSeries\"\nimport DataEntry from \"../DataEntry\"\nimport EmptySampleContainer from \"../EmptySampleContainer\"\nimport Composite from \"../Composite\"\nimport BadDataset from \"../BadDataset\"\nimport Button from \"@material-ui/core/Button\"\nimport { useTranslation } from \"react-i18next\"\n\nexport const UniversalSampleEditor = ({\n  interface: iface,\n  sample,\n  onExit,\n  loading,\n  onRemoveSample,\n  hideHeader,\n  hideHeaderText,\n  hideNext,\n  hidePrev,\n  hideDescription,\n  disableHotkeys = false,\n  title,\n  sampleIndex,\n  onModifySample,\n  height,\n  onClickSetup,\n}) => {\n  // TODO type check w/ superstruct against dataset\n  const { t } = useTranslation()\n\n  const containerProps = useMemo(\n    () => ({\n      hideHeader,\n      hideHeaderText,\n      hideNext,\n      hidePrev,\n      hideDescription,\n      title,\n      onExit,\n      onRemoveSample,\n      height,\n      disableHotkeys,\n      globalSampleIndex: sampleIndex,\n    }),\n    [\n      hideHeader,\n      hideHeaderText,\n      hideNext,\n      hidePrev,\n      hideDescription,\n      title,\n      height,\n      onExit,\n      disableHotkeys,\n      onRemoveSample,\n      sampleIndex,\n    ]\n  )\n\n  if (loading) {\n    return <BadDataset title=\"Loading Sample...\" description=\"\" />\n  }\n\n  if (!iface?.type) {\n    return (\n      <BadDataset\n        title=\"Set up your project to begin labeling\"\n        description={\n          <p>\n            {t(\"universal-data-viewer-interface-warning\")}\n            <br />\n            <br />\n            <Button color=\"primary\" variant=\"contained\" onClick={onClickSetup}>\n              {t(\"setup-project\")}\n            </Button>\n          </p>\n        }\n      />\n    )\n  }\n\n  if (!sample) {\n    return <EmptySampleContainer />\n  }\n\n  switch (iface?.type) {\n    case \"data_entry\":\n      return (\n        <DataEntry\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onModifySample={onModifySample}\n          onExit={onExit}\n        />\n      )\n    case \"text_classification\":\n      return (\n        <TextClassification\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onModifySample={onModifySample}\n          onExit={onExit}\n        />\n      )\n    case \"text_entity_recognition\":\n      return (\n        <TextEntityRecognition\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onModifySample={onModifySample}\n          onExit={onExit}\n        />\n      )\n    case \"text_entity_relations\":\n      return (\n        <TextEntityRelations\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onModifySample={onModifySample}\n          onExit={onExit}\n        />\n      )\n    case \"image_segmentation\":\n    case \"image_pixel_segmentation\":\n      return (\n        <ImageSegmentation\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onExit={onExit}\n          onModifySample={onModifySample}\n        />\n      )\n    case \"image_classification\":\n      return (\n        <ImageClassification\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onExit={onExit}\n          onModifySample={onModifySample}\n        />\n      )\n    case \"video_segmentation\":\n      return (\n        <VideoSegmentation\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onExit={onExit}\n          onModifySample={onModifySample}\n        />\n      )\n    case \"composite\":\n      return (\n        <Composite\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onModifySample={onModifySample}\n          onExit={onExit}\n        />\n      )\n    case \"audio_transcription\":\n      return (\n        <AudioTranscription\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onModifySample={onModifySample}\n          onExit={onExit}\n        />\n      )\n    case \"image_landmark_annotation\":\n      return (\n        <ImageLandmarkAnnotation\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onModifySample={onModifySample}\n          onExit={onExit}\n        />\n      )\n    case \"time_series\":\n      return (\n        <TimeSeries\n          containerProps={containerProps}\n          sampleIndex={sampleIndex}\n          interface={iface}\n          sample={sample}\n          onModifySample={onModifySample}\n          onExit={onExit}\n        />\n      )\n    default:\n      return `\"${iface?.type}\" not supported`\n  }\n}\n\nexport default UniversalSampleEditor\n","import React, { useState, useEffect } from \"react\"\nimport AceEditor from \"react-ace\"\nimport Box from \"@material-ui/core/Box\"\nimport Button from \"@material-ui/core/Button\"\nimport { useToasts } from \"../Toasts\"\n\nexport const RawJSONEditor = ({ content, onSave }) => {\n  const [jsonText, setJSONText] = useState(\"\")\n  const { addToast } = useToasts()\n  useEffect(() => {\n    if (!content) return\n    if (typeof content === \"string\") {\n      setJSONText(content)\n    } else if (typeof content === \"object\") {\n      setJSONText(JSON.stringify(content, null, \"  \"))\n    }\n  }, [content])\n  return (\n    <Box position=\"relative\" width=\"100%\">\n      <AceEditor\n        theme=\"github\"\n        mode=\"javascript\"\n        width=\"100%\"\n        value={jsonText}\n        editorProps={{ $blockScrolling: Infinity }}\n        onChange={(t) => setJSONText(t)}\n      />\n      <Box position=\"absolute\" right={16} top={16}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => {\n            try {\n              onSave(JSON.parse(jsonText))\n            } catch (e) {\n              addToast(\"Invalid JSON\", \"error\")\n            }\n          }}\n        >\n          Save\n        </Button>\n      </Box>\n    </Box>\n  )\n}\n\nexport default RawJSONEditor\n","import React from \"react\"\n\nimport RawJSONEditor from \"../RawJSONEditor\"\nimport useDataset from \"../../hooks/use-dataset\"\n\nexport const DatasetJSONEditor = () => {\n  const [dataset, setDataset] = useDataset()\n  return (\n    <RawJSONEditor key=\"rawJSONEditor\" content={dataset} onSave={setDataset} />\n  )\n}\n\nexport default DatasetJSONEditor\n","import React from \"react\"\nimport { styled, colors, Box } from \"@material-ui/core\"\nimport EmojiObjectsIcon from \"@material-ui/icons/EmojiObjects\"\n\nconst Container = styled(\"div\")({\n  display: \"flex\",\n  alignItems: \"center\",\n  padding: 32,\n  paddingLeft: 64,\n  paddingRight: 64,\n  \"& .icon\": {\n    width: 32,\n    height: 32,\n    color: colors.grey[500],\n  },\n})\nconst Text = styled(\"div\")({\n  fontSize: 18,\n  paddingLeft: 8,\n  color: colors.grey[500],\n})\n\nexport const Protip = ({ tip }) => (\n  <Container>\n    <Box flexGrow={1} />\n    <EmojiObjectsIcon className=\"icon\" />\n    <Text>{tip}</Text>\n    <Box flexGrow={1} />\n  </Container>\n)\n\nexport default Protip\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport ConfigureInterface from \"../ConfigureInterface\"\nimport AdvancedOptionsView from \"../AdvancedOptionsView\"\nimport { templateMap } from \"../StartingPage/templates\"\nimport Box from \"@material-ui/core/Box\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport CategoryIcon from \"@material-ui/icons/Category\"\nimport BuildIcon from \"@material-ui/icons/Build\"\nimport LiveTvIcon from \"@material-ui/icons/LiveTv\"\nimport DeveloperBoardIcon from \"@material-ui/icons/DeveloperBoard\"\nimport CodeIcon from \"@material-ui/icons/Code\"\nimport BigInterfaceSelect from \"../BigInterfaceSelect\"\nimport UniversalSampleEditor from \"../UniversalSampleEditor\"\nimport DatasetJSONEditor from \"../DatasetJSONEditor\"\nimport useInterface from \"../../hooks/use-interface\"\nimport useSample from \"../../hooks/use-sample\"\nimport Protip from \"./Protip\"\n\nconst noop = () => {}\n\nexport default ({ onClearLabelData }) => {\n  const { iface, updateInterface } = useInterface()\n  const { sample } = useSample(0)\n\n  const [currentTab, setTab] = useState(iface?.type ? \"configure\" : \"datatype\")\n\n  return (\n    <div>\n      <Box padding=\"8px\" paddingBottom=\"0px\">\n        <Tabs value={currentTab} onChange={(e, newTab) => setTab(newTab)}>\n          <Tab icon={<CategoryIcon />} label=\"Data Type\" value=\"datatype\" />\n          <Tab\n            disabled={!iface?.type}\n            icon={<BuildIcon />}\n            label=\"Configure\"\n            value=\"configure\"\n          />\n          <Tab\n            disabled={!iface?.type}\n            icon={<LiveTvIcon />}\n            label=\"Preview\"\n            value=\"preview\"\n          />\n          <Tab icon={<CodeIcon />} label=\"JSON\" value=\"json\" />\n          <Tab\n            icon={<DeveloperBoardIcon />}\n            label=\"Advanced\"\n            value=\"advanced\"\n          />\n        </Tabs>\n      </Box>\n      {currentTab === \"datatype\" && (\n        <BigInterfaceSelect\n          key=\"interfaceSelect\"\n          currentInterfaceType={iface?.type}\n          onChange={async (newInterface) => {\n            await updateInterface(newInterface)\n            setTab(\"configure\")\n          }}\n        />\n      )}\n      {currentTab === \"configure\" && (\n        <>\n          <ConfigureInterface\n            key=\"configureInterface\"\n            interface={iface}\n            onChange={updateInterface}\n            isNotNested\n          />\n          <Box textAlign=\"center\">\n            <Protip tip=\"All done? Try clicking the Samples icon on the dark sidebar on the left to import samples!\" />\n          </Box>\n        </>\n      )}\n      {currentTab === \"preview\" && (\n        <UniversalSampleEditor\n          key=\"preview\"\n          height={600}\n          onExit={noop}\n          onModifySample={noop}\n          interface={iface}\n          sampleIndex={0}\n          sample={sample || templateMap[iface?.type].dataset.samples[0]}\n        />\n      )}\n      {currentTab === \"advanced\" && (\n        <AdvancedOptionsView\n          key=\"advancedOptionsView\"\n          onClearLabelData={onClearLabelData}\n        />\n      )}\n      {currentTab === \"json\" && <DatasetJSONEditor />}\n    </div>\n  )\n}\n","import * as Sentry from \"@sentry/browser\"\n\nSentry.init({\n  dsn: \"https://bc19fbac222243f08f0abaf6d66f2034@sentry.io/5182632\",\n  whitelistUrls: [\"https://universaldatatool.com\", \"^file:?:\"],\n})\n\nexport default Sentry\n","// @flow weak\n\nimport React from \"react\"\nimport Sentry from \"../../utils/sentry.js\"\nimport BadDataset from \"../BadDataset\"\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    console.error(\n      \"The following error occurred when loading a labeling interface:\",\n      error\n    )\n    return {\n      hasError: true,\n      errorString: error.toString(),\n    }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    Sentry.withScope((scope) => {\n      scope.setExtras(errorInfo)\n      const eventId = Sentry.captureException(error)\n      this.setState({ eventId })\n    })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <BadDataset\n          title=\"An error occurred loading the labeling interface\"\n          description={this.state.errorString}\n        />\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({})\nconst Stat = styled(\"div\")({\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  margin: 8,\n})\nconst Label = styled(\"div\")({\n  fontSize: 14,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n})\nconst Value = styled(\"div\")({\n  fontSize: 32,\n  marginTop: 8,\n})\n\nexport default ({ stats }) => {\n  return (\n    <Container>\n      {stats.map((s) => (\n        <Stat key={s.name}>\n          <Label>{s.name}</Label>\n          <Value>{s.value}</Value>\n        </Stat>\n      ))}\n    </Container>\n  )\n}\n","import React, { useState } from \"react\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Box from \"@material-ui/core/Box\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { useAppConfig } from \"../AppConfig\"\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport usePosthog from \"../../hooks/use-posthog\"\n\nconst Title = styled(\"div\")({\n  fontSize: 18,\n  color: colors.grey[800],\n  padding: 16,\n  \"& a\": {\n    color: colors.blue[600],\n  },\n})\n\nconst LabelHelpIs = styled(\"div\")({\n  fontSize: 18,\n  lineHeight: 1.5,\n  color: colors.grey[800],\n  padding: 16,\n  width: 800,\n})\n\nconst ErrorText = styled(\"div\")({\n  color: colors.red[600],\n})\n\nexport default () => {\n  const { setInConfig } = useAppConfig()\n  const [verifying, setVerifying] = useState(false)\n  const [textFieldValue, setTextFieldValue] = useState(\"\")\n  const [error, setError] = useState(\"\")\n  const posthog = usePosthog()\n\n  return (\n    <Box paddingTop={8} textAlign=\"center\">\n      <LabelHelpIs>\n        Label Help is a UDT-integrated service that crowd-sources your labeling,\n        it's about the same speed as having a team of 5-10 full-time labelers.\n      </LabelHelpIs>\n      <Title>\n        To use Label Help, enter your API key. You can{\" \"}\n        <a\n          href=\"https://labelhelp.universaldatatool.com\"\n          // eslint-disable-next-line\n          target=\"_blank\"\n          onClick={() => posthog.capture(\"get_api_key_link_clicked\")}\n        >\n          get an API key here\n        </a>\n        .\n      </Title>\n      {error && <ErrorText>{error}</ErrorText>}\n      <Box\n        paddingTop={2}\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        flexDirection=\"column\"\n      >\n        <TextField\n          onChange={(e) => setTextFieldValue(e.target.value)}\n          className=\"label-help-api-key-text-field\"\n          variant=\"outlined\"\n          label=\"API Key\"\n        />\n        <Button\n          style={{ marginTop: 16 }}\n          color=\"primary\"\n          disabled={verifying}\n          variant=\"outlined\"\n          onClick={async () => {\n            setError(null)\n            setVerifying(true)\n            try {\n              // TODO check with labelhelp server and make sure api key is valid\n              const response = await fetch(\n                \"https://labelhelp.universaldatatool.com/api/me\",\n                {\n                  headers: { apikey: textFieldValue },\n                }\n              )\n              if (response.status !== 200) throw new Error(response.toString())\n            } catch (e) {\n              setError(e.toString())\n              setVerifying(false)\n              return\n            }\n\n            setVerifying(false)\n            setInConfig(\"labelhelp.apikey\", textFieldValue)\n            posthog.capture(\"save_api_key_button_clicked\")\n          }}\n        >\n          {verifying ? (\n            <>\n              <CircularProgress size={18} style={{ marginRight: 16 }} />\n              Checking...\n            </>\n          ) : (\n            <>\n              <SaveIcon style={{ marginRight: 8 }} />\n              Save\n            </>\n          )}\n        </Button>\n      </Box>\n    </Box>\n  )\n}\n","// @flow\n\nimport { styled } from \"@material-ui/core/styles\"\n\nexport const PaperContainer = styled(\"div\")({\n  margin: 16,\n  padding: 16,\n  border: \"1px solid #ccc\",\n  borderRadius: 4,\n  boxShadow: \"0px 2px 2px rgba(0,0,0,0.1)\",\n})\n\nexport default PaperContainer\n","import useIsDesktop from \"./../hooks/use-is-desktop\"\nexport default () => {\n  const isDesktop = useIsDesktop()\n  if (isDesktop) return false\n  if (window.location.search.includes(\"mode=labelonly\")) {\n    return true\n  }\n  return false\n}\n","import React, { createContext, useMemo, useState } from \"react\"\n\nimport { useAppConfig } from \"../AppConfig\"\nexport const LabelHelpContext = createContext({})\n\nexport const LabelHelpProvider = ({ children }) => {\n  const { fromConfig, setInConfig } = useAppConfig()\n  const [loadingPricingConfig, setLoadingPricingConfig] = useState(false)\n  const [pricingConfig, setPricingConfig] = useState(false)\n  const [loadingMyTeam, setLoadingMyTeam] = useState(false)\n  const [myCredits, setMyCredits] = useState(null)\n  const contextValue = useMemo(\n    () => ({\n      pricingConfig,\n      myCredits,\n      loadPricingConfig: async () => {\n        if (loadingPricingConfig) return\n        setLoadingPricingConfig(true)\n        const pricingConfig = await fetch(\n          \"https://labelhelp.universaldatatool.com/api/price\"\n        ).then((r) => r.json())\n        setLoadingPricingConfig(false)\n        setPricingConfig(pricingConfig)\n      },\n      loadMyCredits: async () => {\n        if (loadingMyTeam) return\n        setLoadingMyTeam(true)\n        const apiKey = fromConfig(\"labelhelp.apikey\")\n        if (!apiKey) return\n        let response\n        try {\n          response = await fetch(\n            `https://labelhelp.universaldatatool.com/api/me`,\n            {\n              headers: { apikey: apiKey },\n            }\n          )\n          response = await response.json()\n        } catch (e) {\n          console.error(e)\n          setLoadingMyTeam(false)\n          return Promise.reject(e)\n        }\n        if (response.status >= 400) {\n          setInConfig(\"labelhelp.apikey\", null)\n        }\n\n        setMyCredits(response.credit)\n        setLoadingMyTeam(false)\n      },\n    }),\n    [\n      pricingConfig,\n      loadingPricingConfig,\n      // eslint-disable-next-line\n      fromConfig(\"labelhelp.apikey\"),\n      loadingMyTeam,\n      myCredits,\n      fromConfig,\n      setInConfig,\n    ]\n  )\n  return (\n    <LabelHelpContext.Provider value={contextValue}>\n      {children}\n    </LabelHelpContext.Provider>\n  )\n}\n","export default (dataset, varName) => {\n  let fields = (dataset.interface || {}).fields || []\n  // const totalLabels = fields.reduce(\n  //   (acc, f) =>\n  //     f.interface.type !== \"data_entry\"\n  //       ? acc\n  //       : acc + (f.interface.surveyjs.questions[0].choices || []).length,\n  //   0\n  // )\n  // const totalBoundingBoxes = fields.filter(\n  //   (f) => f.interface.type === \"image_segmentation\"\n  // ).length\n\n  switch (varName) {\n    case \"sample_count\":\n    case \"num_samples\":\n      return (dataset.samples || []).length\n    case \"number_of_fields\":\n      return Object.keys(dataset.interface.fields || {}).length\n    case \"text_field_count\":\n      if (dataset.interface.type === \"data_entry\") {\n        return dataset.interface.surveyjs.questions.filter(\n          (q) => q.type === \"text\"\n        ).length\n      } else if (dataset.interface.type === \"composite\") {\n        return fields.filter(\n          (f) =>\n            f.interface.type === \"data_entry\" &&\n            f.interface.surveyjs.questions[0].type === \"text\"\n        ).length\n      } else {\n        throw new Error(\n          \"Couldn't compute text_field_count for interface: \" +\n            dataset.interface.type\n        )\n      }\n    case \"number_of_classifications\":\n      return dataset.interface.labels.length\n    case \"average_number_of_interactions_per_image\":\n      // find completed samples\n      const completedSamples = dataset.samples.filter((s) => s.annotation)\n      let totalInteractions = 0\n      let totalSamplesConsidered = 0\n      for (const { annotation } of completedSamples) {\n        if (totalSamplesConsidered > 10) break\n        if (typeof annotation === \"object\" && annotation.length) {\n          totalSamplesConsidered += 1\n          for (const { points } of annotation) {\n            if (points) {\n              totalInteractions += points.length\n            } else {\n              totalInteractions += 1\n            }\n          }\n        }\n      }\n      if (totalSamplesConsidered < 1)\n        throw new Error(\n          \"Not enough completed samples to compute average_number_of_interactions_per_image\"\n        )\n      return totalInteractions / totalSamplesConsidered\n    case \"number_of_exclusive_classifications\":\n      return dataset.interface.multiple ? 0 : dataset.interface.labels.length\n    case \"number_of_nonexclusive_classifications\":\n      return dataset.interface.multiple ? dataset.interface.labels.length : 0\n    case \"average_text_length\":\n      return (\n        dataset.samples\n          .map((s) => s.document.length)\n          .reduce((acc, l) => acc + l, 0) / dataset.samples.length\n      )\n    case \"number_of_labels\":\n      return dataset.interface.labels.length\n    default:\n      throw new Error(`Don't know how to compute \"${varName}\"`)\n  }\n}\n","import { useContext, useEffect } from \"react\"\n\nimport useIsLabelOnlyMode from \"../../hooks/use-is-label-only-mode\"\nimport { useAppConfig } from \"../AppConfig\"\nimport { LabelHelpContext } from \"./LabelHelpProvider.js\"\nimport computeDatasetVariable from \"../../utils/compute-dataset-variable\"\nimport useDataset from \"../../hooks/use-dataset\"\n\nexport const useLabelHelp = () => {\n  const isLabelOnlyMode = useIsLabelOnlyMode()\n  const [dataset] = useDataset()\n  const {\n    pricingConfig,\n    myCredits,\n    remoteFile,\n    loadPricingConfig,\n    loadMyCredits,\n  } = useContext(LabelHelpContext)\n  const { fromConfig } = useAppConfig()\n  const labelHelpDisabled = Boolean(fromConfig(\"labelhelp.disabled\"))\n  const hasLabelHelpAPIKey = Boolean(fromConfig(\"labelhelp.apikey\"))\n\n  useEffect(() => {\n    if (labelHelpDisabled || isLabelOnlyMode) return\n    if (!dataset) return\n    if (!pricingConfig) loadPricingConfig()\n  }, [\n    pricingConfig,\n    isLabelOnlyMode,\n    labelHelpDisabled,\n    loadPricingConfig,\n    dataset,\n  ])\n\n  if (!dataset)\n    return {\n      labelHelpEnabled: false,\n      labelHelpError: \"no active dataset\",\n    }\n  if (labelHelpDisabled)\n    return { labelHelpEnabled: false, labelHelpError: \"Disabled in config\" }\n  if (isLabelOnlyMode) return { labelHelpEnabled: false }\n  if (!hasLabelHelpAPIKey && dataset?.samples?.length < 100) {\n    return {\n      labelHelpEnabled: false,\n      labelHelpError: \"Less than 100 samples\",\n    }\n  }\n  if (!pricingConfig) {\n    return {\n      labelHelpEnabled: false,\n      labelHelpError: \"No pricing config\",\n    }\n  }\n\n  try {\n    const { formula, variables: variableDescriptions } =\n      pricingConfig[dataset.interface.type] || {}\n\n    if (!formula)\n      return {\n        labelHelpEnabled: false,\n        labelHelpError: `No pricing formula for \"${dataset.interface.type}\"`,\n      }\n\n    const variables = {}\n    for (const variableName of Object.keys(variableDescriptions)) {\n      variables[variableName] = computeDatasetVariable(dataset, variableName)\n    }\n\n    const funcArgs = Object.keys(variables)\n    // TODO sanitize formula\n    // eslint-disable-next-line\n    const formulaFuncPos = new Function(...funcArgs, \"return \" + formula)\n    const formulaFunc = (variables) => {\n      return formulaFuncPos(...funcArgs.map((ak) => variables[ak]))\n    }\n    const totalCost = formulaFunc(variables)\n\n    return {\n      labelHelpEnabled: true,\n      myCredits,\n      loadMyCredits,\n      remoteFile,\n      formula,\n      variableDescriptions,\n      variables,\n      formulaFunc,\n      totalCost,\n      labelHelpAPIKey: fromConfig(\"labelhelp.apikey\"),\n    }\n  } catch (e) {\n    return { labelHelpEnabled: false, labelHelpError: e.toString() }\n  }\n}\n\nexport default useLabelHelp\n","import React, { useState } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport Button from \"@material-ui/core/Button\"\nimport Table from \"@material-ui/core/Table\"\nimport TableBody from \"@material-ui/core/TableBody\"\nimport TableCell from \"@material-ui/core/TableCell\"\nimport TableHead from \"@material-ui/core/TableHead\"\nimport TableRow from \"@material-ui/core/TableRow\"\nimport useLabelHelp from \"./use-label-help\"\nimport usePosthog from \"../../hooks/use-posthog\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport { useAppConfig } from \"../AppConfig\"\nimport useDataset from \"../../hooks/use-dataset\"\nimport { setIn } from \"seamless-immutable\"\nimport useEventCallback from \"use-event-callback\"\n\nconst usdFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n})\n\nconst preciseUSDFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  maximumFractionDigits: 4,\n  minimumFractionDigits: 2,\n})\n\nexport const LabelHelpSetup = ({ onChangeActiveStep, onError }) => {\n  const { fromConfig, setInConfig } = useAppConfig()\n\n  const [dataset, setDataset] = useDataset()\n\n  const {\n    variables,\n    totalCost = 0,\n    formulaFunc = () => 0,\n    myCredits = () => 0,\n  } = useLabelHelp()\n\n  const posthog = usePosthog()\n\n  const [isCreating, setIsCreating] = useState(false)\n\n  const onStartLabelHelp = useEventCallback(async () => {\n    onError(null)\n    setIsCreating(true)\n    const response = await fetch(\n      \"https://labelhelp.universaldatatool.com/api/submit\",\n      {\n        method: \"POST\",\n        body: JSON.stringify({\n          dataset,\n          price: totalCost,\n          api_key: fromConfig(\"labelhelp.apikey\"),\n        }),\n        headers: { \"Content-Type\": \"application/json\" },\n      }\n    )\n      .then(async (r) => {\n        if (!r.ok) {\n          throw new Error(await r.text())\n        }\n        return r.json()\n      })\n      .catch((e) => {\n        onError(e.toString())\n        throw e\n      })\n    if (!response) {\n      onError(\"Empty response from server\")\n      return null\n    }\n\n    setIsCreating(false)\n    setDataset(\n      setIn(dataset, [\"labelHelp\"], {\n        url: response.custom_id,\n        totalCost,\n      })\n    )\n\n    onChangeActiveStep(\"running\")\n\n    posthog.capture(\"start_label_help_button_clicked\")\n  })\n\n  return (\n    <Box>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Item</TableCell>\n            <TableCell>Quantity</TableCell>\n            <TableCell>Unit Cost</TableCell>\n            <TableCell>Cost / Sample</TableCell>\n            <TableCell>Total</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {Object.keys(variables || {}).map((varName) => (\n            <TableRow>\n              <TableCell style={{ textTransform: \"capitalize\" }}>\n                {varName.replace(/_/g, \" \")}\n              </TableCell>\n              <TableCell>{variables[varName]}</TableCell>\n              <TableCell>\n                {varName === \"sample_count\"\n                  ? \"\"\n                  : preciseUSDFormatter.format(\n                      (totalCost -\n                        formulaFunc({ ...variables, [varName]: 0 })) /\n                        variables.sample_count /\n                        (variables[varName] === 0 ? 1 : variables[varName])\n                    )}\n              </TableCell>\n              <TableCell>\n                {usdFormatter.format(\n                  (totalCost - formulaFunc({ ...variables, [varName]: 0 })) /\n                    variables.sample_count\n                )}\n              </TableCell>\n              <TableCell></TableCell>\n            </TableRow>\n          ))}\n          <TableRow>\n            <TableCell>Total Cost</TableCell>\n            <TableCell></TableCell>\n            <TableCell></TableCell>\n            <TableCell></TableCell>\n            <TableCell>{usdFormatter.format(totalCost)}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Time to Complete</TableCell>\n            <TableCell></TableCell>\n            <TableCell></TableCell>\n            <TableCell></TableCell>\n            <TableCell>1-3 days</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n      <Box\n        display=\"flex\"\n        justifyContent=\"flex-end\"\n        alignItems=\"center\"\n        padding={2}\n        paddingTop={4}\n      >\n        <Box>Credits: {usdFormatter.format(myCredits)}</Box>\n        <Box flexGrow={1} />\n        <Button\n          onClick={() => {\n            setInConfig(\"labelhelp.apikey\", null)\n            posthog.capture(\"api_key_button_clicked\")\n          }}\n          variant=\"outlined\"\n        >\n          API Key\n        </Button>\n        <Button\n          color={myCredits < totalCost ? \"primary\" : \"none\"}\n          style={{ marginLeft: 12 }}\n          variant=\"outlined\"\n          href=\"https://labelhelp.universaldatatool.com#addcredits\"\n          onClick={() => {\n            posthog.capture(\"add_credits_button_clicked\")\n          }}\n        >\n          Add Credits\n        </Button>\n        <Button\n          onClick={onStartLabelHelp}\n          style={{ marginLeft: 12 }}\n          variant=\"outlined\"\n          disabled={isCreating}\n          color={myCredits >= totalCost ? \"primary\" : \"none\"}\n        >\n          {!isCreating ? \"Start Label Help\" : <CircularProgress size={16} />}\n        </Button>\n      </Box>\n    </Box>\n  )\n}\n\nexport default LabelHelpSetup\n","import { useAppConfig } from \"../components/AppConfig\"\n\nexport default useAppConfig\n","import React, { useState } from \"react\"\n\nimport Box from \"@material-ui/core/Box\"\nimport Table from \"@material-ui/core/Table\"\nimport TableBody from \"@material-ui/core/TableBody\"\nimport TableRow from \"@material-ui/core/TableRow\"\nimport TableCell from \"@material-ui/core/TableCell\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport useDatasetProperty from \"../../hooks/use-dataset-property\"\nimport useAsyncEffect from \"use-async-effect\"\n\nimport useAppConfig from \"../../hooks/use-app-config\"\n\nconst Link = styled(\"a\")({\n  color: colors.blue[500],\n  textDecoration: \"none\",\n})\n\nexport const LabelHelpRunning = ({ onChangeActiveStep }) => {\n  const [status, setStatus] = useState()\n  const [progress, setProgress] = useState()\n\n  const [loading, setLoading] = useState(true)\n  const { fromConfig } = useAppConfig()\n  const { labelHelp } = useDatasetProperty(\"labelHelp\")\n  const labelHelpUrl = labelHelp?.url\n  const price = labelHelp?.totalCost\n\n  useAsyncEffect(async () => {\n    if (!labelHelpUrl) return\n    const response = await fetch(\n      `https://labelhelp.universaldatatool.com/api/job?custom_id=${encodeURIComponent(\n        labelHelpUrl\n      )}&api_key=${fromConfig(\"labelhelp.apikey\")}`\n    ).then(async (r) => {\n      if (!r.ok) {\n        alert(`Error loading job: ${await r.text()}`)\n        throw r\n      }\n      return await r.json()\n    })\n    if (response.progress >= 1) {\n      onChangeActiveStep(\"completed\")\n    } else {\n      setProgress(response.progress)\n      setStatus(response.status)\n      setLoading(true)\n    }\n  }, [labelHelpUrl])\n\n  return (\n    <Box>\n      {loading ? (\n        <Table>\n          <TableBody>\n            <TableRow>\n              <TableCell>Status</TableCell>\n              <TableCell>{status}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>Link</TableCell>\n              <TableCell>\n                <Link href={labelHelpUrl}>{labelHelpUrl}</Link>\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>Percent Complete</TableCell>\n              <TableCell>{(progress || 0).toFixed(1)}%</TableCell>\n            </TableRow>\n            {price && (\n              <TableRow>\n                <TableCell>Budget Used</TableCell>\n                <TableCell>${(progress || 0) * (price || 0)} / $75</TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      ) : (\n        <Box padding={8} textAlign=\"center\">\n          <CircularProgress size={100} />\n        </Box>\n      )}\n      <Box display=\"flex\" marginTop={2} justifyContent=\"flex-end\">\n        {/* TODO add stop early by calling /api/stop */}\n        {/* <Button\n      variant=\"outlined\"\n      style={{\n        color: colors.red[500],\n        border: `1px solid ${colors.red[200]}`,\n      }}\n    >\n      Stop Early\n    </Button> */}\n        <Box flexGrow={1} />\n        {/* TODO sync samples merges samples from link */}\n        {/* <Button variant=\"outlined\" color=\"primary\">\n      Sync Samples\n    </Button> */}\n      </Box>\n    </Box>\n  )\n}\n\nexport default LabelHelpRunning\n","import React from \"react\"\n\nimport Box from \"@material-ui/core/Box\"\nimport Table from \"@material-ui/core/Table\"\nimport TableBody from \"@material-ui/core/TableBody\"\nimport TableRow from \"@material-ui/core/TableRow\"\nimport TableCell from \"@material-ui/core/TableCell\"\nimport Button from \"@material-ui/core/Button\"\n\nimport useDatasetProperty from \"../../hooks/use-dataset-property\"\n\nconst usdFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n})\n\nexport const LabelHelpCompleted = ({ onChangeActiveStep }) => {\n  const { labelHelp, updateLabelHelp } = useDatasetProperty(\"labelHelp\")\n  return (\n    <Box>\n      <Table>\n        <TableBody>\n          <TableRow>\n            <TableCell>Percent Complete</TableCell>\n            <TableCell>100%</TableCell>\n          </TableRow>\n          {labelHelp?.totalCost && (\n            <TableRow>\n              <TableCell>Total Cost</TableCell>\n              <TableCell>{usdFormatter.format(labelHelp?.totalCost)}</TableCell>\n            </TableRow>\n          )}\n        </TableBody>\n      </Table>\n      <Box display=\"flex\" marginTop={2} justifyContent=\"flex-end\">\n        <Button\n          onClick={() => {\n            updateLabelHelp(null)\n            onChangeActiveStep(\"setup\")\n          }}\n          variant=\"outlined\"\n        >\n          Restart\n        </Button>\n        {/* TODO sync samples merges samples from link */}\n        {/* <Button\n      style={{ marginLeft: 12 }}\n      variant=\"outlined\"\n      color=\"primary\"\n    >\n      Sync Samples\n    </Button> */}\n      </Box>\n    </Box>\n  )\n}\n\nexport default LabelHelpCompleted\n","// @flow\n\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Box from \"@material-ui/core/Box\"\nimport Stepper from \"@material-ui/core/Stepper\"\nimport Step from \"@material-ui/core/Step\"\nimport StepLabel from \"@material-ui/core/StepLabel\"\nimport { useLabelHelp } from \"./\"\nimport * as colors from \"@material-ui/core/colors\"\nimport LabelHelpSetup from \"./label-help-setup\"\nimport LabelHelpRunning from \"./label-help-running\"\nimport LabelHelpCompleted from \"./label-help-completed\"\n\nconst Container = styled(\"div\")({\n  fontVariantNumeric: \"tabular-nums\",\n})\n\nconst steps = [\"setup\", \"running\", \"completed\"]\n\nexport default () => {\n  const [activeStep, setActiveStep] = useState(\"setup\")\n\n  const { labelHelpEnabled, labelHelpError } = useLabelHelp()\n\n  const [error, setError] = useState()\n\n  if (!labelHelpEnabled)\n    return (\n      <Container>\n        Label Help isn't enabled, check the error below. If you can't resolve\n        the error, reach out on{\" \"}\n        <a href=\"https://universaldatatool.slack.com\">the slack</a> for more\n        help!\n        {labelHelpError && (\n          <div style={{ color: colors.red[500], marginTop: 24 }}>\n            {labelHelpError}\n          </div>\n        )}\n      </Container>\n    )\n\n  return (\n    <Container>\n      <Stepper activeStep={steps.indexOf(activeStep)}>\n        {[\"Setup\", \"Running\", \"Completed\"].map((step) => (\n          <Step key={step}>\n            <StepLabel>{step}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      {error && <Box color={colors.red[600]}>{error}</Box>}\n      {activeStep === \"setup\" ? (\n        <LabelHelpSetup onChangeActiveStep={setActiveStep} onError={setError} />\n      ) : activeStep === \"running\" ? (\n        <LabelHelpRunning\n          onChangeActiveStep={setActiveStep}\n          onError={setError}\n        />\n      ) : activeStep === \"completed\" ? (\n        <LabelHelpCompleted onError={setError} />\n      ) : null}\n    </Container>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport APIKeyEntry from \"./api-key-entry.js\"\nimport PaperContainer from \"../PaperContainer\"\nimport LabelHelpDialogContent from \"./label-help-dialog-content\"\nimport { useAppConfig } from \"../AppConfig\"\n\nexport { LabelHelpProvider, LabelHelpContext } from \"./LabelHelpProvider.js\"\nexport { useLabelHelp } from \"./use-label-help\"\n\nconst Container = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n})\n\nexport const LabelHelpView = () => {\n  const { fromConfig } = useAppConfig()\n  const hasAPIKey = Boolean(fromConfig(\"labelhelp.apikey\"))\n\n  return (\n    <Container>\n      {!hasAPIKey ? (\n        <APIKeyEntry key=\"apikeyentry\" />\n      ) : (\n        <PaperContainer\n          key=\"dialogcontent\"\n          style={{ marginTop: 48, width: \"100%\", maxWidth: 800 }}\n        >\n          <LabelHelpDialogContent />\n        </PaperContainer>\n      )}\n    </Container>\n  )\n}\n\nexport default LabelHelpView\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  fontSize: 18,\n  padding: 32,\n  textAlign: \"center\",\n  color: colors.grey[700],\n  \"& a\": {\n    color: colors.blue[500],\n  },\n})\n\nexport const ActiveLearningView = () => {\n  return (\n    <Container>\n      Hey, this isn't available yet, but if you'd like this functionality please\n      let us know by leaving a thumbs up on{\" \"}\n      <a href=\"https://github.com/UniversalDataTool/universal-data-tool/issues/148\">\n        this github issue\n      </a>\n    </Container>\n  )\n}\n\nexport default ActiveLearningView\n","import React, { useEffect, useState } from \"react\"\nimport LabelErrorBoundary from \"../LabelErrorBoundary\"\n// import UniversalDataViewer from \"../UniversalDataViewer\"\nimport UniversalSampleEditor from \"../UniversalSampleEditor\"\nimport Stats from \"../Stats\"\nimport SampleGrid from \"../SampleGrid\"\nimport Box from \"@material-ui/core/Box\"\nimport usePosthog from \"../../hooks/use-posthog\"\nimport duration from \"duration\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport SupervisedUserCircleIcon from \"@material-ui/icons/SupervisedUserCircle\"\nimport DataUsageIcon from \"@material-ui/icons/DataUsage\"\nimport LabelHelpView from \"../LabelHelpView\"\nimport ActiveLearningView from \"../ActiveLearningView\"\nimport useIsLabelOnlyMode from \"../../hooks/use-is-label-only-mode\"\nimport useSummary from \"../../hooks/use-summary\"\nimport useSample from \"../../hooks/use-sample\"\nimport useRemoveSamples from \"../../hooks/use-remove-samples\"\nimport useInterface from \"../../hooks/use-interface\"\nimport useAppConfig from \"../../hooks/use-app-config\"\n\nconst OverviewContainer = styled(\"div\")({\n  padding: 8,\n  paddingBottom: 0,\n  height: \"100%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  boxSizing: \"border-box\",\n})\n\nexport default ({\n  selectedBrush = \"complete\",\n  sampleIndex,\n  onChangeSampleIndex,\n  onClickSetup,\n  onChangeSampleTimeToComplete,\n  sampleTimeToComplete,\n}) => {\n  const [currentTab, setTab] = useState(\"label\")\n  const posthog = usePosthog()\n  const labelOnlyMode = useIsLabelOnlyMode()\n  const { fromConfig } = useAppConfig()\n  const [annotationStartTime, setAnnotationStartTime] = useState(null)\n  const { summary } = useSummary()\n  const removeSamples = useRemoveSamples()\n  const { sample, updateSample, sampleLoading } = useSample(sampleIndex)\n  const { iface } = useInterface()\n\n  const labelHelpEnabled = !fromConfig(\"labelhelp.disabled\")\n  const isInOverview = sampleIndex === null\n\n  let percentComplete = 0\n  if (summary?.samples && summary.samples.length > 0) {\n    percentComplete =\n      summary.samples.filter((s) => s?.hasAnnotation).length /\n      summary.samples.length\n  }\n\n  useEffect(() => {\n    if (labelHelpEnabled) {\n      posthog.capture(\"label_help_showed\")\n    }\n  }, [labelHelpEnabled, posthog])\n\n  useEffect(() => {\n    if (currentTab === \"labelhelp\") {\n      posthog.capture(\"label_help_clicked\")\n    }\n  }, [currentTab, posthog])\n\n  return !isInOverview ? (\n    <LabelErrorBoundary>\n      <UniversalSampleEditor\n        sampleIndex={sampleIndex}\n        loading={sampleLoading}\n        onRemoveSample={(sampleIndex) => {\n          if (window.confirm(\"Are you sure you want to delete this sample?\")) {\n            removeSamples([summary.samples[sampleIndex]._id])\n          }\n        }}\n        onModifySample={(newSample) => {\n          updateSample({\n            ...newSample,\n            brush: selectedBrush,\n          })\n        }}\n        onExit={(nextAction = \"nothing\") => {\n          if (annotationStartTime) {\n            onChangeSampleTimeToComplete(Date.now() - annotationStartTime)\n          }\n          switch (nextAction) {\n            case \"go-to-next\":\n              if (sampleIndex !== summary.samples.length - 1) {\n                posthog.capture(\"next_sample\", {\n                  interface_type: iface?.type,\n                })\n                // TODO reset start time\n                onChangeSampleIndex(sampleIndex + 1)\n                setAnnotationStartTime(Date.now())\n                return\n              }\n              break\n            case \"go-to-previous\":\n              if (sampleIndex !== 0) {\n                onChangeSampleIndex(sampleIndex - 1)\n                setAnnotationStartTime(Date.now())\n                return\n              }\n              break\n            default:\n              break\n          }\n          onChangeSampleIndex(null)\n        }}\n        interface={iface}\n        sample={sample}\n        onClickSetup={onClickSetup}\n      />\n    </LabelErrorBoundary>\n  ) : (\n    <OverviewContainer>\n      <Box display=\"flex\">\n        <Box>\n          <Tabs value={currentTab} onChange={(e, newTab) => setTab(newTab)}>\n            <Tab icon={<BorderColorIcon />} label=\"Label\" value=\"label\" />\n            {!labelOnlyMode && (\n              <Tab\n                icon={<DataUsageIcon />}\n                label=\"Active Learning\"\n                value=\"activelearning\"\n              />\n            )}\n            {!labelOnlyMode && (\n              <Tab\n                icon={<SupervisedUserCircleIcon />}\n                label={\"Crowd Label\"}\n                value=\"labelhelp\"\n              />\n            )}\n          </Tabs>\n        </Box>\n        <Box flexGrow={1} />\n        <Stats\n          stats={[\n            {\n              name: \"Percent Complete\",\n              value: Math.floor(percentComplete * 100) + \"%\",\n            },\n            {\n              name: \"Time per Sample\",\n              value: duration(\n                new Date(Date.now() - sampleTimeToComplete)\n              ).toString(1, 1),\n            },\n            {\n              name: \"Estimated Remaining\",\n              value: duration(\n                new Date(\n                  Date.now() -\n                    sampleTimeToComplete *\n                      (1 - percentComplete) *\n                      (summary.samples || []).length\n                )\n              ).toString(1, 2),\n            },\n          ]}\n        />\n      </Box>\n      <Box flexGrow={1}>\n        {currentTab === \"label\" && (\n          <SampleGrid\n            tablePaginationPadding={6}\n            samples={summary?.samples || []}\n            onClick={(selectedSampleIndex) => {\n              posthog.capture(\"open_sample\", {\n                interface_type: iface?.type,\n              })\n              onChangeSampleIndex(selectedSampleIndex)\n            }}\n          />\n        )}\n        {currentTab === \"activelearning\" && <ActiveLearningView />}\n        {currentTab === \"labelhelp\" && <LabelHelpView />}\n      </Box>\n    </OverviewContainer>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect, useMemo } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nimport { HeaderWithContainer } from \"../Header\"\nimport SamplesView from \"../SamplesView\"\nimport SetupPage from \"../SetupPage\"\nimport useElectron from \"../../hooks/use-electron\"\nimport useTimeToCompleteSample from \"../../hooks/use-time-to-complete-sample.js\"\nimport { useToasts } from \"../Toasts\"\nimport useEventCallback from \"use-event-callback\"\nimport usePosthog from \"../../hooks/use-posthog\"\nimport classnames from \"classnames\"\nimport LabelView from \"../LabelView\"\nimport useIsLabelOnlyMode from \"../../hooks/use-is-label-only-mode\"\nimport { HotKeys } from \"react-hotkeys\"\nimport { useHotkeyStorage } from \"../HotkeyStorage\"\nimport useInterface from \"../../hooks/use-interface\"\nimport useSummary from \"../../hooks/use-summary\"\nimport useRemoveSamples from \"../../hooks/use-remove-samples\"\n\nimport \"brace/mode/javascript\"\nimport \"brace/theme/github\"\n\nconst useStyles = makeStyles({\n  headerButton: {\n    color: \"#fff\",\n  },\n  saveIcon: {\n    marginRight: 4,\n  },\n  editIcon: {\n    marginLeft: 4,\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n})\n\nexport default ({\n  content,\n  inSession,\n  url,\n  onChangeDataset = () => null,\n  onChangeFile,\n  onFileDrop,\n  initialMode = \"setup\",\n  authConfig,\n  user,\n  recentItems,\n  selectedBrush,\n}) => {\n  const labelOnlyMode = useIsLabelOnlyMode()\n  const c = useStyles()\n  const { addToast } = useToasts()\n  const [mode, changeMode] = useState(labelOnlyMode ? \"label\" : initialMode)\n  const { ipcRenderer } = useElectron() || {}\n  const posthog = usePosthog()\n  const { iface } = useInterface()\n  const { summary } = useSummary()\n  const removeSamples = useRemoveSamples()\n\n  const [sampleIndex, setSampleIndex] = useState(null)\n\n  const headerTabs = labelOnlyMode ? [\"Label\"] : [\"Setup\", \"Samples\", \"Label\"]\n\n  const [\n    sampleTimeToComplete,\n    changeSampleTimeToComplete,\n  ] = useTimeToCompleteSample()\n\n  useEffect(() => {\n    if (!ipcRenderer) return\n    const onOpenSettingsPage = () => changeMode(\"settings\")\n    const onOpenSamplesPage = () => changeMode(\"samples\")\n    const onOpenLabelPage = () => changeMode(\"label\")\n    ipcRenderer.on(\"open-settings-page\", onOpenSettingsPage)\n    ipcRenderer.on(\"open-samples-page\", onOpenSamplesPage)\n    ipcRenderer.on(\"open-label-page\", onOpenLabelPage)\n    return () => {\n      ipcRenderer.removeListener(\"open-settings-page\", onOpenSettingsPage)\n      ipcRenderer.removeListener(\"open-samples-page\", onOpenSamplesPage)\n      ipcRenderer.removeListener(\"open-label-page\", onOpenLabelPage)\n    }\n  }, [ipcRenderer])\n\n  useEffect(() => {\n    posthog.people.set({\n      average_time_to_complete_sample: sampleTimeToComplete,\n    })\n  }, [sampleTimeToComplete, posthog.people])\n\n  useEffect(() => {\n    if (mode !== \"label\") setSampleIndex(null)\n    posthog.capture(\"open_editor_tab\", { tab: mode })\n  }, [mode, posthog])\n\n  const onChangeTab = useEventCallback((tab) => changeMode(tab.toLowerCase()))\n\n  const shortcutHandlers = useMemo(\n    () => ({\n      switch_to_label: () => changeMode(\"label\"),\n      switch_to_setup: () => changeMode(\"setup\"),\n      switch_to_samples: () => changeMode(\"samples\"),\n    }),\n    [changeMode]\n  )\n\n  const { keyMap } = useHotkeyStorage()\n\n  return (\n    <HotKeys allowChanges handlers={shortcutHandlers} keyMap={keyMap}>\n      <div className={classnames(c.container, \"universaldatatool\")}>\n        <HeaderWithContainer\n          title={null}\n          onChangeTab={onChangeTab}\n          currentTab={mode}\n          tabs={headerTabs}\n        >\n          <div style={{ height: \"100%\", overflowY: \"scroll\" }}>\n            {mode === \"setup\" && (\n              <SetupPage\n                onClearLabelData={() => {\n                  removeSamples(summary.samples.map((s) => s._id))\n                }}\n                onChange={(newDataset) => {\n                  if (\n                    iface.type !== newDataset.interface.type &&\n                    iface.type !== \"empty\" &&\n                    summary.samples.some((s) => s?.hasAnnotation)\n                  ) {\n                    addToast(\n                      \"Changing label types can cause label data issues. You must clear all label data first.\",\n                      \"error\"\n                    )\n                    return\n                  }\n                  onChangeDataset(newDataset)\n                }}\n              />\n            )}\n            {mode === \"samples\" && (\n              <SamplesView\n                openSampleLabelEditor={(sampleIndex) => {\n                  setSampleIndex(sampleIndex)\n                  posthog.capture(\"open_sample\", {\n                    interface_type: iface?.type,\n                  })\n                  changeMode(\"label\")\n                }}\n                user={user}\n              />\n            )}\n            {mode === \"label\" && (\n              <LabelView\n                selectedBrush={selectedBrush}\n                sampleIndex={sampleIndex}\n                onChangeSampleIndex={setSampleIndex}\n                sampleTimeToComplete={sampleTimeToComplete}\n                onChangeSampleTimeToComplete={changeSampleTimeToComplete}\n                onChangeDataset={onChangeDataset}\n                onClickSetup={() => changeMode(\"setup\")}\n              />\n            )}\n          </div>\n        </HeaderWithContainer>\n      </div>\n    </HotKeys>\n  )\n}\n","import { useReducer } from \"react\"\n\nexport default () => {\n  const [{ timeToCompleteSample }, changeSampleTimeToComplete] = useReducer(\n    (state, newTimeToComplete) => {\n      const newSamplesInWindow = state.samplesInWindow\n        .slice(-10)\n        .concat([newTimeToComplete])\n      return {\n        timeToCompleteSample:\n          newSamplesInWindow.reduce((acc, a) => acc + a, 0) /\n          newSamplesInWindow.length,\n        samplesInWindow: newSamplesInWindow,\n      }\n    },\n    { timeToCompleteSample: 0, samplesInWindow: [] }\n  )\n  return [timeToCompleteSample, changeSampleTimeToComplete]\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { detect } from \"detect-browser\"\nimport Button from \"@material-ui/core/Button\"\nimport LaunchIcon from \"@material-ui/icons/Launch\"\nimport Sentry from \"../../utils/sentry.js\"\n\nconst Container = styled(\"div\")({\n  width: \"100vw\",\n  minHeight: \"100vh\",\n  backgroundColor: colors.grey[900],\n  padding: 32,\n  \"& .title\": {\n    color: colors.grey[200],\n    fontSize: 24,\n    fontWeight: \"bold\",\n  },\n  \"& .subtitle\": {\n    color: colors.grey[300],\n    fontSize: 18,\n    marginTop: 8,\n  },\n  \"& .info\": {\n    width: \"100%\",\n    boxSizing: \"border-box\",\n    padding: 32,\n    \"& textarea\": {\n      width: \"calc(100% - 64px)\",\n      boxSizing: \"border-box\",\n      minHeight: 300,\n      fontSize: 12,\n    },\n  },\n})\nconst Buttons = styled(\"div\")({\n  padding: 8,\n})\nconst StyledButton = styled(Button)({\n  color: \"#fff\",\n  borderColor: \"rgba(255,255,255,0.5)\",\n  margin: 8,\n})\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return {\n      hasError: true,\n      errorDetails: JSON.stringify(detect()) + \"\\n\\n\" + error.stack,\n    }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    Sentry.withScope((scope) => {\n      scope.setExtras(errorInfo)\n      const eventId = Sentry.captureException(error)\n      this.setState({ eventId })\n    })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <Container>\n          <div className=\"title\">An error has occurred</div>\n          <div className=\"subtitle\">All the details are below:</div>\n          <div className=\"info\">\n            <textarea>{this.state.errorDetails}</textarea>\n          </div>\n          <Buttons>\n            <StyledButton\n              variant=\"outlined\"\n              target=\"_blank\"\n              href=\"https://github.com/Universal/universal-data-tool/issues\"\n            >\n              <LaunchIcon style={{ color: \"#fff\", marginRight: 8 }} /> View\n              Issues on Github\n            </StyledButton>\n            {/* <StyledButton\n              variant=\"outlined\"\n              onClick={this.props.revertLastChange}\n            >\n              Revert Last File Change\n            </StyledButton> */}\n            <StyledButton\n              variant=\"outlined\"\n              onClick={() => window.location.reload()}\n            >\n              Reload (unsaved progress will be lost)\n            </StyledButton>\n          </Buttons>\n        </Container>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","// @flow weak\n\nimport { useEffect } from \"react\"\nimport useIsDesktop from \"../hooks/use-is-desktop\"\n\nfunction preventNavigation(e) {\n  var confirmationMessage =\n    \"It looks like you have been editing something. \" +\n    \"If you leave before saving, your changes will be lost.\"\n\n  ;(e || window.event).returnValue = confirmationMessage //Gecko + IE\n  return confirmationMessage //Gecko + Webkit, Safari, Chrome etc.\n}\n\nexport default (shouldPreventNavigation = true) => {\n  const isDesktop = useIsDesktop()\n\n  useEffect(() => {\n    if (isDesktop) return\n    if (!shouldPreventNavigation) return\n    if (window.location.origin.includes(\"localhost\")) return\n    window.addEventListener(\"beforeunload\", preventNavigation)\n    return () => {\n      window.removeEventListener(\"beforeunload\", preventNavigation)\n    }\n  }, [shouldPreventNavigation, isDesktop])\n}\n","import { useContext, createContext } from \"react\"\n\nexport const FileContext = createContext({})\n\nexport const useFileContext = () => useContext(FileContext)\n\nexport { useActiveDataset } from \"./use-active-dataset.js\"\n","import React, { useState, useEffect } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport TextAreaWithUpload from \"../TextAreaWithUpload\"\nimport { useAppConfig } from \"../AppConfig\"\n\nexport const ManagePluginsDialog = ({ onClose, open }) => {\n  const { fromConfig, setInConfig } = useAppConfig()\n  const [content, setContent] = useState()\n  useEffect(() => {\n    if (!open) return\n    setContent(fromConfig(\"pluginUrls\") || \"\")\n    //eslint-disable-next-line\n  }, [open])\n\n  return (\n    <SimpleDialog\n      title=\"Manage Plugins\"\n      onClose={onClose}\n      open={open}\n      actions={[\n        {\n          text: \"Save Plugins\",\n          onClick: () => {\n            setInConfig(\n              \"pluginUrls\",\n              content\n                .trim()\n                .split(\"\\n\")\n                .map((line) => line.trim())\n                .filter(Boolean)\n                .join(\"\\n\")\n            )\n            onClose()\n          },\n        },\n      ]}\n    >\n      <TextAreaWithUpload\n        content={content}\n        onChangeContent={setContent}\n        placeholder={\n          \"Write the URLs to each plugin here, one plugin url per line.\\n\\ne.g.\\nhttps://unpkg.com/udt-transform-delete-samples@1.0.4/plugin-config.js\\n\\nYou can also upload a text file with the urls.\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n\nexport default ManagePluginsDialog\n","import JAC from \"jac-format\"\nimport range from \"lodash/range\"\nimport { flatten } from \"flat\"\n\nexport default (obj) => {\n  const AddSamplesKeys = (k) => {\n    sampleKeys.add(k)\n  }\n  // Find all possible sample keys\n  let sampleKeys = new Set()\n  for (const sample of obj.samples) {\n    Object.keys(flatten(sample)).forEach((k) => AddSamplesKeys(k))\n  }\n  sampleKeys = Array.from(sampleKeys).sort(\n    (a, b) => a.split(\".\").length - b.split(\".\").length\n  )\n\n  if (sampleKeys.some((k) => k.includes(\"output.keyframes\"))) {\n    sampleKeys = sampleKeys.filter((k) => k.includes(\"output.keyframes\"))\n    sampleKeys.push(\"output.keyframes\")\n  }\n\n  const options = {\n    rows: [\n      \"interface\",\n      ...range(obj.samples.length).map((i) => `samples.${i}`),\n    ],\n    columns: [\".\", ...sampleKeys],\n    validate: false,\n  }\n\n  return JAC.toCSV(obj, options)\n}\n","import useActiveDatasetManager from \"../use-active-dataset-manager\"\nimport useEventCallback from \"use-event-callback\"\nimport fromUDTCSV from \"../../utils/from-udt-csv\"\nimport LocalStorageDatasetManager from \"udt-dataset-managers/dist/LocalStorageDatasetManager\"\nimport { useToasts } from \"../../components/Toasts\"\n\nexport default () => {\n  const [, setActiveDatasetManager] = useActiveDatasetManager()\n  const { addToast } = useToasts()\n\n  return useEventCallback((fsFile) => {\n    const { name: fileName, path: filePath } = fsFile\n\n    async function handleLoadedFile(content) {\n      try {\n        let dataset\n        if (fileName.endsWith(\"csv\")) {\n          dataset = fromUDTCSV(content)\n        } else {\n          dataset = JSON.parse(content)\n        }\n        // TODO validate OHA and prompt to open anyway if invalid\n        const dm = new LocalStorageDatasetManager()\n        await dm.setDataset({ ...dataset, filePath, name: fileName })\n        setActiveDatasetManager(dm)\n      } catch (e) {\n        console.log(e.toString())\n        addToast(\"Couldn't read file, see console for details\", \"error\")\n        // addError(`Could not read file \"${fsFile.name}\"`)\n      }\n    }\n\n    if (fsFile.content) {\n      handleLoadedFile(fsFile.content)\n    } else {\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        const content = e.target.result\n        handleLoadedFile(content)\n      }\n      reader.readAsText(fsFile)\n    }\n    setActiveDatasetManager()\n  })\n}\n","import { useToasts } from \"../../components/Toasts\"\n\nexport default useToasts\n","// @flow\nimport React, { useState } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport DatasetEditor from \"../DatasetEditor\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../hooks/use-errors.js\"\nimport LocalStorageDatasetManager from \"udt-dataset-managers/dist/LocalStorageDatasetManager.js\"\nimport useActiveDatasetManager from \"../../hooks/use-active-dataset-manager\"\nimport AppErrorBoundary from \"../AppErrorBoundary\"\nimport useEventCallback from \"use-event-callback\"\nimport usePreventNavigation from \"../../hooks/use-prevent-navigation\"\nimport { FileContext } from \"../FileContext\"\nimport usePosthog from \"../../hooks/use-posthog\"\nimport ManagePluginsDialog from \"../ManagePluginsDialog\"\nimport usePluginProvider from \"../PluginProvider\"\nimport download from \"in-browser-download\"\nimport toUDTCSV from \"../../utils/to-udt-csv\"\nimport useEnterCollaborativeSession from \"../../hooks/use-enter-collaborative-session\"\nimport useOpenFile from \"../../hooks/use-open-file\"\nimport useDesktopMenuFunctions from \"../../hooks/use-desktop-menu-functions\"\n\nexport default () => {\n  useEnterCollaborativeSession()\n  useDesktopMenuFunctions()\n  usePluginProvider()\n\n  const [datasetManager, setDatasetManager] = useActiveDatasetManager()\n  usePreventNavigation(Boolean(datasetManager))\n\n  const posthog = usePosthog()\n  const [errors] = useErrors()\n\n  const [managePluginsDialogOpen, setManagePluginsDialogOpen] = useState(false)\n\n  const [selectedBrush, setSelectedBrush] = useState(\"complete\")\n  const onCreateTemplate = useEventCallback(async (template) => {\n    const dm = new LocalStorageDatasetManager()\n    await dm.setDataset({\n      ...template.dataset,\n      name: `New ${template.dataset.interface.type} Dataset`,\n    })\n    setDatasetManager(dm)\n  })\n\n  const openRecentItem = useEventCallback((item) => {\n    // TODO, recent items is currently non-functional\n  })\n  const onClickHome = useEventCallback(() => {\n    if (\n      window.confirm(\n        \"Are you sure you want to leave this dataset? Changes may not be saved!\"\n      )\n    ) {\n      window.history.replaceState(null, null, `?`)\n      setDatasetManager(null)\n    }\n  })\n  const onClickManagePlugins = useEventCallback(() =>\n    setManagePluginsDialogOpen(true)\n  )\n  const onDownload = useEventCallback(async (format) => {\n    posthog.capture(\"download_file\", { file_type: format })\n    const ds = await datasetManager.getDataset()\n    const userProvidedFileName = (\n      datasetManager.sessionId ||\n      ds.name ||\n      \"MyDataset\"\n    ).replace(/\\.udt\\.(csv|json)/, \"\")\n    const outputName = userProvidedFileName + \".udt.\" + format\n    if (format === \"json\") {\n      download(JSON.stringify(ds), outputName)\n    } else if (format === \"csv\") {\n      download(toUDTCSV(ds), outputName)\n    }\n  })\n\n  const openFile = useOpenFile()\n\n  const [sessionBoxOpen, changeSessionBoxOpen] = useState(false)\n\n  const isWelcomePage = !datasetManager\n\n  return (\n    <>\n      <FileContext.Provider value={{} /*{ file, setFile }*/}>\n        <HeaderContext.Provider\n          value={{\n            recentItems: [],\n            changeRecentItems: () => {},\n            onClickTemplate: onCreateTemplate,\n            onClickHome,\n            onClickManagePlugins,\n            onOpenFile: openFile,\n            onOpenRecentItem: openRecentItem,\n            sessionBoxOpen,\n            changeSessionBoxOpen,\n            // onCreateSession: makeSession,\n            fileOpen: Boolean(datasetManager),\n            onDownload,\n            onChangeSelectedBrush: setSelectedBrush,\n            selectedBrush,\n            isWelcomePage,\n          }}\n        >\n          <div>\n            {isWelcomePage ? (\n              <StartingPage\n                onFileDrop={openFile}\n                onOpenTemplate={onCreateTemplate}\n                recentItems={[]}\n                onOpenRecentItem={openRecentItem}\n                onClickOpenSession={() => changeSessionBoxOpen(true)}\n              />\n            ) : (\n              <AppErrorBoundary>\n                <DatasetEditor\n                  selectedBrush={selectedBrush}\n                  recentItems={[] /* recentItems */}\n                />\n              </AppErrorBoundary>\n            )}\n            <ManagePluginsDialog\n              open={managePluginsDialogOpen}\n              onClose={() => setManagePluginsDialogOpen(false)}\n            />\n          </div>\n        </HeaderContext.Provider>\n      </FileContext.Provider>\n      <ErrorToasts errors={errors} />\n    </>\n  )\n}\n","import { useEffect } from \"react\"\nimport useActiveDatasetManager from \"../use-active-dataset-manager\"\nimport CollaborativeDatasetManager from \"udt-dataset-managers/dist/CollaborationServerDatasetManager\"\nimport useAppConfig from \"../use-app-config\"\nimport qs from \"qs\"\n\nexport default () => {\n  const { fromConfig } = useAppConfig()\n  const [dm, setActiveDatasetManager] = useActiveDatasetManager()\n  useEffect(() => {\n    if (dm) return\n    const queryParams = qs.parse(window.location.search.substr(1))\n    async function goIntoCollaborativeSession(sessionId) {\n      const dm = new CollaborativeDatasetManager({\n        serverUrl: fromConfig(\"collaborationServer.url\"),\n      })\n      await dm.loadSession(sessionId)\n      setActiveDatasetManager(dm)\n    }\n    if (queryParams.s) {\n      goIntoCollaborativeSession(queryParams.s)\n    }\n    // Only run on first call (or when the dataset manager can be sent)\n    // eslint-disable-next-line\n  }, [setActiveDatasetManager])\n}\n","import { useEffect } from \"react\"\nimport useElectron from \"../use-electron\"\nimport useActiveDatasetManager from \"../use-active-dataset-manager\"\nimport LocalStorageDatasetManager from \"udt-dataset-managers/dist/LocalStorageDatasetManager\"\nimport templates from \"../../components/StartingPage/templates\"\nimport useToasts from \"../use-toasts\"\nimport toUDTCSV from \"../../utils/to-udt-csv.js\"\nimport useOpenFile from \"../use-open-file\"\n\nexport default () => {\n  const electron = useElectron()\n  const { addToast } = useToasts()\n  const openFile = useOpenFile()\n  const [dm, setDatasetManager] = useActiveDatasetManager()\n\n  useEffect(() => {\n    if (!electron) return\n\n    const { ipcRenderer, remote } = electron\n\n    const onOpenWelcomePage = () => {\n      setDatasetManager(null)\n    }\n\n    const onNewFile = async (arg0, { templateName } = {}) => {\n      const newDM = new LocalStorageDatasetManager()\n      await newDM.setDataset(\n        templates.find((t) => t.name === templateName) || templates[0]\n      )\n      setDatasetManager(newDM)\n    }\n\n    async function setFilePath() {\n      const {\n        cancelled,\n        filePath: newFilePath,\n      } = await remote.dialog.showSaveDialog({\n        filters: [\n          { name: \".udt.json\", extensions: [\"udt.json\"] },\n          { name: \".udt.csv\", extensions: [\"udt.csv\"] },\n        ],\n      })\n\n      let filePath =\n        !newFilePath ||\n        newFilePath.endsWith(\".json\") ||\n        newFilePath.endsWith(\".csv\")\n          ? newFilePath\n          : `${newFilePath}.udt.json`\n      if (cancelled || !filePath) {\n        addToast(\"Could not save\")\n        return\n      }\n      await dm.setDatasetProperty(\"filePath\", filePath)\n      return filePath\n    }\n\n    async function saveFileAsync({ saveAs = false } = {}) {\n      if (!dm) return\n      let filePath = await dm.getDatasetProperty(\"filePath\")\n      if (!filePath || saveAs) {\n        filePath = await setFilePath()\n      }\n      const ds = await dm.getDataset()\n      await remote\n        .require(\"fs\")\n        .promises.writeFile(\n          filePath,\n          filePath.endsWith(\".csv\")\n            ? toUDTCSV(ds)\n            : JSON.stringify(ds, null, \"  \")\n        )\n      addToast(\"File Saved!\")\n    }\n\n    const exportToCSV = async () => {\n      if (!dm) return\n      let { cancelled, filePath } = await remote.dialog.showSaveDialog({\n        filters: [{ name: \".udt.csv\", extensions: [\"udt.csv\"] }],\n      })\n      if (cancelled) return\n      const ds = await dm.getDataset()\n      filePath =\n        !filePath || filePath.endsWith(\".csv\")\n          ? filePath\n          : `${filePath}.udt.csv`\n\n      await remote.require(\"fs\").promises.writeFile(filePath, toUDTCSV(ds))\n    }\n\n    const onOpenFileFromToolbar = (e, file) => {\n      openFile(file)\n    }\n\n    const onSaveFile = () => saveFileAsync()\n    const onSaveFileAs = () => saveFileAsync({ saveAs: true })\n\n    ipcRenderer.on(\"open-welcome-page\", onOpenWelcomePage)\n    ipcRenderer.on(\"new-file\", onNewFile)\n    ipcRenderer.on(\"open-file\", onOpenFileFromToolbar)\n    ipcRenderer.on(\"save-file\", onSaveFile)\n    ipcRenderer.on(\"save-file-as\", onSaveFileAs)\n    ipcRenderer.on(\"export-to-csv\", exportToCSV)\n    return () => {\n      ipcRenderer.removeListener(\"open-welcome-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"new-file\", onNewFile)\n      ipcRenderer.removeListener(\"open-file\", onOpenFileFromToolbar)\n      ipcRenderer.removeListener(\"save-file\", onSaveFile)\n      ipcRenderer.removeListener(\"save-file-as\", onSaveFileAs)\n      ipcRenderer.removeListener(\"export-to-csv\", exportToCSV)\n    }\n  }, [electron, dm, setDatasetManager, addToast, openFile])\n}\n","import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  root: {\n    display: \"flex\",\n    \"& > * + *\": {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}))\n\nexport default function Loading() {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.wrapper}>\n      <div className={classes.root}>\n        <CircularProgress />\n      </div>\n    </div>\n  )\n}\n","import React, { Suspense } from \"react\"\nimport Theme from \"./components/Theme\"\nimport App from \"./components/App\"\nimport { RecoilRoot } from \"recoil\"\nimport { ToastProvider } from \"./components/Toasts\"\nimport { AppConfigProvider } from \"./components/AppConfig\"\nimport { AuthProvider } from \"./utils/auth-handlers/use-auth.js\"\nimport { LabelHelpProvider } from \"./components/LabelHelpView\"\nimport { HotkeyStorageProvider } from \"./components/HotkeyStorage\"\nimport \"./App.css\"\n\nimport Loading from \"./components/Loading\"\n\n// Importing Internalization file\nimport \"./i18n\"\n\nexport const AppWithContexts = () => {\n  return (\n    <RecoilRoot>\n      <Suspense fallback={Loading}>\n        <Theme>\n          <AppConfigProvider>\n            <AuthProvider>\n              <LabelHelpProvider>\n                <ToastProvider>\n                  <HotkeyStorageProvider>\n                    <App />\n                  </HotkeyStorageProvider>\n                </ToastProvider>\n              </LabelHelpProvider>\n            </AuthProvider>\n          </AppConfigProvider>\n        </Theme>\n      </Suspense>\n    </RecoilRoot>\n  )\n}\n\nexport default AppWithContexts\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport AppWithContexts from \"./AppWithContexts\"\n\nReactDOM.render(<AppWithContexts />, document.getElementById(\"root\"))\n"],"sourceRoot":""}