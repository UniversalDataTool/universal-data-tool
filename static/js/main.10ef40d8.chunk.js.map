{"version":3,"sources":["components/Theme/index.js","utils/use-electron.js","utils/use-posthog.js","components/CollaborateButton/index.js","components/HeaderPopupBox/index.js","components/DownloadButton/index.js","components/Header/GithubIcon.js","utils/get-brush-color-palette.js","components/BrushButton/index.js","components/HeaderToolbar/index.js","components/StartingPage/templates.js","components/HeaderDrawer/index.js","components/Header/index.js","components/SimpleDialog/index.js","components/CreateFromTemplateDialog/index.js","utils/use-is-desktop.js","components/StartingPage/index.js","components/OHAEditor/default-oha-object.js","utils/get-task-description.js","components/SampleContainer/LinkButton.js","components/SampleContainer/index.js","components/TextClassification/index.js","components/TextEntityRecognition/index.js","utils/ria-format.js","utils/from-udt-csv.js","components/ImageSegmentation/index.js","components/ImageClassification/index.js","components/VideoSegmentation/index.js","components/AudioTranscription/index.js","components/DataEntry/index.js","components/BadOHA/index.js","components/EmptySampleContainer/index.js","components/InterfaceIcon/index.js","components/Composite/index.js","components/UniversalDataViewer/index.js","components/OHAEditor/EditableTitleText.js","components/SampleGrid/index.js","components/PasteUrlsDialog/index.js","components/TextAreaWithUpload/index.js","components/ImportTextSnippetsDialog/index.js","components/ImportFromGoogleDriveDialog/index.js","components/ImportUDTFileDialog/index.js","components/ImportToyDatasetDialog/index.js","components/ImportFromYoutubeUrls/download-youtube-video.js","components/ProgressBar/index.js","components/ImportFromYoutubeUrls/progress.js","components/ImportFromYoutubeUrls/get-youtube-video-information.js","components/ImportFromYoutubeUrls/split-urls-from-text-area.js","components/ImportFromYoutubeUrls/index.js","components/ImportPage/index.js","components/TransformVideoKeyframesDialog/index.js","components/DownloadURLsDialog/index.js","components/TransformVideoFramesToImagesDialog/index.js","components/TransformLocalFilesToWebURLs/functions/upload-file-to-transfersh.js","components/TransformLocalFilesToWebURLs/functions/split-file-name-from-file-url.js","components/TransformLocalFilesToWebURLs/functions/get-file-url-key.js","components/TransformLocalFilesToWebURLs/functions/transform-file-urls-to-web-urls.js","components/TransformLocalFilesToWebURLs/index.js","components/TransformPage/index.js","components/SamplesView/index.js","components/ConfigureImageSegmentation/index.js","components/ConfigureImageClassification/index.js","components/ConfigureTextClassification/index.js","components/PaperContainer/index.js","components/ConfigureAudioTranscription/index.jsx","components/ConfigureNLP/index.js","components/ConfigureDataEntry/index.js","components/ConfigureComposite/index.js","components/Configure3D/index.js","components/ConfigureVideoSegmentation/index.js","utils/sentry.js","components/LabelErrorBoundary/index.js","components/ConfigureInterface/index.js","components/InterfacePage/index.js","components/EditSampleDialog/index.js","components/Stats/index.js","components/Toasts/index.js","components/OHAEditor/index.js","utils/use-time-to-complete-sample.js","components/ErrorToasts/index.js","utils/use-errors.js","utils/file-handlers/use-server/apply-seamless-patch.js","utils/file-handlers/use-server/get-human-readable-log.js","utils/file-handlers/use-server/server-hash.js","utils/file-handlers/use-server/handler.js","utils/file-handlers/use-server/index.js","utils/to-udt-csv.js","utils/file-handlers/use-filesystem.js","utils/file-handlers/use-file-telemetry.js","utils/file-handlers/index.js","utils/file-handlers/use-local-storage.js","components/AppErrorBoundary/index.js","utils/use-prevent-navigation.js","components/LocalStorageApp/index.js","components/DesktopApp/index.js","App.js","index.js"],"names":["useStyles","makeStyles","container","fontFamily","theme","createMuiTheme","palette","primary","colors","secondary","typography","button","textTransform","children","classes","ThemeProvider","className","window","require","posthogInitialized","isDesktop","Boolean","useElectron","posthog","init","api_host","autocapture","domain","location","origin","capture","people","set","is_desktop","Container","styled","position","marginLeft","borderColor","popupBoxBeforeAndAfter","bottom","left","border","content","height","width","pointerEvents","PopupBox","zIndex","top","padding","boxSizing","borderRadius","backgroundColor","minHeight","boxShadow","borderBottomColor","borderWidth","fontSize","marginTop","color","opacity","transition","transform","ErrorText","CreateNewButton","Button","justifyContent","marginRight","ExitButton","fileOpen","inSession","error","onJoinSession","onCreateSession","onLeaveSession","sessionBoxOpen","changeSessionBoxOpen","useState","loadingSession","changeLoadingSession","sessionUrl","changeSessionUrl","useLocalStorage","userName","changeUserName","usePosthog","useEffect","setTimeout","onMouseEnter","onMouseLeave","IconButton","style","undefined","TextField","variant","label","value","onChange","e","target","fullWidth","onClick","InputProps","endAdornment","InputAdornment","disabled","CircularProgress","size","open","StyledButton","display","paddingTop","fontWeight","onDownload","changeOpen","HeaderPopupBox","GitHub","props","SvgIcon","d","fadedGrey","isFaded","availableColors","colorMap","complete","incomplete","faded","review","brush","seed","length","BrushCircle","OtherColorContainers","flexWrap","StyledIconButton","iconColor","selected","alignItems","margin","marginBottom","paddingBottom","selectedBrush","onChangeSelectedBrush","handleClick","useEventCallback","memoize","getBrushColorPalette","headerButton","grow","flexGrow","list","tab","fullHeightTab","mixins","toolbar","breakpoints","down","minWidth","tabWrapper","flexDirection","getIcon","t","memo","tabs","currentTab","onChangeTab","additionalButtons","onOpenDrawer","title","isSmall","collaborateError","c","AppBar","Toolbar","packageJSON","version","CollaborateButton","BrushButton","DownloadButton","Tabs","newTab","toLowerCase","map","Tab","key","root","wrapper","icon","href","GithubIcon","name","Icon","CropFree","oha","interface","taskData","ImageSearch","type","availableLabels","regionTypesAllowed","imageUrl","Image","OndemandVideoIcon","videoUrl","Edit","description","surveyjs","questions","pdfUrl","TextFormat","overlapAllowed","labels","id","displayName","document","ContactSupport","Audiotrack","audioUrl","Category","fields","fieldName","ThreeDRotation","recentItems","changeRecentItems","onClickHome","onCloseDrawer","drawerOpen","onOpenFile","onOpenRecentItem","onClickTemplate","onDrop","useCallback","acceptedFiles","useDropzone","getRootProps","getInputProps","Drawer","onClose","List","ListItem","ListItemIcon","ListItemText","ListSubheader","textAlign","ri","index","fileName","i","filter","oneRecentFile","templates","template","HeaderContext","createContext","emptyArray","changeDrawerOpen","headerContext","useContext","useMediaQuery","HeaderDrawer","StyledDialogTitle","DialogTitle","grey","borderBottom","StyledDialogContent","DialogContent","StyledDialogActions","DialogActions","borderTop","markdownContent","redOn","red","noActionBar","actions","fullScreen","changeFullScreen","Dialog","Box","maxWidth","lineHeight","source","action","blue","text","bigButton","bigIcon","onSelect","SimpleDialog","ContentContainer","overflowY","Content","Title","Subtitle","ActionList","Action","cursor","textDecoration","ActionTitle","ActionText","Actionless","BottomSpacer","onFileDrop","onOpenTemplate","showDownloadLink","onClickOpenSession","useIsDesktop","newVersionAvailable","changeNewVersionAvailable","a","fetch","then","r","json","newPackage","packageInfo","checkNewVersion","createFromTemplateDialogOpen","changeCreateFromTemplateDialogOpen","isDragActive","CreateFromTemplateDialog","clicked_template","Header","Grid","xs","item","find","trim","getTaskDescription","taskDataItem","url","replace","linkButtonContainer","linkButton","footer","footerContent","footerBorder","footerCount","allSamplesButton","paddingLeft","sampleIcon","menuButton","buttons","maxHeight","sectionHeader","SampleContainer","hideDescription","defaultHideDescription","localStorage","getItem","onExit","lastSampleExitText","requireCompleteToPressNext","minContentHeight","currentSampleIndex","totalSamples","onChangeSample","taskOutput","changeHideDescriptionState","changeHideDescription","hide","setItem","sampleDrawerOpen","changeSampleDrawerOpen","sm","md","LinkButton","escapeHtml","anchor","range","TextClassification","changeCurrentSampleIndex","initialLabels","Error","l","containerProps","sampleIndex","NLPAnnotator","multipleLabels","multiple","onFinish","result","onSaveTaskOutputItem","simpleSequenceToEntitySequence","simpleSeq","entSeq","charsPassed","seq","push","start","end","TextEntityRecognition","initialSequence","doc","sort","b","nextEntity","entitySequenceToSimpleSeq","entities","getRandomColor","min","max","h","Math","floor","random","concat","toString","rid","split","convertToRIARegionFmt","region","regionType","cls","classification","tags","x","centerX","y","centerY","w","points","p","JSON","stringify","convertFromRIARegionFmt","riaRegion","convertToRIAKeyframes","keyframes","newKeyframes","regions","regionTypeToTool","polygon","point","emptyObj","emptyArr","globalSampleIndex","iface","selectedIndex","showTags","changeShowTags","selectedTool","changeSelectedTool","isClassification","multipleRegionLabels","labelProps","useMemo","regionClsList","regionTagList","multipleRegions","output","nextAction","regionMat","images","img","riaRegions","onNextImage","onPrevImage","taskDatum","td","Array","isArray","src","videoFrameAt","frameTime","convertToRIAImageFmt","datasetName","enabledTools","rt","selectedImage","taskDescription","brightColors","letters","hashInt","reduce","acc","v","indexOf","ImageContainer","objectFit","Nav","flexShrink","NavItem","NavButton","paddingRight","ButtonsContainer","CheckButton","changeSampleIndex","enlargedLabel","changeEnlargedLabel","currentOutput","changeCurrentOutput","onDone","onNextNoSave","onNext","newOutput","onPrev","timeout","clearTimeout","onClickLabel","includes","without","allowMultiple","hotkeyMap","backspace","enter","rightarrow","leftarrow","labelKeyMap","nextAvailableLetter","onKeyDown","addEventListener","removeEventListener","Checkbox","checked","videoName","customId","videoTime","videoSrc","audio","phraseBank","initialTranscriptionText","DataEntry","form","defaultAnswers","completeText","answers","explain","Typography","component","BadOHA","Composite","selectedField","changeSelectedField","indexZero","field","InterfaceIcon","UniversalDataViewer","hideHeader","onClickSetup","EmptySampleContainer","ImageSegmentation","ImageClassification","VideoSegmentation","AudioTranscription","textField","editing","newValue","changeEditing","listener","SAVE_WAIT","inputProps","preventDefault","stopPropagation","blur","onKeyPress","EmptyState","SampleDiv","userSelect","Sample","completed","onMouseDown","onMouseUp","classNames","n","count","samplesPerPage","changeSamplesPerPage","sampleOffset","changeSampleOffset","useReducer","state","selectRange","changeSelectRange","startSelectRange","moveSelectRange","endSelectRange","checkAndNullifySelectRange","onClickMemo","TablePagination","rowsPerPageOptions","rowsPerPage","page","labelRowsPerPage","onChangePage","newPage","onChangeRowsPerPage","SelectContainer","TextArea","autoDetectOptions","onAddSamples","changeContent","urlType","changeURLType","s","extension","slice","console","options","defaultValue","opt","placeholder","UploadHover","emptyFunc","onChangeContent","reader","FileReader","onload","fileContent","readAsText","lastClickTime","changeLastClickTime","Date","now","ImportTextSnippetsDialog","TextAreaWithUpload","ExplainText","GoogleDriveScreenshot","credentials","web","client_id","process","app_id","developer_key","googleScriptLoaded","setGoogleScriptLoaded","pickerApiLoaded","setPickerApiLoaded","oauthToken","setOAuthToken","userSelectedItemsFromDrive","setUserSelectedItemsFromDrive","isPickerOpen","setIsPickerOpen","scriptElement","createElement","async","body","appendChild","remove","googlePickerActionCallback","data","google","picker","PICKED","docs","googleDriveDocument","mimeType","createPicker","view","View","ViewId","Docs","setMimeTypes","PickerBuilder","enableFeature","Feature","NAV_HIDDEN","MULTISELECT_ENABLED","setAppId","addView","DOCS","setDeveloperKey","setCallback","build","setVisible","handleAuthenticationResponse","authenticationResponse","access_token","onAuthApiLoad","gapi","auth","authorize","scope","immediate","onPickerApiLoad","onLoadPicker","load","callback","samples","badSpellingMap","Object","entries","correct","badSpellings","badSpelling","convertTaskDatumMistakes","sample","normalizedKey","correction","csv","JAC","fromCSV","derivePath","InfoText","whiteSpace","ImportUDTFileDialog","changeError","setContent","parse","e1","udt","fromUDTCSV","e2","log","message","jsonError","stack","csvError","datasets","getSamples","dataset","datasetUrl","ImportToyDatasetDialog","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","idify","youtubeUrl","videoTitle","remote","videoQuality","downloadPath","onProgress","onComplete","onChangeOverallProgress","ytdl","path","fullVideoPath","join","writableVideoFile","createWriteStream","youtubeVideoWithOptions","format","endsWith","quality","pipe","once","on","chunkLength","downloaded","total","percent","progress","cancel","destroy","Text","right","Bar","ProgressContainer","TotalPercentageWrapper","Progress","unitProgress","overallProgress","completedVideoTitles","ProgressBar","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","getYoutubeVideoInformation","splittedURLsArray","progressCallback","checkedVideos","Promise","resolve","reject","getBasicInfo","err","info","errorText","video","splitURLsFromTextArea","stringURLs","urlsHasHTTPS","splittedURLsByNewLines","SelectVideoQualityHeader","SelectVideoQuality","LoadingText","CompletedVideoTitle","qualityOptions","ImportFromYoutubeUrls","urlsFromTextArea","setUrlsFromTextArea","setVideoQuality","setDownloadPath","setError","setUnitProgress","setOverallProgress","isDownloading","setIsDownloading","setCompletedVideoTitles","cancelRef","useRef","setDefaultState","closeDialog","current","dialog","showOpenDialog","buttonLabel","properties","canceled","filePaths","catch","errorMessage","youtubeVideoInfos","completedVideoPaths","completedVideoTitlesArray","youtubeVideosCount","youtubeVideoInfo","downloadYoutubeVideo","currentProgress","progressText","filePath","videoPath","Fragment","ButtonBase","MuiButton","DesktopOnlyText","SelectDialogContext","desktopOnly","Consumer","onChangeDialog","import_button","classnames","convertToTaskDataObject","fp","ext","onChangeOHA","selectedDialog","changeDialog","electron","dirPaths","dirPath","fs","promises","readdir","importedFilePaths","fn","setIn","appendedTaskData","appendedTaskOutput","newOHA","ar","len","extendWithNull","Provider","AssignmentReturnedIcon","CreateNewFolderIcon","TextFieldsIcon","PetsIcon","FaGoogleDrive","FaYoutube","DescriptionIcon","PasteUrlsDialog","ImportFromGoogleDriveDialog","Code","StyledExpansionPanel","StyledExpansionPanelSummary","flatMap","keys","kf","parseInt","immutable","ErrorBox","downloadFile","urlToDownload","directoryPath","md5","existsSync","directory","filename","changeProgress","errors","changeErrors","cancelled","newTaskData","urlKey","startsWith","pathToFile","getFfmpegTimeCode","ms","cs","ss","mn","padStart","pathToFfmpeg","shell","exec","transformsPerformed","imageOutputPath","ffmpegCommand","uploadFileToTransferSh","fileURL","remoteURL","axios","exactFilePath","fsFileBuffer","readFileSync","put","response","status","uploadedFileURL","splitFileNameFromFileURL","splittedFullFileName","getFileURLKey","transformFileURLsToWebURLs","setProgress","progressUnit","taskDataIndex","fileURLKey","warn","webURLOfUploadedFile","TransformLocalFilesToWebURLs","Icon1","Icon2","transform_button","CollectionsIcon","ComputerIcon","LanguageIcon","GetAppIcon","ImageIcon","TransformVideoKeyframesDialog","DownloadURLsDialog","TransformVideoFramesToImagesDialog","SampleCounter","ExpandedRowContainer","borderTopLeftRadius","borderTopRightRadius","ExpandedRowTitle","ExpandedRowCode","ExpandedRow","_output","input","spacing","openSampleInputEditor","openSampleLabelEditor","deleteSample","lastSampleTab","changeTabState","changeTab","columns","selector","sortable","knownKeys","Set","has","add","cell","row","raised","ImportPage","shouldViewChange","TransformPage","SampleGrid","expandableRowsComponent","expandableRows","dense","pagination","paginationPerPage","paginationRowsPerPageOptions","choices","cellType","noActions","onQuestionChange","questionId","PaperContainer","hasOther","column","NoQuestions","Question","borderLeft","PreviewHeader","anchorEl","menuOpen","changeMenuOpen","q","multiline","rows","ref","MenuItem","Fields","f","fieldIndex","isNested","newFieldInterface","fieldOrder","ExplanationTextHeader","ExplanationText","GithubLink","Configure3D","rel","Sentry","dsn","whitelistUrls","ErrorBoundary","hasError","errorInfo","withScope","setExtras","eventId","captureException","setState","this","errorString","React","Component","noop","NoOptions","TypeButton","Heading","PreviewContainer","mouseEvents","PreviewContent","SelectType","currentlySelected","ConfigureInterface","onChangeProp","onClickEditJSON","previewChangedTime","changePreviewChangedTime","previewLoading","changePreviewLoading","previewVersion","changePreviewVersion","hidden","LabelErrorBoundary","ConfigureImageSegmentation","ConfigureImageClassification","ConfigureComposite","ConfigureDataEntry","ConfigureAudioTranscription","ConfigureNLP","ConfigureTextClassification","ConfigureVideoSegmentation","onClearLabelData","forceUpdate","useUpdate","isNotNested","confirm","has_opted_out_capturing","opt_in_capturing","opt_out_capturing","prompt","reload","sampleInput","changeText","newText","mode","editorProps","$blockScrolling","Infinity","Stat","Label","Value","stats","msgBox","ToastContext","useToasts","addToast","ToastProvider","fullLife","messageType","life","msg","toasts","changeToasts","interval","setInterval","clearInterval","Collapse","in","Fade","saveIcon","editIcon","headerTabs","onChangeFileName","initialMode","changeMode","singleSampleOHA","changeSingleSampleOHA","sampleInputEditor","changeSampleInputEditor","jsonText","changeJSONText","ipcRenderer","newTimeToComplete","newSamplesInWindow","samplesInWindow","timeToCompleteSample","useTimeToCompleteSample","changeSampleTimeToComplete","onOpenSettingsPage","onOpenSamplesPage","onOpenLabelPage","removeListener","percentComplete","EditableTitleText","InterfacePage","some","SamplesView","annotationStartTime","interface_type","newTaskOutput","splice","relativeIndex","tdi","startTime","Stats","duration","EditSampleDialog","newInput","errorBox","seamless","getIn","updateIn","addToArray","withoutIn","obj","parentPath","parentObj","object","patches","patch","op","from","isNaN","changeLog","humanReadableChangeLog","sampleMatch","match","o","hash","charCodeAt","hashString","CollaborationHandler","serverUrl","getJSON","payload","opts","postJSON","patchJSON","sessionId","bent","initialContent","short_id","encodeURIComponent","res","udt_json","getLatestState","updateToLatestState","hashOfLatestState","latestVersion","humanReadableLog","getHumanReadableLog","newState","applySeamlessPatch","rfc6902","collab","CUSTOM_COLLABORATION_SERVER","convertToCollaborativeFile","file","createSession","joinSession","samplesObj","sampleKeys","flatten","forEach","k","toCSV","webReturn","saveFile","changeFile","saveAs","saveFileAsync","showSaveDialog","filters","extensions","newFilePath","writeFile","toUDTCSV","useFilesystem","checkForLatestPatch","applyLatestPatches","sendPatchIfChanged","doPatch","useServer","last_used_interface_type","dataset_size","numCompleted","samples_completed","percent_completed","openFile","fsFile","handleLoadedFile","openUrl","decodeURIComponent","history","replaceState","search","makeSession","newFile","Buttons","errorDetails","detect","preventNavigation","confirmationMessage","event","returnValue","empty","useFileHandler","shouldPreventNavigation","usePreventNavigation","useErrors","setSelectedBrush","onCreateTemplate","openRecentItem","outputName","download","sessionName","AppErrorBoundary","OHAEditor","newName","StartingPage","ErrorToasts","onOpenWelcomePage","onNewFile","arg0","templateName","saveFileAs","exportToCSV","onOpenFileFromToolbar","App","Theme","DesktopApp","LocalStorageApp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.10ef40d8.chunk.js","sourcesContent":["import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\"\nimport { ThemeProvider } from \"@material-ui/core/styles\"\nimport \"./theme.css\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst useStyles = makeStyles({\n  container: {\n    fontFamily: '\"Inter\", sans-serif',\n  },\n})\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: colors.blue,\n    secondary: colors.blue,\n  },\n  typography: {\n    fontFamily: '\"Inter\", \"Roboto\", sans-serif',\n    button: {\n      textTransform: \"none\",\n    },\n  },\n})\n\nexport default ({ children }: any) => {\n  const classes = useStyles()\n  return (\n    <ThemeProvider theme={theme}>\n      <div className={classes.container}>{children}</div>\n    </ThemeProvider>\n  )\n}\n","// @flow\n\nexport default () => {\n  if (window.require) {\n    return window.require(\"electron\")\n  }\n  return null\n}\n","import posthog from \"posthog-js\"\nimport useElectron from \"./use-electron\"\n\nwindow.posthogInitialized = false\nexport default () => {\n  const isDesktop = Boolean(useElectron())\n  if (!window.posthogInitialized) {\n    posthog.init(\"dSrx1PbFd02XsxlLd7qNbeTxKZwwao2sclVmapyYlT4\", {\n      api_host: \"https://posthog.universaldatatool.com\",\n      autocapture: false,\n    })\n    window.posthog = posthog\n    const domain = isDesktop ? \"desktop\" : window.location.origin\n    posthog.capture(\"domain\", { domain })\n    posthog.capture(\"is_desktop\", { isDesktop: isDesktop })\n    posthog.people.set({ is_desktop: isDesktop, domain })\n    window.posthogInitialized = true\n  }\n  return posthog\n}\n","// @flow\n\nimport React, { useState, useMemo, useRef, useEffect } from \"react\"\nimport { useLocalStorage } from \"react-use\"\nimport { createPortal } from \"react-dom\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport PeopleIcon from \"@material-ui/icons/People\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport TextField from \"@material-ui/core/TextField\"\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\nimport AddBoxTwoTone from \"@material-ui/icons/AddBoxTwoTone\"\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport usePosthog from \"../../utils/use-posthog\"\n\nconst Container = styled(\"div\")({ position: \"relative\", marginLeft: 8 })\nconst WIDTH = 300\nconst borderColor = colors.grey[500]\nconst popupBoxBeforeAndAfter = {\n  bottom: \"100%\",\n  left: \"25%\",\n  border: \"solid transparent\",\n  content: '\" \"',\n  height: 0,\n  width: 0,\n  position: \"absolute\",\n  pointerEvents: \"none\",\n}\nconst PopupBox = styled(\"div\")({\n  position: \"absolute\",\n  zIndex: 10,\n  top: 45,\n  padding: 16,\n  boxSizing: \"border-box\",\n  borderRadius: 4,\n  left: -WIDTH / 4 + 22,\n  backgroundColor: \"#fff\",\n  border: `1px solid ${borderColor}`,\n  width: WIDTH,\n  minHeight: 200,\n  boxShadow: \"0px 3px 12px rgba(0,0,0,0.3)\",\n  \"&:before\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(0,0,0, 0)\",\n    borderBottomColor: borderColor,\n    borderWidth: 12,\n    marginLeft: -12,\n  },\n  \"&:after\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(255,255,255, 0)\",\n    borderBottomColor: \"#fff\",\n    borderWidth: 10,\n    marginLeft: -10,\n  },\n  \"& h1\": {\n    fontSize: 18,\n    marginTop: 0,\n    color: colors.blue[800],\n  },\n  \"& h2\": {\n    fontSize: 14,\n    color: colors.grey[800],\n  },\n  opacity: 1,\n  transition: \"opacity 200ms linear, transform 200ms ease\",\n  \"&.hidden\": {\n    opacity: 0,\n    transform: \"translate(0, 10px)\",\n    pointerEvents: \"none\",\n  },\n})\nconst ErrorText = styled(\"div\")({\n  color: colors.red[500],\n  padding: 8,\n  fontSize: 14,\n})\n\nconst CreateNewButton = styled(Button)({\n  marginTop: 16,\n  justifyContent: \"flex-start\",\n  color: colors.blue[500],\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n  },\n})\nconst ExitButton = styled(Button)({\n  marginTop: 16,\n  justifyContent: \"flex-start\",\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n    color: colors.red[500],\n  },\n})\n\nexport default ({\n  fileOpen = false,\n  inSession = false,\n  error,\n  onJoinSession,\n  onCreateSession,\n  onLeaveSession,\n  sessionBoxOpen,\n  changeSessionBoxOpen,\n}) => {\n  const [loadingSession, changeLoadingSession] = useState(false)\n  const [sessionUrl, changeSessionUrl] = useState(\"\")\n  const [userName, changeUserName] = useLocalStorage(\"userName\", \"anonymous\")\n  const posthog = usePosthog()\n\n  useEffect(() => {\n    if (loadingSession) {\n      setTimeout(() => {\n        changeLoadingSession(false)\n      }, 10000)\n    }\n  }, [loadingSession])\n\n  return (\n    <Container\n      onMouseEnter={() => changeSessionBoxOpen(true)}\n      onMouseLeave={() => changeSessionBoxOpen(false)}\n    >\n      <IconButton style={{ color: inSession ? colors.blue[500] : undefined }}>\n        <PeopleIcon />\n      </IconButton>\n      <PopupBox className={sessionBoxOpen ? \"\" : \"hidden\"}>\n        <h1>Collaborate</h1>\n        {!inSession ? (\n          <>\n            <h2>Join a Session</h2>\n            <TextField\n              variant=\"outlined\"\n              label=\"URL to Session\"\n              value={sessionUrl}\n              onChange={(e) => changeSessionUrl(e.target.value)}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      color=\"primary\"\n                      onClick={() => {\n                        posthog.capture(\"join_collaborative_session\")\n                        onJoinSession(sessionUrl)\n                      }}\n                      disabled={!sessionUrl}\n                    >\n                      <ArrowForwardIcon />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            {error && <ErrorText>{error}</ErrorText>}\n            <CreateNewButton\n              fullWidth\n              disabled={error}\n              onClick={() => {\n                posthog.capture(\"create_collaborative_session\")\n                onCreateSession()\n                changeLoadingSession(true)\n              }}\n              disabled={!fileOpen || loadingSession}\n            >\n              {loadingSession ? (\n                <CircularProgress className=\"icon\" size={24} />\n              ) : (\n                <AddBoxTwoTone className=\"icon\" />\n              )}\n              Create New Session\n            </CreateNewButton>\n          </>\n        ) : (\n          <>\n            <TextField\n              style={{ marginTop: 12 }}\n              variant=\"outlined\"\n              label=\"User Name\"\n              value={userName}\n              onChange={(e) => changeUserName(e.target.value)}\n            />\n            <ExitButton fullWidth onClick={onLeaveSession}>\n              <ExitToAppIcon className=\"icon\" />\n              Leave Session\n            </ExitButton>\n          </>\n        )}\n      </PopupBox>\n    </Container>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst WIDTH = 300\nconst borderColor = colors.grey[500]\nconst popupBoxBeforeAndAfter = {\n  bottom: \"100%\",\n  left: \"25%\",\n  border: \"solid transparent\",\n  content: '\" \"',\n  height: 0,\n  width: 0,\n  position: \"absolute\",\n  pointerEvents: \"none\",\n}\nconst PopupBox = styled(\"div\")({\n  position: \"absolute\",\n  zIndex: 10,\n  top: 45,\n  padding: 16,\n  boxSizing: \"border-box\",\n  borderRadius: 4,\n  left: -WIDTH / 4 + 22,\n  backgroundColor: \"#fff\",\n  border: `1px solid ${borderColor}`,\n  width: WIDTH,\n  minHeight: 200,\n  boxShadow: \"0px 3px 12px rgba(0,0,0,0.3)\",\n  \"&:before\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(0,0,0, 0)\",\n    borderBottomColor: borderColor,\n    borderWidth: 12,\n    marginLeft: -12,\n  },\n  \"&:after\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(255,255,255, 0)\",\n    borderBottomColor: \"#fff\",\n    borderWidth: 10,\n    marginLeft: -10,\n  },\n  \"& h1\": {\n    fontSize: 18,\n    marginTop: 0,\n    color: colors.blue[800],\n  },\n  \"& h2\": {\n    fontSize: 14,\n    color: colors.grey[800],\n  },\n  opacity: 1,\n  transition: \"opacity 200ms linear, transform 200ms ease\",\n  \"&.hidden\": {\n    opacity: 0,\n    transform: \"translate(0, 10px)\",\n    pointerEvents: \"none\",\n  },\n})\n\nexport default ({ open, children }) => {\n  return <PopupBox className={open ? \"\" : \"hidden\"}>{children}</PopupBox>\n}\n","// @flow\n\nimport React, { useState, useMemo, useRef, useEffect } from \"react\"\nimport { useLocalStorage } from \"react-use\"\nimport { createPortal } from \"react-dom\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport DownloadIcon from \"@material-ui/icons/GetApp\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport TextField from \"@material-ui/core/TextField\"\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\nimport AddBoxTwoTone from \"@material-ui/icons/AddBoxTwoTone\"\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport HeaderPopupBox from \"../HeaderPopupBox\"\n\nconst Container = styled(\"div\")({ position: \"relative\" })\n\nconst StyledButton = styled(Button)({\n  justifyContent: \"flex-start\",\n  \"& .fakeicon\": {\n    display: \"inline\",\n    marginRight: 8,\n    padding: 4,\n    paddingTop: 5,\n    fontSize: 11,\n    fontWeight: \"bold\",\n    color: \"#fff\",\n    backgroundColor: colors.grey[700],\n    borderRadius: 4,\n    width: 36,\n    \"&.blue\": {\n      backgroundColor: colors.blue[700],\n    },\n    \"&.green\": {\n      backgroundColor: colors.green[700],\n    },\n  },\n})\n\nexport default ({ onDownload }) => {\n  const [open, changeOpen] = useState(false)\n\n  return (\n    <Container\n      onMouseEnter={() => changeOpen(true)}\n      onMouseLeave={() => changeOpen(false)}\n    >\n      <IconButton>\n        <DownloadIcon />\n      </IconButton>\n      <HeaderPopupBox open={open}>\n        <h1>Download</h1>\n        <StyledButton fullWidth onClick={() => onDownload(\"csv\")}>\n          <div className=\"fakeicon green\">CSV</div>\n          Download CSV\n        </StyledButton>\n        <StyledButton fullWidth onClick={() => onDownload(\"json\")}>\n          <div className=\"fakeicon blue\">JSON</div>\n          Download JSON\n        </StyledButton>\n      </HeaderPopupBox>\n    </Container>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nfunction GitHub(props: Object) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z\" />\n    </SvgIcon>\n  )\n}\n\nexport default GitHub\n","// @flow weak\n\nimport seed from \"seed-random\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst fadedGrey = {\n  \"600\": colors.grey[400],\n  \"500\": colors.grey[300],\n  \"400\": colors.grey[200],\n  \"300\": colors.grey[100],\n  isFaded: true,\n}\n\nconst availableColors = [\n  colors.blue,\n  colors.deepOrange,\n  colors.green,\n  colors.purple,\n  colors.pink,\n  colors.cyan,\n  colors.orange,\n  colors.indigo,\n]\n\nconst colorMap = {\n  ...colors,\n  complete: colors.blue,\n  incomplete: fadedGrey,\n  faded: fadedGrey,\n  review: colors.deepOrange,\n}\n\nexport default (brush) => {\n  return (\n    colorMap[brush] || availableColors[seed(brush) * availableColors.length]\n  )\n}\n","// @flow\n\nimport React, { useState, useMemo, useRef, useEffect } from \"react\"\nimport { useLocalStorage } from \"react-use\"\nimport { createPortal } from \"react-dom\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport BrushIcon from \"@material-ui/icons/Brush\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport TextField from \"@material-ui/core/TextField\"\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\nimport AddBoxTwoTone from \"@material-ui/icons/AddBoxTwoTone\"\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport HeaderPopupBox from \"../HeaderPopupBox\"\nimport useEventCallback from \"use-event-callback\"\nimport memoize from \"lodash/memoize\"\nimport getBrushColorPalette from \"../../utils/get-brush-color-palette.js\"\n\nconst Container = styled(\"div\")({ position: \"relative\" })\nconst BrushCircle = styled(\"div\")(({ color }) => ({\n  display: \"inline\",\n  marginRight: 8,\n  backgroundColor: color[700],\n  width: 24,\n  height: 24,\n  borderRadius: 20,\n}))\n\nconst OtherColorContainers = styled(\"div\")({\n  paddingTop: 10,\n  padding: 4,\n  display: \"flex\",\n  flexWrap: \"wrap\",\n})\n\nconst StyledIconButton = styled(IconButton)(({ iconColor, selected }) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  backgroundColor: iconColor[700],\n  border: selected ? `4px solid ${iconColor[\"A200\"]}` : \"4px solid #fff\",\n  boxSizing: \"content-box\",\n  margin: 4,\n  transition: \"transform 200ms linear\",\n  \"&:hover\": {\n    backgroundColor: iconColor[800],\n    transform: \"scale(1.2,1.2)\",\n  },\n  \"&:active\": {\n    transition: \"transform 100ms linear\",\n    transform: \"scale(1.4,1.4)\",\n  },\n}))\n\nconst StyledButton = styled(Button)(({ selected, iconColor }) => ({\n  justifyContent: \"flex-start\",\n  marginTop: 4,\n  marginBottom: 4,\n  paddingTop: 8,\n  paddingBottom: 8,\n  backgroundColor: selected ? iconColor[50] : \"#fff\",\n  border: selected ? `2px solid ${iconColor[200]}` : \"2px solid #fff\",\n  \"&:hover\": {\n    backgroundColor: selected ? iconColor[100] : \"none\",\n  },\n}))\n\nexport default ({ selectedBrush, onChangeSelectedBrush }) => {\n  const [open, changeOpen] = useState(false)\n  const handleClick = useEventCallback((color) =>\n    memoize(() => onChangeSelectedBrush(color))\n  )\n\n  return (\n    <Container\n      onMouseEnter={() => changeOpen(true)}\n      onMouseLeave={() => changeOpen(false)}\n    >\n      <IconButton>\n        <BrushIcon\n          style={{ color: getBrushColorPalette(selectedBrush)[800] }}\n        />\n      </IconButton>\n      <HeaderPopupBox open={open}>\n        <h1>Sample Brushes</h1>\n        <StyledButton\n          selected={selectedBrush === \"complete\" || selectedBrush === \"blue\"}\n          iconColor={colors.blue}\n          fullWidth\n          onClick={handleClick(\"complete\")}\n        >\n          <BrushCircle color={colors.blue} />\n          Complete\n        </StyledButton>\n        <StyledButton\n          selected={\n            selectedBrush === \"review\" || selectedBrush === \"deepOrange\"\n          }\n          iconColor={colors.deepOrange}\n          fullWidth\n          onClick={handleClick(\"review\")}\n        >\n          <BrushCircle color={colors.deepOrange} />\n          Review\n        </StyledButton>\n        <OtherColorContainers>\n          <StyledIconButton\n            onClick={handleClick(\"green\")}\n            selected={selectedBrush === \"green\"}\n            iconColor={colors.green}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"purple\")}\n            selected={selectedBrush === \"purple\"}\n            iconColor={colors.purple}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"pink\")}\n            selected={selectedBrush === \"pink\"}\n            iconColor={colors.pink}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"cyan\")}\n            selected={selectedBrush === \"cyan\"}\n            iconColor={colors.cyan}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"orange\")}\n            selected={selectedBrush === \"orange\"}\n            iconColor={colors.orange}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"indigo\")}\n            selected={selectedBrush === \"indigo\"}\n            iconColor={colors.indigo}\n          />\n        </OtherColorContainers>\n      </HeaderPopupBox>\n    </Container>\n  )\n}\n","// @flow weak\n\nimport React, { memo } from \"react\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport CodeIcon from \"@material-ui/icons/Code\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\nimport StorageIcon from \"@material-ui/icons/Storage\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport CollaborateButton from \"../CollaborateButton\"\nimport DownloadButton from \"../DownloadButton\"\nimport Button from \"@material-ui/core/Button\"\nimport GithubIcon from \"../Header/GithubIcon\"\nimport * as colors from \"@material-ui/core/colors\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport packageJSON from \"../../../package.json\"\nimport BrushButton from \"../BrushButton\"\n\nconst useStyles = makeStyles((theme) => ({\n  headerButton: {\n    marginLeft: 16,\n    color: \"#888\",\n  },\n  grow: { flexGrow: 1 },\n  list: {\n    width: 300,\n  },\n  tab: {\n    color: \"#000\",\n    \"& .icon\": {},\n  },\n  fullHeightTab: {\n    ...theme.mixins.toolbar,\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: 20,\n    },\n  },\n  tabWrapper: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    textTransform: \"none\",\n    color: \"#000\",\n    \"&&& svg\": {\n      marginBottom: 0,\n      marginRight: 8,\n      width: 18,\n      height: 18,\n    },\n  },\n}))\n\nconst getIcon = (t: string) => {\n  switch (t) {\n    case \"Setup\":\n      return <SettingsIcon className=\"icon\" />\n    case \"Label\":\n      return <BorderColorIcon className=\"icon\" />\n    case \"Samples\":\n      return <StorageIcon className=\"icon\" />\n  }\n}\n\nconst HeaderToolbar = ({\n  tabs,\n  currentTab,\n  onChangeTab,\n  additionalButtons,\n  onOpenDrawer,\n  title = \"Universal Data Tool\",\n  isDesktop,\n  fileOpen,\n  sessionBoxOpen,\n  changeSessionBoxOpen,\n  inSession,\n  onCreateSession,\n  onLeaveSession,\n  onJoinSession,\n  onDownload,\n  selectedBrush,\n  onChangeSelectedBrush,\n  isSmall,\n  collaborateError,\n}) => {\n  const c = useStyles()\n  return (\n    <AppBar color=\"white\" position=\"static\">\n      <Toolbar variant=\"dense\">\n        {!isDesktop && (\n          <IconButton onClick={onOpenDrawer} className={c.headerButton}>\n            <MenuIcon />\n          </IconButton>\n        )}\n        {fileOpen ? title : \"Universal Data Tool v\" + packageJSON.version}\n        <CollaborateButton\n          sessionBoxOpen={sessionBoxOpen}\n          changeSessionBoxOpen={changeSessionBoxOpen}\n          fileOpen={fileOpen}\n          inSession={inSession}\n          onCreateSession={onCreateSession}\n          onLeaveSession={onLeaveSession}\n          onJoinSession={onJoinSession}\n          error={collaborateError}\n        />\n        {fileOpen && (\n          <BrushButton\n            selectedBrush={selectedBrush}\n            onChangeSelectedBrush={onChangeSelectedBrush}\n          />\n        )}\n        {!isDesktop && fileOpen && <DownloadButton onDownload={onDownload} />}\n        <div className={c.grow} />\n        {additionalButtons}\n        {tabs.length > 0 && (\n          <Tabs\n            onChange={(e, newTab) => onChangeTab(newTab.toLowerCase())}\n            value={currentTab}\n          >\n            {tabs.map((t) => (\n              <Tab\n                key={t}\n                classes={{ root: c.fullHeightTab, wrapper: c.tabWrapper }}\n                className={c.tab}\n                icon={getIcon(t)}\n                label={isSmall ? \"\" : t}\n                value={t.toLowerCase()}\n              />\n            ))}\n          </Tabs>\n        )}\n        {!isSmall && (\n          <IconButton\n            href=\"https://github.com/openhumanannotation/universal-data-tool\"\n            className={c.headerButton}\n          >\n            <GithubIcon />\n          </IconButton>\n        )}\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default memo(HeaderToolbar)\n","// @flow\n\nimport ImageSearch from \"@material-ui/icons/ImageSearch\"\nimport Image from \"@material-ui/icons/Image\"\nimport CropFree from \"@material-ui/icons/CropFree\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Category from \"@material-ui/icons/Category\"\nimport ThreeDRotation from \"@material-ui/icons/ThreeDRotation\"\nimport OndemandVideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport ContactSupport from \"@material-ui/icons/ContactSupport\"\n\nexport default [\n  {\n    name: \"Empty\",\n    Icon: CropFree,\n    oha: {\n      interface: {},\n      taskData: [],\n    },\n  },\n  {\n    name: \"Image Segmentation\",\n    Icon: ImageSearch,\n    oha: {\n      interface: {\n        type: \"image_segmentation\",\n        availableLabels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\n          \"bounding-box\",\n          \"polygon\",\n          // \"full-segmentation\",\n          \"point\",\n          // \"pixel-mask\"\n        ],\n      },\n      taskData: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Image Classification\",\n    Icon: Image,\n    oha: {\n      interface: {\n        type: \"image_classification\",\n        availableLabels: [\"valid\", \"invalid\"],\n      },\n      taskData: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Video Segmentation\",\n    Icon: OndemandVideoIcon,\n    oha: {\n      interface: {\n        type: \"video_segmentation\",\n        availableLabels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\"bounding-box\", \"polygon\", \"point\"],\n      },\n      taskData: [\n        {\n          videoUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/SampleVideo_1280x720_1mb.mp4\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Data Entry\",\n    Icon: Edit,\n    oha: {\n      interface: {\n        type: \"data_entry\",\n        description: \"# Markdown description here\",\n        surveyjs: {\n          questions: [\n            {\n              type: \"text\",\n              name: \"document_title\",\n              title: \"Title of Document\",\n            },\n          ],\n        },\n      },\n      taskData: [\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1906.01969.pdf\",\n        },\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1908.07069.pdf\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Named Entity Recognition\",\n    Icon: TextFormat,\n    oha: {\n      interface: {\n        type: \"text_entity_recognition\",\n        overlapAllowed: false,\n        labels: [\n          {\n            id: \"food\",\n            displayName: \"Food\",\n            description: \"Edible item.\",\n          },\n          {\n            id: \"hat\",\n            displayName: \"Hat\",\n            description: \"Something worn on the head.\",\n          },\n        ],\n      },\n      taskData: [\n        {\n          document:\n            \"This strainer makes a great hat, I'll wear it while I serve spaghetti!\",\n        },\n        {\n          document: \"Why are all these dumpings covered in butter?!\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Text Classification\",\n    Icon: ContactSupport,\n    oha: {\n      interface: {\n        type: \"text_classification\",\n        labels: [\"positive_sentiment\", \"negative_sentiment\"],\n      },\n      taskData: [\n        {\n          document: \"Wow this is terrible. I hated it.\",\n        },\n        {\n          document: \"This has made me so happy. I love this.\",\n        },\n        {\n          document:\n            \"At first I wasn't sure. Then I thought, oh it's not very good.\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Audio Transcription\",\n    Icon: Audiotrack,\n    oha: {\n      interface: {\n        type: \"audio_transcription\",\n        description: \"# Markdown description here\",\n      },\n      taskData: [\n        {\n          audioUrl: \"https://html5tutorial.info/media/vincent.mp3\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Composite\",\n    Icon: Category,\n    oha: {\n      description: \"# Markdown description here\",\n      interface: {\n        type: \"composite\",\n        fields: [\n          {\n            fieldName: \"textInfo\",\n            interface: {\n              type: \"data_entry\",\n              surveyjs: {\n                questions: [\n                  {\n                    type: \"text\",\n                    name: \"group_letter\",\n                    title: \"Letter of Group\",\n                  },\n                ],\n              },\n            },\n          },\n          {\n            fieldName: \"segmentation\",\n            interface: {\n              type: \"image_segmentation\",\n              availableLabels: [\"group text\"],\n              regionTypesAllowed: [\"bounding-box\"],\n            },\n          },\n        ],\n      },\n      taskData: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"3D Bounding Box\",\n    Icon: ThreeDRotation,\n    oha: {\n      interface: {\n        type: \"3d_bounding_box\",\n        description: \"3D Bounding Box\",\n      },\n      taskData: [{}],\n    },\n  },\n]\n","//@flow weak\n\nimport React, { useCallback, useState } from \"react\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport { useDropzone } from \"react-dropzone\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport { GoMarkGithub } from \"react-icons/go\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport HomeIcon from \"@material-ui/icons/Home\"\nimport { IconContext } from \"react-icons\"\nimport { FaTrashAlt } from \"react-icons/fa\"\nimport templates from \"../StartingPage/templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport NoteAddIcon from \"@material-ui/icons/NoteAdd\"\n\nconst useStyles = makeStyles({})\n\nexport default ({\n  recentItems,\n  changeRecentItems,\n  onClickHome,\n  onCloseDrawer,\n  drawerOpen,\n  onOpenFile,\n  onOpenRecentItem,\n  onClickTemplate,\n}) => {\n  const c = useStyles()\n  let classTrashCan = \"\"\n\n  const onDrop = useCallback((acceptedFiles) => {\n    onOpenFile(acceptedFiles[0])\n  }, [])\n\n  function onDeleteFile(i) {\n    changeRecentItems(\n      recentItems.filter((oneRecentFile) => oneRecentFile.id !== i)\n    )\n  }\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  return (\n    <Drawer open={drawerOpen} onClose={onCloseDrawer}>\n      <List className={c.list}>\n        <ListItem onClick={onClickHome} button>\n          <ListItemIcon>\n            <HomeIcon />\n          </ListItemIcon>\n          <ListItemText>Home</ListItemText>\n        </ListItem>\n        <ListItem {...getRootProps()} button>\n          <ListItemIcon>\n            <NoteAddIcon />\n          </ListItemIcon>\n          <ListItemText>Open File</ListItemText>\n          <input {...getInputProps()} />\n        </ListItem>\n        <ListSubheader>Recent Files</ListSubheader>\n        {recentItems.length === 0 ? (\n          <ListItem>\n            <ListItemText\n              style={{ textAlign: \"center\", color: colors.grey[500] }}\n            >\n              No Recent Items\n            </ListItemText>\n          </ListItem>\n        ) : (\n          recentItems.map((ri, index) => (\n            <ListItem key={ri.fileName} button>\n              <ListItemIcon\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                <FileIcon />\n              </ListItemIcon>\n              <ListItemText\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                {ri.fileName}\n              </ListItemText>\n              <ListItemIcon\n                onClick={() => {\n                  onDeleteFile(ri.id)\n                }}\n              >\n                <FaTrashAlt />\n              </ListItemIcon>\n            </ListItem>\n          ))\n        )}\n        <ListSubheader>Create From Template</ListSubheader>\n        {templates.map((template) => (\n          <ListItem\n            key={template.name}\n            onClick={() => onClickTemplate(template)}\n          >\n            <ListItemIcon>\n              <template.Icon />\n            </ListItemIcon>\n            <ListItemText>{template.name}</ListItemText>\n          </ListItem>\n        ))}\n        <ListSubheader>Explore More</ListSubheader>\n        {/* <ListItem button>\n      <ListItemIcon>\n        <CodeIcon />\n      </ListItemIcon>\n      <ListItemText>Integrate</ListItemText>\n    </ListItem> */}\n        <ListItem\n          button\n          onClick={() => {\n            window.location.href =\n              \"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n          }}\n        >\n          <ListItemIcon>\n            <GoMarkGithub />\n          </ListItemIcon>\n          <ListItemText>Github</ListItemText>\n        </ListItem>\n      </List>\n    </Drawer>\n  )\n}\n","// @flow weak\n\nimport React, { useState, createContext, useContext, useCallback } from \"react\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\"\n\nimport HeaderToolbar from \"../HeaderToolbar\"\nimport HeaderDrawer from \"../HeaderDrawer\"\n\nexport const HeaderContext = createContext({\n  recentItems: [],\n  changeRecentItems: () => null,\n  onClickTemplate: () => null,\n  onClickHome: () => null,\n  onOpenFile: () => null,\n  onOpenRecentItem: () => null,\n  isDesktop: false,\n  inSession: false,\n  onJoinSession: () => null,\n  onCreateSession: () => null,\n  onLeaveSession: () => null,\n  sessionBoxOpen: false,\n  changeSessionBoxOpen: () => null,\n  fileOpen: false,\n  onDownload: () => null,\n})\n\nconst emptyArray = []\n\nexport default ({\n  additionalButtons = emptyArray,\n  title,\n  currentTab,\n  onChangeTab,\n  tabs = emptyArray,\n}) => {\n  const [drawerOpen, changeDrawerOpen] = useState(false)\n  let headerContext = useContext(HeaderContext)\n  if (!headerContext.recentItems) headerContext.recentItems = []\n\n  const isSmall = useMediaQuery(\"(max-width: 800px)\")\n\n  const onOpenDrawer = useCallback(() => changeDrawerOpen(true), [])\n  const onCloseDrawer = useCallback(() => changeDrawerOpen(false), [])\n\n  return (\n    <>\n      <HeaderToolbar\n        tabs={tabs}\n        currentTab={currentTab}\n        onChangeTab={onChangeTab}\n        additionalButtons={additionalButtons}\n        onOpenDrawer={onOpenDrawer}\n        isSmall={isSmall}\n        {...headerContext}\n        title={title}\n      />\n      <HeaderDrawer\n        drawerOpen={drawerOpen}\n        onCloseDrawer={onCloseDrawer}\n        onClickHome={headerContext.onClickHome}\n        recentItems={headerContext.recentItems}\n        changeRecentItems={headerContext.changeRecentItems}\n        onOpenFile={headerContext.onOpenFile}\n        onClickTemplate={headerContext.onClickTemplate}\n        onOpenRecentItem={headerContext.onOpenRecentItem}\n      />\n    </>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport FullScreenIcon from \"@material-ui/icons/Fullscreen\"\nimport FullScreenExitIcon from \"@material-ui/icons/FullscreenExit\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Button from \"@material-ui/core/Button\"\nimport { grey, blue, red } from \"@material-ui/core/colors\"\nimport ReactMarkdown from \"react-markdown\"\nimport { styled } from \"@material-ui/core/styles\"\n\nconst StyledDialogTitle = styled(DialogTitle)({\n  backgroundColor: grey[100],\n  borderBottom: `1px solid ${grey[300]}`,\n  paddingBottom: 12,\n  boxShadow: \"0px 2px 3px rgba(0,0,0,0.05)\",\n})\nconst StyledDialogContent = styled(DialogContent)({\n  paddingTop: 16,\n})\nconst StyledDialogActions = styled(DialogActions)({\n  backgroundColor: grey[100],\n  borderTop: `1px solid ${grey[300]}`,\n})\n\nexport default ({\n  open = false,\n  title,\n  children,\n  markdownContent,\n  onClose,\n  red: redOn,\n  noActionBar = false,\n  actions = [],\n}) => {\n  const [fullScreen, changeFullScreen] = useState(false)\n  return (\n    <Dialog open={open} onClose={onClose} fullScreen={fullScreen}>\n      <StyledDialogTitle>\n        <Box display=\"flex\" alignItems=\"center\">\n          <span style={{ color: redOn ? red[700] : undefined }}>{title}</span>\n          <div style={{ flexGrow: 1 }} />\n          <IconButton onClick={() => changeFullScreen(!fullScreen)}>\n            {fullScreen ? <FullScreenExitIcon /> : <FullScreenIcon />}\n          </IconButton>\n          <IconButton onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </StyledDialogTitle>\n      <StyledDialogContent>\n        <Box maxWidth=\"90vw\" minWidth={400} lineHeight={1.5}>\n          {markdownContent ? (\n            <ReactMarkdown source={markdownContent} />\n          ) : (\n            children\n          )}\n        </Box>\n      </StyledDialogContent>\n      {!noActionBar && (\n        <StyledDialogActions>\n          <Button onClick={() => onClose()}>\n            <span style={{ color: grey[700], fontWeight: 500 }}>Close</span>\n          </Button>\n          {actions.map((action, i) => (\n            <Button disabled={action.disabled} key={i} onClick={action.onClick}>\n              <span\n                style={{ color: redOn ? red[700] : blue[700], fontWeight: 500 }}\n              >\n                {action.text}\n              </span>\n            </Button>\n          ))}\n        </StyledDialogActions>\n      )}\n    </Dialog>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport templates from \"../StartingPage/templates\"\nimport { grey } from \"@material-ui/core/colors\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nconst useStyles = makeStyles({\n  bigButton: {\n    padding: 10,\n    width: 150,\n    height: 120,\n    border: \"1px solid #ccc\",\n    margin: 10,\n  },\n  bigIcon: {\n    width: 48,\n    height: 48,\n  },\n})\n\nexport default ({ open, onClose, onSelect }) => {\n  const c = useStyles()\n  return (\n    <SimpleDialog title=\"Create from Template\" open={open} onClose={onClose}>\n      {templates.map((template) => (\n        <Button\n          key={template.name}\n          onClick={() => onSelect(template)}\n          className={c.bigButton}\n        >\n          <div>\n            <div>{template.name}</div>\n            <div>\n              <template.Icon className={c.bigIcon} />\n            </div>\n          </div>\n        </Button>\n      ))}\n    </SimpleDialog>\n  )\n}\n","// @flow\n\nexport default () => {\n  if (window.require) {\n    return Boolean(window.require(\"electron\"))\n  }\n  return false\n}\n","// @flow\n\nimport React, { useState, useMemo, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Header from \"../Header\"\nimport Button from \"@material-ui/core/Button\"\nimport Typography from \"@material-ui/core/Typography\"\nimport templates from \"./templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport VideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport TemplateIcon from \"@material-ui/icons/Description\"\nimport { useDropzone } from \"react-dropzone\"\nimport CreateFromTemplateDialog from \"../CreateFromTemplateDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport packageInfo from \"../../../package.json\"\nimport useIsDesktop from \"../../utils/use-is-desktop\"\nimport useEventCallback from \"use-event-callback\"\n\nconst useStyles = makeStyles({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: colors.grey[900],\n    height: \"100vh\",\n  },\n})\n\nconst ContentContainer = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  flexGrow: 1,\n  color: \"#fff\",\n  overflowY: \"scroll\",\n  padding: 100,\n  [theme.breakpoints.down(\"sm\")]: {\n    padding: 50,\n  },\n}))\nconst Content = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  flexDirection: \"column\",\n  width: \"calc(100% - 32px)\",\n  marginLeft: 16,\n  maxWidth: 1000,\n}))\n\nconst Title = styled(\"div\")({\n  marginTop: 20,\n  fontSize: 36,\n  fontWeight: 600,\n  color: colors.grey[300],\n})\n\nconst Subtitle = styled(\"div\")({\n  fontSize: 18,\n  // fontWeight: \"bold\",\n  marginTop: 8,\n  color: colors.grey[500],\n})\nconst ActionList = styled(\"div\")({ marginTop: 48 })\nconst Action = styled(\"a\")({\n  display: \"block\",\n  color: colors.blue[500],\n  marginTop: 4,\n  cursor: \"pointer\",\n  textDecoration: \"none\",\n})\nconst ActionTitle = styled(\"div\")({\n  // fontWeight: \"bold\",\n  fontSize: 24,\n  marginBottom: 8,\n  color: colors.grey[500],\n})\nconst ActionText = styled(\"div\")({\n  color: colors.grey[300],\n  \"& a\": {\n    cursor: \"pointer\",\n    color: colors.blue[500],\n    textDecoration: \"none\",\n  },\n})\nconst Actionless = styled(\"div\")({\n  color: colors.grey[600],\n  paddingTop: 16,\n})\nconst BottomSpacer = styled(\"div\")({ height: 100 })\n\nexport default ({\n  onFileDrop,\n  onOpenTemplate,\n  showDownloadLink = true,\n  recentItems = [],\n  onOpenRecentItem,\n  onClickOpenSession,\n}) => {\n  const c = useStyles()\n  const posthog = usePosthog()\n\n  const isDesktop = useIsDesktop()\n  const [newVersionAvailable, changeNewVersionAvailable] = useState(false)\n  useEffect(() => {\n    // if (!isDesktop) return\n    async function checkNewVersion() {\n      const newPackage = await fetch(\n        \"https://raw.githubusercontent.com/UniversalDataTool/universal-data-tool/master/package.json\"\n      ).then((r) => r.json())\n      if (newPackage.version !== packageInfo.version) {\n        changeNewVersionAvailable(newPackage.version)\n      }\n    }\n    checkNewVersion()\n  }, [])\n\n  const [\n    createFromTemplateDialogOpen,\n    changeCreateFromTemplateDialogOpen,\n  ] = useState(false)\n  const onDrop = useEventCallback((acceptedFiles) => {\n    onFileDrop(acceptedFiles[0])\n  })\n\n  let { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  return (\n    <div className={c.container}>\n      <CreateFromTemplateDialog\n        open={createFromTemplateDialogOpen}\n        onSelect={(template) => {\n          posthog.capture(\"template_clicked\", {\n            clicked_template: template.name,\n          })\n          onOpenTemplate(template)\n        }}\n        onClose={() => changeCreateFromTemplateDialogOpen(false)}\n      />\n      <Header\n        additionalButtons={[\n          newVersionAvailable && (\n            <Button\n              key=\"download-latest\"\n              className={c.headerButton}\n              href=\"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n            >\n              Download Version v{newVersionAvailable}\n            </Button>\n          ),\n          !newVersionAvailable && showDownloadLink && (\n            <Button\n              key=\"download\"\n              href=\"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n              className={c.headerButton}\n            >\n              Download\n            </Button>\n          ),\n        ].filter(Boolean)}\n      />\n      <ContentContainer>\n        <Content>\n          <Grid container>\n            <Grid xs={12} item>\n              <Title>Universal Data Tool</Title>\n              <Subtitle>Open-Source Data Labeling</Subtitle>\n            </Grid>\n            <Grid xs={6} item>\n              <ActionList>\n                <ActionTitle>Start</ActionTitle>\n                <Action\n                  onClick={() => {\n                    posthog.capture(\"template_clicked\", {\n                      clicked_template: \"empty\",\n                    })\n                    onOpenTemplate(templates.find((t) => t.name === \"Empty\"))\n                  }}\n                >\n                  New File\n                </Action>\n                <Action\n                  onClick={() => changeCreateFromTemplateDialogOpen(true)}\n                >\n                  Start from Template\n                </Action>\n                <Action {...getRootProps()}>\n                  <input {...getInputProps()} />\n                  Open File\n                </Action>\n                {onClickOpenSession && (\n                  <Action onClick={onClickOpenSession}>\n                    Open Collaborative Session\n                  </Action>\n                )}\n                {/* <Action>Open Folder</Action> */}\n              </ActionList>\n              <ActionList>\n                <ActionTitle>Recent</ActionTitle>\n                {recentItems.length === 0 ? (\n                  <Actionless>No Recent Files</Actionless>\n                ) : (\n                  recentItems.map((ri, i) => (\n                    <Action key={i} onClick={() => onOpenRecentItem(ri)}>\n                      {ri.fileName}\n                    </Action>\n                  ))\n                )}\n              </ActionList>\n              <ActionList>\n                <ActionTitle>Help</ActionTitle>\n                <Action href=\"https://github.com/UniversalDataTool/universal-data-tool/releases\">\n                  Downloading and Installing UDT\n                </Action>\n                <Action href=\"https://dev.to/seveibar/make-bounding-boxes-for-artificial-intelligence-with-udt-1kai\">\n                  Labeling Images\n                </Action>\n                {/* <Action>Custom Data Entry</Action> */}\n                <Action href=\"https://github.com/UniversalDataTool/universal-data-tool\">\n                  Github Repository\n                </Action>\n                {/* <Action href=\"#\">\n                  How to Collaborate in Real-Time with UDT\n                </Action> */}\n              </ActionList>\n            </Grid>\n            <Grid xs={6} item>\n              <ActionList>\n                <ActionTitle>About</ActionTitle>\n                <ActionText>\n                  The Universal Data Tool (UDT) is an open-source web or\n                  downloadable tool for labeling data for usage in machine\n                  learning or data processing systems.\n                  <br />\n                  <br />\n                  The Universal Data Tool supports Computer Vision, Natural\n                  Language Processing (including Named Entity Recognition and\n                  Audio Transcription) workflows.\n                  <br />\n                  <br />\n                  The UDT uses an{\" \"}\n                  <a href=\"https://github.com/UniversalDataTool/udt-format\">\n                    open-source data format (.udt.json / .udt.csv)\n                  </a>{\" \"}\n                  that can be easily read by programs as a ground-truth dataset\n                  for machine learning algorithms.\n                  <br />\n                  <br />\n                </ActionText>\n              </ActionList>\n              <ActionList>\n                <ActionTitle>Instant Try Now</ActionTitle>\n                <ActionText>\n                  <a onClick={() => changeCreateFromTemplateDialogOpen(true)}>\n                    Open a template\n                  </a>{\" \"}\n                  to see how the UDT could work for your data.\n                </ActionText>\n              </ActionList>\n            </Grid>\n            <Grid xs={12} item>\n              <BottomSpacer />\n            </Grid>\n          </Grid>\n        </Content>\n      </ContentContainer>\n    </div>\n  )\n}\n","export default `\n{\n  \"interface\": {\n    \"type\": \"data_entry\",\n    \"description\": \"# Markdown description here\",\n    \"surveyjs\": {\n      \"questions\": [\n        {\n          \"type\": \"text\",\n          \"name\": \"question1\",\n          \"title\": \"Some question title here\"\n        }\n      ]\n    }\n  },\n  \"taskData\": []\n}\n`.trim()\n","export default function getTaskDescription(taskDataItem) {\n  const { description, imageUrl, url, pdfUrl } = taskDataItem\n  if (description) return description\n  if (imageUrl) return `![${imageUrl}](${imageUrl})`\n  if (pdfUrl)\n    return (\n      `[PDF Link](${pdfUrl})` +\n      `<object data=\"${pdfUrl.replace(\n        \"http://\",\n        \"https://\"\n      )}\" type=\"application/pdf\" width=\"100%\" height=\"600px\"></object>`\n    )\n  if (url) return `Use this [Link](${url})`\n  return null\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  linkButtonContainer: {\n    marginLeft: 8,\n    marginRight: 8,\n  },\n  linkButton: {\n    textTransform: \"none\",\n    cursor: \"pointer\",\n    textDecoration: \"underline\",\n  },\n})\n\nexport default ({ onClick, text }: { onClick: Function, text: string }) => {\n  const c = useStyles()\n  return (\n    <span className={c.linkButtonContainer}>\n      (\n      <span onClick={onClick} className={c.linkButton}>\n        {text}\n      </span>\n      )\n    </span>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport ReactMarkdown from \"react-markdown\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport ScatterPlotIcon from \"@material-ui/icons/ScatterPlot\"\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport LeftIcon from \"@material-ui/icons/KeyboardArrowLeft\"\nimport InnerCircleIcon from \"@material-ui/icons/RadioButtonChecked\"\nimport CircleIcon from \"@material-ui/icons/RadioButtonUnchecked\"\nimport CheckCircle from \"@material-ui/icons/CheckCircle\"\nimport Typography from \"@material-ui/core/Typography\"\nimport GithubIcon from \"../Header/GithubIcon.js\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport Divider from \"@material-ui/core/Divider\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport LinkButton from \"./LinkButton\"\nimport range from \"lodash/range\"\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    backgroundColor: \"#fff\",\n    marginTop: 40,\n  },\n  footerContent: {\n    alignItems: \"center\",\n    padding: 20,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  footerBorder: {\n    borderTop: \"1px solid #ccc\",\n    marginLeft: 20,\n    marginRight: 20,\n  },\n  footerCount: {\n    display: \"inline-flex\",\n  },\n  allSamplesButton: {\n    color: \"#fff\",\n    border: \"1px solid rgba(255,255,255,0.5)\",\n    marginRight: 10,\n    paddingLeft: 8,\n  },\n  sampleIcon: {\n    marginRight: 8,\n  },\n  menuButton: {\n    marginRight: 8,\n    color: \"#fff\",\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  buttons: {\n    \"& > *\": {\n      margin: 4,\n    },\n  },\n  description: {\n    padding: 10,\n    \"& img\": {\n      maxWidth: \"calc(100% - 16px)\",\n      marginLeft: 8,\n      marginRight: 8,\n      maxHeight: 600,\n    },\n  },\n  sectionHeader: {\n    fontWeight: 700,\n    fontSize: 12,\n    padding: 10,\n    paddingTop: 16,\n    textTransform: \"uppercase\",\n    color: colors.grey[600],\n  },\n  content: {\n    padding: 10,\n    // minHeight: \"calc(100vh - 200px)\"\n  },\n}))\n\nexport const SampleContainer = ({\n  hideDescription: defaultHideDescription = window.localStorage.getItem(\n    \"hideDescription\"\n  ) === '\"true\"',\n  lastSampleExitText,\n  onExit,\n  requireCompleteToPressNext = false,\n  taskData,\n  minContentHeight,\n  currentSampleIndex,\n  totalSamples,\n  onChangeSample,\n  taskOutput = [],\n  description,\n  children,\n}) => {\n  const c = useStyles()\n  const [hideDescription, changeHideDescriptionState] = useState(\n    defaultHideDescription\n  )\n  const changeHideDescription = (hide) => {\n    window.localStorage.setItem(\n      \"hideDescription\",\n      `\"${hide ? \"true\" : \"false\"}\"`\n    )\n    changeHideDescriptionState(hide)\n  }\n\n  const [sampleDrawerOpen, changeSampleDrawerOpen] = useState(false)\n  return (\n    <>\n      <Grid container>\n        {!hideDescription && (\n          <Grid item xs={12} sm={12} md={6}>\n            <div className={c.sectionHeader}>\n              Description\n              <LinkButton\n                onClick={() => changeHideDescription(true)}\n                text=\"hide\"\n              />\n            </div>\n            <div className={c.description}>\n              <ReactMarkdown escapeHtml={false} source={description} />\n            </div>\n          </Grid>\n        )}\n        <Grid item xs={12} sm={12} md={hideDescription ? 12 : 6}>\n          <div className={c.sectionHeader}>\n            Sample {currentSampleIndex + 1}/{totalSamples}\n            {hideDescription && (\n              <LinkButton\n                onClick={() => changeHideDescription(false)}\n                text=\"show description\"\n              />\n            )}\n            {totalSamples > 1 && (\n              <LinkButton\n                onClick={() => changeSampleDrawerOpen(true)}\n                text=\"view all\"\n              />\n            )}\n            {onExit && (\n              <LinkButton onClick={() => onExit()} text=\"exit without saving\" />\n            )}\n          </div>\n          <div style={{ minHeight: minContentHeight }} className={c.content}>\n            {children}\n          </div>\n        </Grid>\n        {totalSamples > 1 && (\n          <Grid item xs={12}>\n            <div className={c.footer}>\n              <div className={c.footerBorder} />\n              <div className={c.footerContent}>\n                <Button\n                  onClick={() =>\n                    onChangeSample(\n                      (currentSampleIndex - 1 + totalSamples) % totalSamples\n                    )\n                  }\n                >\n                  <LeftIcon /> Prev Sample\n                </Button>\n                <Button\n                  onClick={() => changeSampleDrawerOpen(true)}\n                  className={c.footerCount}\n                >\n                  {currentSampleIndex + 1} / {totalSamples}\n                </Button>\n                <Button\n                  disabled={\n                    requireCompleteToPressNext &&\n                    !taskOutput[currentSampleIndex]\n                  }\n                  onClick={() =>\n                    onChangeSample((currentSampleIndex + 1) % totalSamples)\n                  }\n                >\n                  {requireCompleteToPressNext && !taskOutput[currentSampleIndex]\n                    ? \"Save to Continue\"\n                    : \"Next Sample\"}\n                  <RightIcon />\n                </Button>\n              </div>\n            </div>\n          </Grid>\n        )}\n      </Grid>\n      <Drawer\n        open={sampleDrawerOpen}\n        anchor=\"left\"\n        onClose={() => changeSampleDrawerOpen(false)}\n      >\n        <List style={{ minWidth: 300 }}>\n          <ListSubheader>Samples</ListSubheader>\n          {range(0, totalSamples).map((i) => (\n            <ListItem\n              style={{\n                backgroundColor:\n                  i === currentSampleIndex ? colors.grey[200] : undefined,\n              }}\n              button\n              onClick={() => onChangeSample(i)}\n            >\n              <ListItemIcon\n                style={{\n                  color:\n                    i === currentSampleIndex ? colors.blue[500] : undefined,\n                }}\n              >\n                {taskOutput[i] ? <CheckCircle /> : <CircleIcon />}\n              </ListItemIcon>\n              <ListItemText>Sample {i + 1}</ListItemText>\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n    </>\n  )\n}\n\nexport default SampleContainer\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport const TextClassification = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const initialLabels =\n    props.taskOutput && props.taskOutput[currentSampleIndex]\n      ? [props.taskOutput[currentSampleIndex].label] ||\n        props.taskOutput[currentSampleIndex].labels\n      : undefined\n  if (!props.interface.labels && !props.interface.availableLabels) {\n    throw new Error(\"Labels not defined. Try defining some labels in Setup\")\n  }\n  let labels = (props.interface.labels || props.interface.availableLabels)\n    .map((l) =>\n      typeof l === \"string\" ? { id: l, description: l, displayName: l } : l\n    )\n    .map((l) => (!l.displayName ? { ...l, displayName: l.id } : l))\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={(props.sampleIndex || 0) + currentSampleIndex}\n        type=\"label-document\"\n        labels={labels}\n        multipleLabels={props.interface.multiple}\n        document={props.taskData[currentSampleIndex].document}\n        initialLabels={initialLabels}\n        onFinish={(result) => {\n          if (typeof result === \"string\") result = { label: result }\n          else result = { labels: result }\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextClassification\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nconst simpleSequenceToEntitySequence = (simpleSeq) => {\n  const entSeq = []\n  let charsPassed = 0\n  for (const seq of simpleSeq) {\n    if (seq.label) {\n      entSeq.push({\n        text: seq.text,\n        label: seq.label,\n        start: charsPassed,\n        end: charsPassed + seq.text.length,\n      })\n    }\n    charsPassed += seq.text.length\n  }\n  return entSeq\n}\n\nconst entitySequenceToSimpleSeq = (doc, entSeq) => {\n  if (!entSeq) return undefined\n  const simpleSeq = []\n  entSeq = [...entSeq]\n  entSeq.sort((a, b) => a.start - b.start)\n  let nextEntity = 0\n  for (let i = 0; i < doc.length; i++) {\n    if ((entSeq[nextEntity] || {}).start === i) {\n      simpleSeq.push({\n        text: entSeq[nextEntity].text,\n        label: entSeq[nextEntity].label,\n      })\n      i = entSeq[nextEntity].end\n      nextEntity += 1\n    } else {\n      if (simpleSeq.length === 0 || simpleSeq[simpleSeq.length - 1].label) {\n        simpleSeq.push({ text: doc[i] })\n      } else {\n        simpleSeq[simpleSeq.length - 1].text += doc[i]\n      }\n    }\n  }\n  return simpleSeq\n}\n\nexport const TextEntityRecognition = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const initialSequence =\n    props.taskOutput && props.taskOutput[currentSampleIndex]\n      ? entitySequenceToSimpleSeq(\n          props.taskData[currentSampleIndex].document,\n          props.taskOutput[currentSampleIndex].entities\n        )\n      : undefined\n\n  if (!props.interface.labels && !props.interface.availableLabels) {\n    throw new Error(\"Labels not defined. Try adding some labels in setup.\")\n  }\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"label-sequence\"\n        document={props.taskData[currentSampleIndex].document}\n        labels={props.interface.labels || props.interface.availableLabels}\n        initialSequence={initialSequence}\n        onFinish={(result) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            entities: simpleSequenceToEntitySequence(result),\n          })\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextEntityRecognition\n","// @flow\n\n// RIA = React Image Annotate\n\nexport function getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport function getRandomColor() {\n  var h = getRandomInt(0, 360)\n  var s = 100\n  var l = 50\n  return \"hsl(\"\n    .concat(h.toString(), \",\")\n    .concat(s.toString(), \"%,\")\n    .concat(l.toString(), \"%)\")\n}\n\nexport const rid = () => Math.random().toString().split(\".\")[1]\n\nexport const convertToRIARegionFmt = (region) => {\n  switch (region.regionType) {\n    case \"bounding-box\": {\n      return {\n        id: rid(),\n        cls: region.classification,\n        tags: region.labels,\n        color: region.color || getRandomColor(),\n        type: \"box\",\n        x: region.centerX - region.width / 2,\n        y: region.centerY - region.height / 2,\n        w: region.width,\n        h: region.height,\n      }\n    }\n    case \"point\": {\n      return {\n        id: rid(),\n        type: \"point\",\n        tags: region.labels,\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        x: region.x,\n        y: region.y,\n      }\n    }\n    case \"polygon\": {\n      return {\n        id: rid(),\n        type: \"polygon\",\n        tags: region.labels,\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        open: false,\n        points: region.points.map((p) => [p.x, p.y]),\n      }\n    }\n    case \"line\":\n    case \"pixel-mask\": {\n      throw new Error(`Unsupported region \"${JSON.stringify(region)}\"`)\n    }\n  }\n}\n\nexport const convertFromRIARegionFmt = (riaRegion) => {\n  switch (riaRegion.type) {\n    case \"point\": {\n      return {\n        regionType: \"point\",\n        x: riaRegion.x,\n        y: riaRegion.y,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n      }\n    }\n    case \"box\": {\n      return {\n        regionType: \"bounding-box\",\n        centerX: riaRegion.x + riaRegion.w / 2,\n        centerY: riaRegion.y + riaRegion.h / 2,\n        width: riaRegion.w,\n        height: riaRegion.h,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n      }\n    }\n    case \"polygon\": {\n      return {\n        regionType: \"polygon\",\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n        points: riaRegion.points.map(([x, y]) => ({ x, y })),\n      }\n    }\n  }\n  throw new Error(`Unsupported riaRegion \"${JSON.stringify(riaRegion)}\"`)\n}\n\nexport const convertToRIAImageFmt = ({\n  title,\n  taskDatum: td,\n  index: i,\n  output,\n}) => {\n  td = td || {}\n  const regions = !output\n    ? undefined\n    : Array.isArray(output)\n    ? output.map(convertToRIARegionFmt)\n    : [convertToRIARegionFmt(output)]\n\n  if (td.imageUrl) {\n    return {\n      src: td.imageUrl,\n      name: title || `Sample ${i}`,\n      regions,\n    }\n  } else if (td.videoUrl && td.videoFrameAt !== undefined) {\n    return {\n      src: td.videoUrl,\n      frameTime: td.videoFrameAt,\n      name: title || `Sample ${i}`,\n      regions,\n    }\n  }\n  throw new Error(`Task Datum not supported \"${JSON.stringify(td)}\"`)\n}\n\nexport const convertToRIAKeyframes = (keyframes) => {\n  const newKeyframes = {}\n  for (const key in keyframes) {\n    newKeyframes[key] = {\n      regions: keyframes[key].regions.map(convertToRIARegionFmt),\n    }\n  }\n  return newKeyframes\n}\n","import JAC from \"jac-format\"\n\nconst alternativeSpellings = {\n  imageUrl: [\n    \"image_url\",\n    \"image_urls\",\n    \"image\",\n    \"image_src\",\n    \"img_url\",\n    \"img\",\n    \"img_src\",\n  ],\n  document: [\"text\"],\n}\nconst badSpellingMap = {}\nfor (const [correct, badSpellings] of Object.entries(alternativeSpellings)) {\n  for (const badSpelling of badSpellings) {\n    badSpellingMap[badSpelling] = correct\n  }\n}\n\nconst convertTaskDatumMistakes = (sample) => {\n  for (const key in sample) {\n    const normalizedKey = key.toLowerCase().replace(/ /g, \"_\")\n    const correction = badSpellingMap[normalizedKey]\n    if (correction) {\n      sample[correction] = sample[key]\n      delete sample[key]\n    }\n  }\n  return sample\n}\n\nexport default (csv) => {\n  const json = JAC.fromCSV(csv, { derivePath: () => \"samples.*\" })\n  if (!json.samples) throw new Error(\"No samples\")\n  return {\n    interface: json.interface,\n    taskOutput: json.samples.map((sample) => sample.output),\n    taskData: json.samples.map(convertTaskDatumMistakes).map((sample) => {\n      delete sample.output\n      return sample\n    }),\n  }\n}\n","// @flow\n\nimport React, { useState, useEffect, useMemo } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Annotator from \"react-image-annotate\"\nimport isEqual from \"lodash/isEqual\"\nimport useEventCallback from \"use-event-callback\"\nimport {\n  rid,\n  convertFromRIARegionFmt,\n  convertToRIARegionFmt,\n  convertToRIAImageFmt,\n} from \"../../utils/ria-format.js\"\n\nconst useStyles = makeStyles({})\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: \"create-polygon\",\n  \"full-segmentation\": \"create-polygon\",\n  point: \"create-point\",\n}\n\nconst [emptyObj, emptyArr] = [{}, []]\n\nexport default ({\n  sampleIndex: globalSampleIndex,\n  interface: iface,\n  taskData = emptyArr,\n  taskOutput = emptyObj,\n  containerProps = emptyObj,\n  onSaveTaskOutputItem,\n}) => {\n  const c = useStyles()\n  const [selectedIndex, changeSelectedIndex] = useState(0)\n  const [showTags, changeShowTags] = useState(true)\n  const [selectedTool, changeSelectedTool] = useState(\"select\")\n\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = !Boolean(iface.multipleRegionLabels)\n\n  const labelProps = useMemo(\n    () =>\n      isClassification\n        ? {\n            regionClsList: (iface.availableLabels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          }\n        : {\n            regionTagList: (iface.availableLabels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          },\n    [isClassification]\n  )\n\n  const multipleRegions =\n    iface.multipleRegions || iface.multipleRegions === undefined\n\n  const onExit = useEventCallback((output, nextAction) => {\n    const regionMat = (output.images || [])\n      .map((img) => img.regions)\n      .map((riaRegions) => (riaRegions || []).map(convertFromRIARegionFmt))\n\n    for (let i = 0; i < regionMat.length; i++) {\n      if (multipleRegions) {\n        onSaveTaskOutputItem(i, regionMat[i])\n      } else {\n        onSaveTaskOutputItem(i, regionMat[i][0])\n      }\n    }\n    changeShowTags(output.showTags)\n    changeSelectedTool(output.selectedTool)\n    if (containerProps.onExit) containerProps.onExit(nextAction)\n  })\n  const onNextImage = useEventCallback((output) => {\n    onExit(output, \"go-to-next\")\n  })\n  const onPrevImage = useEventCallback((output) => {\n    onExit(output, \"go-to-previous\")\n  })\n\n  const images = useMemo(\n    () =>\n      taskData.map((taskDatum, index) =>\n        convertToRIAImageFmt({\n          title: containerProps.datasetName,\n          taskDatum,\n          output: taskOutput[index],\n          index,\n        })\n      ),\n    [taskData]\n  )\n\n  const enabledTools = useMemo(\n    () =>\n      [\"select\"].concat(\n        regionTypesAllowed.map((rt) => regionTypeToTool[rt]).filter(Boolean)\n      ),\n    [regionTypesAllowed]\n  )\n\n  return (\n    <div\n      style={{\n        height: containerProps.height || \"calc(100vh - 70px)\",\n        width: \"100%\",\n      }}\n    >\n      <Annotator\n        key={globalSampleIndex}\n        selectedImage={taskData[selectedIndex].imageUrl}\n        taskDescription={iface.description}\n        showTags={showTags}\n        {...labelProps}\n        onNextImage={onNextImage}\n        onPrevImage={onPrevImage}\n        enabledTools={enabledTools}\n        selectedTool={selectedTool}\n        images={images}\n        onExit={onExit}\n      />\n    </div>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect, useMemo } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\"\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport without from \"lodash/without\"\n\nconst brightColors = [\n  colors.blue[600],\n  colors.green[600],\n  colors.red[600],\n  colors.deepOrange[600],\n  colors.pink[600],\n  colors.teal[600],\n  colors.deepPurple[600],\n  colors.indigo[600],\n  colors.blue[600],\n  colors.cyan[600],\n  colors.purple[600],\n]\n\nconst letters = \"abcdefghijklmnopqrstuvwxyz1234567890\".split(\"\")\nconst getRandomColor = (label) => {\n  const hashInt = label.id\n    .split(\"\")\n    .reduce((acc, v, i) => acc + (letters.indexOf(v) + 1), 0)\n  return brightColors[hashInt % brightColors.length]\n}\n\nconst Container = styled(\"div\")({\n  maxWidth: \"100vw\",\n  display: \"flex\",\n  flexDirection: \"column\",\n})\n\nconst ImageContainer = styled(\"div\")({\n  position: \"relative\",\n  display: \"flex\",\n  flexGrow: 1,\n})\n\nconst Image = styled(\"img\")({\n  display: \"inline-block\",\n  position: \"absolute\",\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n  objectFit: \"contain\",\n})\n\nconst Nav = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"center\",\n  marginTop: 4,\n  flexShrink: 0,\n})\nconst NavItem = styled(\"div\")({\n  backgroundColor: \"#000\",\n  color: \"#fff\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  \"& > span\": {\n    padding: 16,\n  },\n})\nconst NavButton = styled(Button)({\n  color: \"#fff\",\n  padding: 8,\n  paddingLeft: 16,\n  paddingRight: 16,\n})\n\nconst ButtonsContainer = styled(\"div\")({\n  paddingLeft: 50,\n  paddingRight: 50,\n  marginTop: 8,\n  textAlign: \"center\",\n  flexShrink: 0,\n})\n\nconst CheckButton = styled(Button)({\n  margin: 8,\n  color: \"#fff\",\n  fontSize: 18,\n  paddingRight: 16,\n  transition: \"transform 50ms ease\",\n})\n\nconst [emptyObj, emptyArr] = [{}, []]\n\nexport default ({\n  sampleIndex: globalSampleIndex,\n  interface: iface,\n  taskData = emptyArr,\n  taskOutput = emptyObj,\n  containerProps = emptyObj,\n  onSaveTaskOutputItem,\n}) => {\n  if (!iface.availableLabels)\n    throw new Error(\"No labels defined. Add some labels in Setup to continue.\")\n  const [sampleIndex, changeSampleIndex] = useState(0)\n  const [enlargedLabel, changeEnlargedLabel] = useState(null)\n  const [currentOutput, changeCurrentOutput] = useState(emptyArr)\n  const labels = useMemo(\n    () =>\n      iface.availableLabels.map((l) =>\n        typeof l === \"string\" ? { id: l, description: l } : l\n      ),\n    [iface.availableLabels]\n  )\n\n  const onDone = useEventCallback(() => {\n    if (containerProps.onExit) containerProps.onExit()\n  })\n  const onNextNoSave = useEventCallback(() => {\n    if (containerProps.onExit) {\n      containerProps.onExit(\"go-to-next\")\n    }\n  })\n  const onNext = useEventCallback((newOutput) => {\n    onSaveTaskOutputItem(sampleIndex, newOutput || currentOutput)\n    if (sampleIndex !== taskData.length - 1) {\n      changeSampleIndex(sampleIndex + 1)\n    } else {\n      if (containerProps.onExit) containerProps.onExit(\"go-to-next\")\n    }\n  })\n  const onPrev = useEventCallback(() => {\n    if (sampleIndex > 0) {\n      changeSampleIndex(sampleIndex - 1)\n    } else {\n      if (containerProps.onExit) containerProps.onExit(\"go-to-previous\")\n    }\n  })\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      changeEnlargedLabel(null)\n    }, 100)\n    return () => clearTimeout(timeout)\n  }, [enlargedLabel])\n\n  const onClickLabel = useEventCallback((label) => {\n    changeEnlargedLabel(label)\n    let newOutput\n    if ((currentOutput || []).includes(label.id)) {\n      newOutput = without(currentOutput, label.id)\n    } else {\n      if (iface.allowMultiple) {\n        newOutput = currentOutput.concat([label.id])\n      } else {\n        newOutput = label.id\n      }\n    }\n\n    changeCurrentOutput(newOutput)\n    if (!iface.allowMultiple && newOutput.length > 0) {\n      onNext(newOutput)\n    }\n  })\n\n  useEffect(() => {\n    let newOutput = (taskOutput || [])[sampleIndex]\n    if (!newOutput) newOutput = []\n    if (typeof newOutput === \"string\") newOutput = [newOutput]\n    changeCurrentOutput(newOutput)\n  }, [sampleIndex, globalSampleIndex])\n\n  const [hotkeyMap, labelKeyMap] = useMemo(() => {\n    const hotkeyMap = {\n      \" \": onNext,\n      backspace: onPrev,\n      enter: onDone,\n      rightarrow: onNext,\n      leftarrow: onPrev,\n    }\n    const labelKeyMap = {}\n    for (let label of labels) {\n      const nextAvailableLetter = label.id\n        .split(\"\")\n        .filter((l) => letters.includes(l))\n        .find((l) => !hotkeyMap[l.toLowerCase()])\n      if (!nextAvailableLetter) continue\n      hotkeyMap[nextAvailableLetter] = () => onClickLabel(label)\n      labelKeyMap[label.id] = nextAvailableLetter\n    }\n    return [hotkeyMap, labelKeyMap]\n  }, [labels])\n\n  useEffect(() => {\n    const onKeyDown = (e) => {\n      const key = e.key.toLowerCase()\n      if (hotkeyMap[key]) {\n        hotkeyMap[key]()\n      }\n    }\n    window.addEventListener(\"keydown\", onKeyDown)\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown)\n    }\n  }, [hotkeyMap])\n\n  return (\n    <Container\n      style={{ height: containerProps.height || \"calc(100vh - 70px)\" }}\n    >\n      <ImageContainer>\n        <Image src={taskData[sampleIndex].imageUrl} />\n      </ImageContainer>\n      <Nav>\n        <NavItem>\n          <NavButton onClick={onPrev}>Prev (backspace)</NavButton>\n        </NavItem>\n        {taskData.length > 1 ? (\n          <NavItem>\n            <span>\n              ({sampleIndex + 1}/{taskData.length})\n            </span>\n          </NavItem>\n        ) : globalSampleIndex !== undefined ? (\n          <NavItem>\n            <span>[{globalSampleIndex}]</span>\n          </NavItem>\n        ) : null}\n        <NavItem>\n          <NavButton onClick={onNextNoSave}>Next (space)</NavButton>\n        </NavItem>\n        <NavItem>\n          <NavButton onClick={onDone}>Done (enter)</NavButton>\n        </NavItem>\n      </Nav>\n      <ButtonsContainer>\n        {labels.map((label) => (\n          <CheckButton\n            key={label.id}\n            onClick={() => onClickLabel(label)}\n            style={{\n              backgroundColor: getRandomColor(label),\n              transform: enlargedLabel === label ? \"scale(1.1,1.1)\" : undefined,\n            }}\n          >\n            <Checkbox\n              style={{ color: \"#fff\" }}\n              checked={currentOutput.includes(label.id)}\n            />\n            {label.id}\n            {labelKeyMap[label.id] ? ` (${labelKeyMap[label.id]})` : \"\"}\n          </CheckButton>\n        ))}\n      </ButtonsContainer>\n    </Container>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect, useMemo } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Annotator from \"react-image-annotate\"\nimport isEqual from \"lodash/isEqual\"\nimport useEventCallback from \"use-event-callback\"\nimport {\n  rid,\n  convertFromRIARegionFmt,\n  convertToRIARegionFmt,\n  convertToRIAKeyframes,\n} from \"../../utils/ria-format.js\"\n\nconst useStyles = makeStyles({})\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: \"create-polygon\",\n  \"full-segmentation\": \"create-polygon\",\n  point: \"create-point\",\n}\n\nconst [emptyObj, emptyArr] = [{}, []]\n\nexport default ({\n  interface: iface,\n  taskData = emptyArr,\n  taskOutput = emptyObj,\n  containerProps = emptyObj,\n  onSaveTaskOutputItem,\n}) => {\n  const c = useStyles()\n  const [selectedIndex, changeSelectedIndex] = useState(0)\n\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = !Boolean(iface.multipleRegionLabels)\n\n  const labelProps = useMemo(\n    () =>\n      isClassification\n        ? {\n            regionClsList: (iface.availableLabels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          }\n        : {\n            regionTagList: (iface.availableLabels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          },\n    [isClassification]\n  )\n\n  const multipleRegions =\n    iface.multipleRegions || iface.multipleRegions === undefined\n\n  const onExit = useEventCallback((output) => {\n    const newKeyframes = {}\n    for (const key in output.keyframes) {\n      newKeyframes[key] = {\n        regions: output.keyframes[key].regions.map(convertFromRIARegionFmt),\n      }\n    }\n    onSaveTaskOutputItem(0, { keyframes: newKeyframes })\n    if (containerProps.onExit) containerProps.onExit()\n  })\n\n  const enabledTools = useMemo(\n    () =>\n      [\"select\"].concat(\n        regionTypesAllowed.map((rt) => regionTypeToTool[rt]).filter(Boolean)\n      ),\n    [regionTypesAllowed]\n  )\n\n  // TODO fix by adding some way of going to the \"next\" video\n  if (taskData.length > 1) {\n    return \"Video segmentation is currently limited to only a single video per selection\"\n  }\n\n  if (taskData.length === 0) throw new Error(\"No sample data provided selected\")\n  if (!taskData[0].videoUrl) throw new Error(\"Sample must have videoUrl\")\n\n  return (\n    <div\n      style={{\n        height: containerProps.height || \"calc(100vh - 70px)\",\n        width: \"100%\",\n      }}\n    >\n      <Annotator\n        taskDescription={iface.description}\n        {...labelProps}\n        enabledTools={enabledTools}\n        keyframes={convertToRIAKeyframes(\n          ((taskOutput || [])[0] || {}).keyframes\n        )}\n        videoName={taskData[0].customId || \"\"}\n        videoTime={0}\n        videoSrc={taskData[0].videoUrl}\n        onExit={onExit}\n      />\n    </div>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport default (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={(props.sampleIndex || 0) + currentSampleIndex}\n        type=\"transcribe\"\n        audio={props.taskData[currentSampleIndex].audioUrl}\n        phraseBank={props.phraseBank}\n        initialTranscriptionText={\n          (props.taskOutput || [])[currentSampleIndex] || \"\"\n        }\n        onFinish={(result) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n","import React, { useState } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\n\nexport const DataEntry = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const form =\n    props.taskData[currentSampleIndex].surveyjs || props.interface.surveyjs\n  if (!form)\n    throw new Error(\"No survey/form created. Try adding some inputs in Setup\")\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Survey\n        key={(props.sampleIndex || 0) + currentSampleIndex}\n        variant=\"flat\"\n        form={form}\n        defaultAnswers={\n          props.taskOutput && props.taskOutput[currentSampleIndex]\n            ? props.taskOutput[currentSampleIndex]\n            : undefined\n        }\n        completeText=\"Save & Next\"\n        onFinish={(answers) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, answers)\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default DataEntry\n","// @flow\n\nimport React from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  root: {\n    padding: 50,\n    textAlign: \"center\",\n  },\n  title: {\n    margin: 50,\n  },\n  explain: {},\n})\n\nexport default ({ title, description, children }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      <Typography variant=\"h4\" component=\"div\" className={c.title}>\n        {title}\n      </Typography>\n      <Typography variant=\"h6\" component=\"div\" className={c.explain}>\n        {description || children}\n      </Typography>\n    </div>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport BadOHA from \"../BadOHA\"\n\nexport default () => {\n  return (\n    <BadOHA title=\"No Samples to Show\">\n      Make sure that <code>taskData</code> is defined and not empty.\n      <br />\n      <br />\n      Need help setting up? <a href=\"#\">Check out this tutorial.</a>\n    </BadOHA>\n  )\n}\n","import React from \"react\"\n\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport OndemandVideo from \"@material-ui/icons/OndemandVideo\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Help from \"@material-ui/icons/Help\"\nimport ThreeDRotation from \"@material-ui/icons/ThreeDRotation\"\n\nexport default ({ type, ...props }) => {\n  switch (type) {\n    case \"image_label\":\n    case \"image_segmentation\":\n      return <RemoveRedEye {...props} />\n    case \"audio_transcription\":\n      return <Audiotrack {...props} />\n    case \"data_entry\":\n      return <Edit {...props} />\n    case \"text_entity_recognition\":\n      return <TextFormat {...props} />\n    case \"3d_bounding_box\":\n      return <ThreeDRotation {...props} />\n    default:\n      return <Help {...props} />\n  }\n}\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport InterfaceIcon from \"../InterfaceIcon\"\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport Box from \"@material-ui/core/Box\"\nimport NextIcon from \"@material-ui/icons/KeyboardArrowRight\"\n\nconst Title = styled(\"div\")({\n  fontSize: 18,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n  borderBottom: `1px solid ${colors.grey[300]}`,\n  paddingBottom: 8,\n  marginBottom: 8,\n  paddingLeft: 8,\n})\nconst StyledButton = styled(Button)({\n  display: \"flex\",\n  textAlign: \"left\",\n  justifyContent: \"flex-start\",\n  marginTop: 8,\n})\n\nexport const Composite = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const {\n    interface: { fields },\n  } = props\n  const [selectedField, changeSelectedField] = useState()\n  const [taskOutput, changeTaskOutput] = useState(props.taskOutput)\n\n  if (!fields) throw new Error(\"No fields defined. Try adding a field in Setup\")\n\n  if (selectedField) {\n    return (\n      <UniversalDataViewer\n        oha={{\n          interface: selectedField.interface,\n          taskOutput: [\n            props.taskOutput\n              ? (props.taskOutput[currentSampleIndex] || {})[\n                  selectedField.fieldName\n                ]\n              : null,\n          ],\n          taskData: [props.taskData[currentSampleIndex]],\n        }}\n        onSaveTaskOutputItem={(indexZero, output) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            ...(props.taskOutput ? props.taskOutput[currentSampleIndex] : {}),\n            [selectedField.fieldName]: output,\n          })\n          changeSelectedField(null)\n        }}\n      />\n    )\n  }\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Title>Fields</Title>\n      {fields.map((field, index) => (\n        <StyledButton\n          key={field.fieldName}\n          onClick={() => {\n            changeSelectedField({ ...field, index })\n          }}\n          fullWidth\n          variant=\"outlined\"\n        >\n          <InterfaceIcon\n            style={{ color: colors.grey[500], marginRight: 16 }}\n            type={field.interface.type}\n          />\n          {field.fieldName}\n          <Box flexGrow={1} />\n          <Checkbox\n            checked={Boolean(\n              (props.taskOutput\n                ? props.taskOutput[currentSampleIndex] || {}\n                : {})[field.fieldName]\n            )}\n          />\n          <KeyboardArrowRightIcon />\n        </StyledButton>\n      ))}\n      <StyledButton\n        onClick={() => props.containerProps.onExit(\"go-to-next\")}\n        fullWidth\n        variant=\"outlined\"\n      >\n        <KeyboardArrowRightIcon\n          style={{ color: colors.grey[500], marginRight: 16 }}\n        />\n        Next\n        <Box flexGrow={1} />\n        <Box height=\"42px\" />\n        <KeyboardArrowRightIcon />\n      </StyledButton>\n    </SampleContainer>\n  )\n}\n\nexport default Composite\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport TextClassification from \"../TextClassification\"\nimport TextEntityRecognition from \"../TextEntityRecognition\"\nimport ImageSegmentation from \"../ImageSegmentation\"\nimport ImageClassification from \"../ImageClassification\"\nimport VideoSegmentation from \"../VideoSegmentation\"\nimport AudioTranscription from \"../AudioTranscription\"\nimport DataEntry from \"../DataEntry\"\nimport EmptySampleContainer from \"../EmptySampleContainer\"\nimport Composite from \"../Composite\"\nimport BadOHA from \"../BadOHA\"\nimport Button from \"@material-ui/core/Button\"\n\nexport const UniversalDataViewer = ({\n  oha,\n  onExit,\n  hideHeader,\n  hideDescription,\n  datasetName,\n  requireCompleteToPressNext,\n  onSaveTaskOutputItem,\n  height,\n  onClickSetup,\n}) => {\n  // TODO type check w/ superstruct against oha\n  const containerProps = useMemo(\n    () => ({\n      hideHeader,\n      hideDescription,\n      datasetName,\n      requireCompleteToPressNext,\n      onExit,\n      height,\n    }),\n    [\n      hideHeader,\n      hideDescription,\n      requireCompleteToPressNext,\n      datasetName,\n      height,\n      onExit,\n    ]\n  )\n\n  if (!oha || !oha.interface.type) {\n    return (\n      <BadOHA\n        title=\"Set up your project to begin labeling\"\n        description={\n          <p>\n            This interface hasn't been set up properly, try selecting an\n            interface in the \"Setup\" tab.\n            <br />\n            <br />\n            <Button color=\"primary\" variant=\"contained\" onClick={onClickSetup}>\n              Setup Project\n            </Button>\n          </p>\n        }\n      />\n    )\n  }\n\n  if (!oha.taskData || oha.taskData.length === 0) {\n    return <EmptySampleContainer />\n  }\n\n  switch (oha.interface.type) {\n    case \"data_entry\":\n      return (\n        <DataEntry\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"text_classification\":\n      return (\n        <TextClassification\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"text_entity_recognition\":\n      return (\n        <TextEntityRecognition\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"image_segmentation\":\n      return (\n        <ImageSegmentation\n          containerProps={containerProps}\n          {...oha}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"image_classification\":\n      return (\n        <ImageClassification\n          containerProps={containerProps}\n          {...oha}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"video_segmentation\":\n      return (\n        <VideoSegmentation\n          containerProps={containerProps}\n          {...oha}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"composite\":\n      return (\n        <Composite\n          containerProps={containerProps}\n          {...oha}\n          oha={oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"audio_transcription\":\n      return (\n        <AudioTranscription\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    default:\n      return `\"${oha.interface.type}\" not supported`\n  }\n}\n\nexport default UniversalDataViewer\n","// @flow\nimport React, { useState, useEffect } from \"react\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  textField: {\n    marginLeft: 8,\n  },\n})\n\nconst SAVE_WAIT = 2000\n\nexport default ({ value, onChange }) => {\n  const c = useStyles()\n  const [{ editing, newValue }, changeEditing] = useState({\n    editing: false,\n    newValue: value || \"\",\n  })\n\n  useEffect(() => {\n    changeEditing({ editing, newValue: value })\n  }, [value])\n\n  useEffect(() => {\n    if (!editing) return\n    let listener = (e) => {\n      if (e.key === \"Enter\") {\n        onChange(newValue)\n        changeEditing({ editing: false })\n      }\n    }\n    window.addEventListener(\"keydown\", listener)\n    return () => {\n      window.removeEventListener(\"keydown\", listener)\n    }\n  }, [editing, newValue])\n\n  useEffect(() => {\n    if (!newValue) return\n    if (editing) {\n      let timeout = setTimeout(\n        () => {\n          onChange(newValue)\n          changeEditing({ editing: false })\n        },\n        value === newValue ? SAVE_WAIT * 5 : SAVE_WAIT\n      )\n\n      return () => clearTimeout(timeout)\n    } else {\n      return () => {}\n    }\n  }, [editing, newValue])\n\n  return (\n    <TextField\n      className={c.textField}\n      label=\"File Name\"\n      variant=\"outlined\"\n      size=\"small\"\n      InputProps={{\n        inputProps: { style: { color: \"#000\" } },\n      }}\n      onKeyDown={(e) => {\n        if (e.key === \"Enter\") {\n          e.preventDefault()\n          e.stopPropagation()\n          e.target.blur()\n        }\n      }}\n      onKeyPress={(e) => {\n        e.stopPropagation()\n      }}\n      onChange={(e) => {\n        changeEditing({\n          editing: true,\n          newValue: e.target.value,\n        })\n      }}\n      value={newValue || \"\"}\n    />\n  )\n}\n","// @flow weak\n\nimport React, { memo, useCallback, useReducer, useEffect } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport { useLocalStorage } from \"react-use\"\nimport { styled } from \"@material-ui/core/styles\"\nimport range from \"lodash/range\"\nimport * as colors from \"@material-ui/core/colors\"\nimport classNames from \"classnames\"\nimport TablePagination from \"@material-ui/core/TablePagination\"\nimport getBrushColorPalette from \"../../utils/get-brush-color-palette\"\n\nconst Container = styled(\"div\")({\n  flexWrap: \"wrap\",\n})\nconst EmptyState = styled(\"div\")({\n  fontSize: 24,\n  color: colors.grey[500],\n  padding: 30,\n  textAlign: \"center\",\n})\nconst SampleDiv = styled(\"div\")(({ color }) => ({\n  margin: 4,\n  padding: 4,\n  backgroundColor: color[500],\n  display: \"inline-flex\",\n  fontSize: 11,\n  textAlign: \"center\",\n  justifyContent: \"center\",\n  minWidth: \"3em\",\n  borderRadius: 3,\n  cursor: \"pointer\",\n  userSelect: \"none\",\n  transition: \"box-shadow 200ms ease, transform 200ms ease\",\n  color: color.isFaded ? \"#000\" : \"#fff\",\n  \"&.selected\": {\n    boxShadow: `0px 0px 2px 1px ${color[\"A200\"]}`,\n    transform: \"scale(1.05,1.05)\",\n  },\n}))\n\nconst Sample = memo(\n  ({\n    index,\n    onClick,\n    completed,\n    selected,\n    onMouseDown,\n    onMouseUp,\n    onMouseEnter,\n    brush,\n  }) => {\n    return (\n      <SampleDiv\n        className={classNames({ completed, selected })}\n        onClick={() => onClick(index)}\n        onMouseDown={() => onMouseDown(index)}\n        onMouseUp={() => onMouseUp(index)}\n        onMouseEnter={() => onMouseEnter(index)}\n        color={getBrushColorPalette(brush)}\n      >\n        {index}\n      </SampleDiv>\n    )\n  },\n  function (p, n) {\n    return (\n      p.index === n.index &&\n      p.completed === n.completed &&\n      p.selected === n.selected &&\n      p.brush === n.brush\n    )\n  }\n)\n\nexport default ({ count, completed = [], taskData, onClick }) => {\n  const [samplesPerPage, changeSamplesPerPage] = useLocalStorage(\n    \"samplesPerPage\",\n    100\n  )\n  const [sampleOffset, changeSampleOffset] = useLocalStorage(\"sampleOffset\", 0)\n\n  useEffect(() => {\n    if (sampleOffset > count) {\n      changeSampleOffset(0)\n    }\n  }, [])\n\n  const [selectRange, changeSelectRange] = useReducer((state, newValue) => {\n    if (newValue === null) return null\n    if (typeof newValue === \"number\") {\n      if (!state) return null\n      return [Math.min(newValue, state[0]), Math.max(newValue + 1, state[1])]\n    }\n    return newValue\n  }, null)\n\n  const startSelectRange = useCallback(\n    (index) => changeSelectRange([index, index + 1]),\n    [changeSelectRange]\n  )\n  const moveSelectRange = useCallback((index) => changeSelectRange(index), [\n    changeSelectRange,\n  ])\n  const endSelectRange = useCallback(() => {}, [changeSelectRange])\n  const checkAndNullifySelectRange = useCallback(\n    (e) => {\n      if (e.buttons !== 1) {\n        changeSelectRange(null)\n      }\n    },\n    [changeSelectRange]\n  )\n  const onClickMemo = useEventCallback(onClick)\n\n  return (\n    <Container\n      onMouseUp={checkAndNullifySelectRange}\n      onMouseEnter={checkAndNullifySelectRange}\n    >\n      {count === 0 && (\n        <EmptyState>\n          No samples, try using \"Import Toy Dataset\" in Samples > Import\n        </EmptyState>\n      )}\n      {range(sampleOffset, Math.min(count, sampleOffset + samplesPerPage)).map(\n        (i) => (\n          <Sample\n            onClick={onClickMemo}\n            key={i}\n            index={i}\n            completed={completed[i]}\n            brush={\n              completed[i] ? taskData[i].brush || \"complete\" : \"incomplete\"\n            }\n            selected={selectRange && i >= selectRange[0] && i < selectRange[1]}\n            onMouseDown={startSelectRange}\n            onMouseEnter={moveSelectRange}\n            onMouseUp={endSelectRange}\n          />\n        )\n      )}\n      <TablePagination\n        rowsPerPageOptions={[100, 250, 500, 1000, 2000, 10000]}\n        component=\"div\"\n        count={count}\n        rowsPerPage={samplesPerPage}\n        page={Math.floor(sampleOffset / samplesPerPage)}\n        labelRowsPerPage=\"Samples per Page:\"\n        onChangePage={(e, newPage) =>\n          changeSampleOffset(newPage * samplesPerPage)\n        }\n        onChangeRowsPerPage={(e) => changeSamplesPerPage(+e.target.value)}\n      />\n    </Container>\n  )\n}\n","// @flow weak\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Select from \"react-select\"\n\nconst SelectContainer = styled(\"div\")({\n  marginTop: 8,\n  marginBottom: 16,\n})\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\n\nconst autoDetectOptions = [\n  {\n    label: \"Auto Detect File Type\",\n    value: \"auto_detect\",\n  },\n  {\n    label: \"Image URLs\",\n    value: \"images\",\n  },\n]\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const [content, changeContent] = useState(\"\")\n  const [urlType, changeURLType] = useState(\"auto_detect\")\n  return (\n    <SimpleDialog\n      title=\"Paste Urls\"\n      open={open}\n      onClose={onClose}\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            onAddSamples(\n              content\n                .split(\"\\n\")\n                .map((l) => l.trim())\n                .filter(Boolean)\n                .map((s) => {\n                  if (urlType === \"images\") {\n                    return { imageUrl: s }\n                  }\n                  let extension = s.replace(/\\?.*/g, \"\").split(\".\").slice(-1)[0]\n                  if (s.includes(\"gstatic.com/images\")) {\n                    extension = \"jpg\"\n                  }\n                  switch (extension.toLowerCase()) {\n                    case \"png\":\n                    case \"jpg\":\n                    case \"gif\":\n                    case \"jpeg\":\n                    case \"bmp\": {\n                      return { imageUrl: s }\n                    }\n                    case \"pdf\": {\n                      return { pdfUrl: s }\n                    }\n                    case \"mp3\":\n                    case \"wav\": {\n                      return { audioUrl: s }\n                    }\n                    default: {\n                      // TODO throw error or toast\n                      console.error(\"extension not recognized\")\n                      return null\n                    }\n                  }\n                })\n                .filter(Boolean)\n            )\n          },\n        },\n      ]}\n    >\n      <SelectContainer>\n        <Select\n          options={autoDetectOptions}\n          defaultValue={autoDetectOptions[0]}\n          onChange={(opt) => {\n            changeURLType(opt.value)\n          }}\n        />\n      </SelectContainer>\n      <TextArea\n        onChange={(e, v) => changeContent(e.target.value)}\n        placeholder={\"Paste URLs here\\nOne URL per line\"}\n      />\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useEventCallback from \"use-event-callback\"\nimport { useDropzone } from \"react-dropzone\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\n\nconst UploadHover = styled(\"div\")({\n  fontSize: 24,\n  color: colors.grey[600],\n  textAlign: \"center\",\n  padding: 48,\n})\n\nconst emptyFunc = () => null\n\nexport default ({ content, onChangeContent, placeholder }) => {\n  const onDrop = useEventCallback((acceptedFiles) => {\n    const { name: fileName } = acceptedFiles[0]\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      const fileContent = e.target.result\n      onChangeContent(fileContent)\n    }\n    reader.readAsText(acceptedFiles[0])\n  })\n\n  const [lastClickTime, changeLastClickTime] = useState(0)\n  const onClick = useEventCallback((e) => {\n    if (Date.now() - lastClickTime < 400) {\n      getRootProps().onClick(e)\n    }\n    changeLastClickTime(Date.now())\n  })\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  return (\n    <div {...getRootProps()} onClick={emptyFunc}>\n      <input {...getInputProps()} />\n      {isDragActive ? (\n        <UploadHover>Drop the text or csv file here.</UploadHover>\n      ) : (\n        <TextArea\n          value={content}\n          onChange={(e, v) => onChangeContent(e.target.value)}\n          onClick={onClick}\n          placeholder={placeholder}\n        />\n      )}\n    </div>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport TextAreaWithUpload from \"../TextAreaWithUpload\"\n\nconst ImportTextSnippetsDialog = ({ open, onClose, onAddSamples }) => {\n  const [content, changeContent] = useState(\"\")\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Import Text Snippets\"\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            onAddSamples(\n              content\n                .split(\"\\n\")\n                .map((l) => l.trim())\n                .filter(Boolean)\n                .map((s) => ({ document: s }))\n            )\n          },\n        },\n      ]}\n    >\n      <TextAreaWithUpload\n        content={content}\n        onChangeContent={changeContent}\n        placeholder={\n          \"Paste Snippets here\\nOne snippet per line.\\n\\nYou can also drag a text or csv file here (double click to open file dialog)\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n\nexport default ImportTextSnippetsDialog\n","import React, { useState, useEffect, useRef } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Button from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\n\nconst ExplainText = styled(\"div\")({\n  marginTop: 8,\n  marginBottom: 8,\n})\nconst GoogleDriveScreenshot = styled(\"img\")({\n  width: \"100%\",\n  boxSizing: \"border-box\",\n})\n\n// Example for Google OAuth\n// https://developers.google.com/drive/api/v3/picker\n\nconst credentials = {\n  web: {\n    client_id:\n      process.env.REACT_APP_GOOGLE_DRIVE_CLIENT_ID ||\n      \"294393711342-h5aqqt3pvn8othepvsmi16iakdhi7m6j.apps.googleusercontent.com\",\n    app_id: process.env.REACT_APP_GOOGLE_DRIVE_APP_ID || \"294393711342\",\n    developer_key:\n      process.env.REACT_APP_GOOGLE_DRIVE_DEVELOPER_KEY ||\n      \"AIzaSyCoNoDnfzDBSXpt84Q75LU9UMTzvyLkRhg\",\n  },\n}\n\nconst scope = \"https://www.googleapis.com/auth/drive.readonly\"\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const [googleScriptLoaded, setGoogleScriptLoaded] = useState(false)\n  const [pickerApiLoaded, setPickerApiLoaded] = useState(false)\n  const [oauthToken, setOAuthToken] = useState(null)\n  const [userSelectedItemsFromDrive, setUserSelectedItemsFromDrive] = useState(\n    []\n  )\n  const [isPickerOpen, setIsPickerOpen] = useState(false)\n\n  useEffect(() => {\n    const scriptElement = document.createElement(\"script\")\n    scriptElement.src = \"https://apis.google.com/js/api.js\"\n    scriptElement.async = true\n\n    scriptElement.onload = () => {\n      setGoogleScriptLoaded(true)\n    }\n\n    document.body.appendChild(scriptElement)\n    return () => {\n      scriptElement.remove()\n    }\n  }, [])\n\n  const googlePickerActionCallback = (data) => {\n    if (data.action === window.google.picker.Action.PICKED) {\n      setUserSelectedItemsFromDrive(\n        data.docs.map((googleDriveDocument) => ({\n          url: googleDriveDocument.url,\n          mimeType: googleDriveDocument.mimeType,\n          name: googleDriveDocument.name,\n          id: googleDriveDocument.id,\n        }))\n      )\n      setIsPickerOpen(false)\n    } else if (data.action === \"cancel\") {\n      onClose()\n    }\n  }\n\n  const createPicker = () => {\n    if (pickerApiLoaded && oauthToken) {\n      const view = new window.google.picker.View(\n        window.google.picker.ViewId.Docs\n      )\n\n      view.setMimeTypes(\n        \"image/png\",\n        \"image/jpeg\",\n        \"image/jpg\",\n        \"image/gif\",\n        \"video/mp4\",\n        \"video/mpeg\"\n      )\n      const picker = new window.google.picker.PickerBuilder()\n        .enableFeature(window.google.picker.Feature.NAV_HIDDEN)\n        .enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED)\n        .setAppId(credentials.web.app_id)\n        .setOAuthToken(oauthToken)\n        .addView(view)\n        .addView(window.google.picker.ViewId.DOCS)\n        .setDeveloperKey(credentials.web.developer_key)\n        .setCallback(googlePickerActionCallback)\n        .build()\n      picker.setVisible(true)\n      setIsPickerOpen(true)\n    }\n  }\n\n  useEffect(() => {\n    createPicker()\n  }, [pickerApiLoaded, oauthToken])\n\n  const handleAuthenticationResponse = (authenticationResponse) => {\n    if (authenticationResponse && !authenticationResponse.error) {\n      setOAuthToken(authenticationResponse.access_token)\n      createPicker()\n    }\n  }\n\n  const onAuthApiLoad = () => {\n    window.gapi.auth.authorize(\n      {\n        client_id: credentials.web.client_id,\n        scope: scope,\n        immediate: false,\n      },\n      handleAuthenticationResponse\n    )\n  }\n\n  const onPickerApiLoad = () => {\n    setPickerApiLoaded(true)\n    createPicker()\n  }\n\n  const onLoadPicker = () => {\n    if (googleScriptLoaded === true) {\n      window.gapi.load(\"auth\", { callback: onAuthApiLoad })\n      window.gapi.load(\"picker\", { callback: onPickerApiLoad })\n    }\n  }\n\n  const onAddSamplesClicked = () => {\n    const samples = []\n    for (const item of userSelectedItemsFromDrive) {\n      if (item.mimeType.includes(\"image/\")) {\n        samples.push({ imageUrl: `https://drive.google.com/uc?id=${item.id}` })\n      } else if (item.mimeType.includes(\"video/\")) {\n        samples.push({ videoUrl: `https://drive.google.com/uc?id=${item.id}` })\n      }\n    }\n    onAddSamples(samples)\n  }\n\n  useEffect(() => {\n    if (open) {\n      onLoadPicker()\n    }\n  }, [open, googleScriptLoaded])\n\n  return (\n    <SimpleDialog\n      open={open && !isPickerOpen}\n      onClose={onClose}\n      title=\"Import from Google Drive\"\n      actions={[\n        userSelectedItemsFromDrive &&\n          userSelectedItemsFromDrive.length > 0 && {\n            text: `Add ${userSelectedItemsFromDrive.length} Samples`,\n            onClick: onAddSamplesClicked,\n          },\n      ].filter(Boolean)}\n    >\n      <Button variant=\"outlined\" onClick={onLoadPicker}>\n        Reopen Google Drive Picker\n      </Button>\n      <ExplainText>\n        Make sure your Google Drive files are available via a link.{\" \"}\n        <b>If you don't, the files will not appear when you're labeling!</b>\n      </ExplainText>\n      <GoogleDriveScreenshot\n        src={\n          \"https://s3.amazonaws.com/asset.workaround.online/google-share-screenshot.png\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState, useEffect } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport TextAreaWithUpload from \"../TextAreaWithUpload\"\nimport * as colors from \"@material-ui/core/colors\"\nimport fromUDTCSV from \"../../utils/from-udt-csv.js\"\n\nconst InfoText = styled(\"div\")({\n  fontFamily: \"Inter\",\n  marginBottom: 20,\n  \"& a\": {\n    color: colors.blue[500],\n  },\n})\n\nconst Error = styled(\"div\")({\n  color: colors.red[500],\n  whiteSpace: \"pre-wrap\",\n  marginBottom: 20,\n})\n\nconst ImportUDTFileDialog = ({ open, onClose, onAddSamples }) => {\n  const [error, changeError] = useState(null)\n  const [content, setContent] = useState(\"\")\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Import JSON/CSV Samples\"\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            changeError(null)\n            let taskData, taskOutput\n            try {\n              ;[taskData, taskOutput] = JSON.parse(content).taskData\n            } catch (e1) {\n              try {\n                const udt = fromUDTCSV(content)\n                ;({ taskData, taskOutput } = udt)\n              } catch (e2) {\n                console.log({\n                  message: \"CSV/JSON Error Stacks\",\n                  jsonError: e1.stack,\n                  csvError: e2.stack,\n                })\n                changeError(\n                  `JSON did not parse. CSV did not parse.\\n\\nJSON Error: ${e1.toString()}\\nCSV Error: ${e2.toString()}`\n                )\n                return\n              }\n            }\n            if (!taskData || taskData.length === 0) {\n              changeError(\"No task data found\")\n              return\n            }\n            onAddSamples(taskData, taskOutput)\n          },\n        },\n      ]}\n    >\n      <InfoText>\n        See the{\" \"}\n        <a\n          target=\"_blank\"\n          href=\"https://github.com/UniversalDataTool/udt-format\"\n        >\n          UDT JSON format\n        </a>{\" \"}\n        or the{\" \"}\n        <a\n          target=\"_blank\"\n          href=\"https://github.com/UniversalDataTool/udt-format\"\n        >\n          UDT CSV format\n        </a>{\" \"}\n        for formatting details. Or take a look at a{\" \"}\n        <a\n          target=\"_blank\"\n          href=\"https://github.com/UniversalDataTool/udt-format/blob/master/SAMPLE.udt.json\"\n        >\n          sample JSON\n        </a>{\" \"}\n        or{\" \"}\n        <a\n          target=\"_blank\"\n          href=\"https://github.com/UniversalDataTool/udt-format/blob/master/SAMPLE.udt.csv\"\n        >\n          sample CSV\n        </a>{\" \"}\n        file.\n      </InfoText>\n      <Error>{error}</Error>\n      <TextAreaWithUpload\n        content={content}\n        onChangeContent={setContent}\n        placeholder={\n          \"Paste CSV/JSON here. The file should be in the UDT JSON/CSV format.\\n\\nYou can also drag a json or csv file here (double click to open file dialog)\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n\nexport default ImportUDTFileDialog\n","// @flow weak\n\nimport React from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport Table from \"@material-ui/core/Table\"\nimport TableBody from \"@material-ui/core/TableBody\"\nimport TableCell from \"@material-ui/core/TableCell\"\nimport TableContainer from \"@material-ui/core/TableContainer\"\nimport TableHead from \"@material-ui/core/TableHead\"\nimport TableRow from \"@material-ui/core/TableRow\"\n\nconst datasets = [\n  { name: \"Elon Musk Tweets\", type: \"text\", size: 2800 },\n  { name: \"Cats\", type: \"image\", size: 360 },\n  { name: \"VR Hand Pinching\", type: \"image\", size: 20517 },\n  { name: \"AI Generated Faces\", type: \"image\", size: 1999 },\n  { name: \"Text to Speech Audio\", type: \"audio\", size: 200 },\n]\n\nasync function getSamples(dataset) {\n  const datasetName =\n    dataset.name.toLowerCase().replace(/ /g, \"_\") + \".udt.json\"\n\n  const datasetUrl = `https://s3.amazonaws.com/datasets.workaround.online/${datasetName}`\n\n  return await fetch(datasetUrl)\n    .then((r) => r.json())\n    .then((r) => r.taskData)\n}\n\nconst StyledButton = styled(Button)({})\n\nconst ImportToyDatasetDialog = ({ onClose, onAddSamples, open }) => {\n  return (\n    <SimpleDialog onClose={onClose} open={open} title=\"Import Toy Dataset\">\n      <TableContainer>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell>Type</TableCell>\n              <TableCell>Size</TableCell>\n              <TableCell>Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {datasets.map((dataset) => (\n              <TableRow key={dataset.name}>\n                <TableCell>{dataset.name}</TableCell>\n                <TableCell>{dataset.type}</TableCell>\n                <TableCell>{dataset.size}</TableCell>\n                <TableCell>\n                  <StyledButton\n                    onClick={async () => {\n                      onAddSamples(await getSamples(dataset))\n                    }}\n                    variant=\"outlined\"\n                  >\n                    Import\n                  </StyledButton>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </SimpleDialog>\n  )\n}\n\nexport default ImportToyDatasetDialog\n","const idify = (s) =>\n  s\n    .toLowerCase()\n    .replace(/[^a-z0-9]/g, \"_\")\n    .replace(/_+/g, \"_\")\n\nexport default ({\n  youtubeUrl,\n  title: videoTitle,\n  remote,\n  videoQuality,\n  downloadPath,\n  onProgress,\n  onComplete,\n  onChangeOverallProgress,\n}) => {\n  let starttime = Date.now()\n\n  const ytdl = remote.require(\"ytdl-core\")\n  const path = remote.require(\"path\")\n\n  const videoName = videoQuality.includes(\"audio\")\n    ? `${idify(videoTitle) + \".mp3\"}`\n    : `${idify(videoTitle) + \".mp4\"}`\n\n  const fullVideoPath = path.join(downloadPath, videoName)\n  const writableVideoFile = remote\n    .require(\"fs\")\n    .createWriteStream(fullVideoPath)\n\n  const videoFormat = videoName.endsWith(\".mp3\") ? \"audio/mp3\" : \"video/mp4\"\n\n  const youtubeVideoWithOptions = ytdl(youtubeUrl, {\n    format: videoFormat,\n    quality: videoQuality !== null ? videoQuality : \"highest\",\n  })\n\n  youtubeVideoWithOptions.pipe(writableVideoFile)\n\n  youtubeVideoWithOptions.once(\"response\", () => {\n    starttime = Date.now()\n  })\n\n  youtubeVideoWithOptions.on(\"progress\", (chunkLength, downloaded, total) => {\n    const percent = downloaded / total\n    // const downloadedMinutes = (Date.now() - starttime) / 1000 / 60\n\n    // const downloadedPercentage = (percent * 100).toFixed(2)\n    // const downloadedSize = (downloaded / 1024 / 1024).toFixed(2)\n    // const downloadedMBs = (\n    //   downloaded /\n    //   1024 /\n    //   1024\n    // ).toFixed(2)\n    // const totalSize = (total / 1024 / 1024).toFixed(2)\n    // const informationText = `${downloadedPercentage}% downloaded (${downloadedMBs}MB of ${totalSize}MB)\\nestimated time left: ${(downloadedMinutes / percent -downloadedMinutes).toFixed(2)}minutes`\n\n    onProgress({\n      progress: percent * 100,\n    })\n\n    onChangeOverallProgress(percent * 100)\n  })\n\n  youtubeVideoWithOptions.on(\"end\", () => onComplete(fullVideoPath))\n\n  return {\n    cancel: () => {\n      youtubeVideoWithOptions.destroy()\n    },\n  }\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  height: 36,\n  width: \"100%\",\n  boxSizing: \"border-box\",\n  position: \"relative\",\n  marginTop: 8,\n  marginBottom: 8,\n  backgroundColor: colors.blue[50],\n})\nconst Text = styled(\"div\")({\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  paddingTop: 4,\n  fontSize: 18,\n  textAlign: \"center\",\n  fontWeight: \"bold\",\n})\nconst Bar = styled(\"div\")({\n  position: \"absolute\",\n  left: 0,\n  bottom: 0,\n  top: 0,\n  backgroundColor: colors.blue[300],\n})\n\nexport default ({ progress }) => {\n  return (\n    <Container>\n      <Bar style={{ right: 100 - progress + \"%\" }} />\n      <Text>{Math.floor(progress)}%</Text>\n    </Container>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ProgressBar from \"../ProgressBar\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\n\nconst ProgressContainer = styled(\"div\")({\n  width: \"100%\",\n  height: \"100%\",\n})\n\nconst TotalPercentageWrapper = styled(\"div\")({\n  flexDirection: \"row\",\n  width: \"100%\",\n  display: \"flex\",\n  justifyContent: \"space-between\",\n})\n\nconst Progress = ({ unitProgress, overallProgress, completedVideoTitles }) => {\n  return (\n    <ProgressContainer>\n      <ProgressBar progress={overallProgress} />\n      <ProgressBar progress={unitProgress.progress} />\n\n      <h3>Downloading: {unitProgress.title}</h3>\n      <ExpansionPanel>\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n          <TotalPercentageWrapper>\n            <h3>Downloaded Video Titles</h3>\n          </TotalPercentageWrapper>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <ul>\n            {completedVideoTitles && completedVideoTitles.length > 0\n              ? completedVideoTitles\n              : null}\n          </ul>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    </ProgressContainer>\n  )\n}\n\nexport default Progress\n","const getYoutubeVideoInformation = async (\n  remote,\n  splittedURLsArray,\n  progressCallback = () => null\n) => {\n  const ytdl = remote.require(\"ytdl-core\")\n  const checkedVideos = []\n  if (splittedURLsArray.length > 0) {\n    for (let i = 0; i < splittedURLsArray.length; i++) {\n      const url = splittedURLsArray[i]\n      const video = await new Promise((resolve, reject) => {\n        ytdl.getBasicInfo(url, (err, info) => {\n          if (info && !err) {\n            resolve({\n              url,\n              title: info.title,\n            })\n          } else {\n            const errorText = `Error with video at \"${url}\"\\n\\n${err.toString()}`\n            reject(new Error(errorText))\n          }\n        })\n      })\n      checkedVideos.push(video)\n      progressCallback({\n        progress: (i / (splittedURLsArray.length - 1)) * 100,\n        text: \"Inspecting Video Information...\",\n      })\n    }\n  }\n  return checkedVideos\n}\n\nexport default getYoutubeVideoInformation\n","const splitURLsFromTextArea = (stringURLs) => {\n  const urlsHasHTTPS = []\n  const splittedURLsByNewLines = stringURLs.split(\"\\n\")\n  for (const url of splittedURLsByNewLines) {\n    if (url.includes(\"https://\")) {\n      urlsHasHTTPS.push(url)\n    }\n  }\n  return urlsHasHTTPS\n}\n\nexport default splitURLsFromTextArea\n","import React, { useState, useRef } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport useElectron from \"../../utils/use-electron\"\nimport Select from \"react-select\"\nimport downloadYoutubeVideo from \"./download-youtube-video\"\nimport Progress from \"./progress\"\nimport getYoutubeVideoInformation from \"./get-youtube-video-information\"\nimport splitURLsFromTextArea from \"./split-urls-from-text-area\"\n\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\n\nconst SelectVideoQualityHeader = styled(\"h3\")({\n  lineHeight: 0,\n  textAlign: \"center\",\n})\n\nconst SelectVideoQuality = styled(\"div\")({\n  width: \"100%\",\n  marginBottom: 8,\n  paddingBottom: 4,\n})\n\nconst ErrorText = styled(\"pre\")({\n  whiteSpace: \"pre-wrap\",\n  color: \"#f00\",\n})\n\nconst LoadingText = styled(\"h2\")({\n  width: \"100%\",\n  height: \"100%\",\n  margin: \"auto auto\",\n  textAlign: \"center\",\n})\n\nconst CompletedVideoTitle = styled(\"h3\")({\n  textDecoration: \"line-through\",\n  lineHeight: 0,\n})\n\nconst qualityOptions = [\n  { value: \"136\", label: \"720p\" },\n  { value: \"135\", label: \"480p\" },\n  { value: \"lowestvideo\", label: \"Lowest Video Only\" },\n  // TODO these did not seem to work in a local test (missing video)\n  // { value: \"lowest\", label: \"lowest\" },\n  // { value: \"highest\", label: \"Highest\" },\n  { value: \"highestvideo\", label: \"Highest Video Only\" },\n  { value: \"lowestaudio\", label: \"Lowest Audio Only\" },\n  { value: \"highestaudio\", label: \"Highest Audio Only\" },\n]\n\nconst ImportFromYoutubeUrls = ({ open, onClose, onAddSamples }) => {\n  const { remote } = useElectron() || {}\n\n  const [urlsFromTextArea, setUrlsFromTextArea] = useState([])\n  const [videoQuality, setVideoQuality] = useState(qualityOptions[0].value)\n  const [downloadPath, setDownloadPath] = useState(null)\n  const [error, setError] = useState(null)\n\n  const [unitProgress, setUnitProgress] = useState({ progress: 0 })\n  const [overallProgress, setOverallProgress] = useState(0)\n  const [isDownloading, setIsDownloading] = useState(false)\n  const [completedVideoTitles, setCompletedVideoTitles] = useState(null)\n\n  const cancelRef = useRef()\n\n  const setDefaultState = async () => {\n    setUnitProgress({ progress: 0, title: \"\" })\n    setOverallProgress(0)\n    setIsDownloading(false)\n  }\n\n  const closeDialog = async () => {\n    await setDefaultState()\n    onClose()\n  }\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={closeDialog}\n      title=\"Import from Youtube URLs\"\n      actions={[\n        {\n          text: \"Cancel Downloads\",\n          disabled: !isDownloading,\n          onClick: () => {\n            cancelRef.current()\n            setIsDownloading(false)\n          },\n        },\n        {\n          text: \"Download Youtube URLs\",\n          onClick: async () => {\n            setIsDownloading(true)\n            const { canceled, filePaths } = await remote.dialog.showOpenDialog({\n              title: \"Directory to download files to\",\n              buttonLabel: \"Download Files Here\",\n              properties: [\n                \"createDirectory\",\n                \"openDirectory\",\n                \"promptToCreate\",\n              ],\n            })\n\n            if (canceled || !filePaths) return setIsDownloading(false)\n\n            const downloadPath = filePaths[0]\n            setDownloadPath(downloadPath)\n\n            const youtubeVideoInfos = await getYoutubeVideoInformation(\n              remote,\n              urlsFromTextArea,\n              ({ progress, text }) => {\n                setUnitProgress({ progress })\n              }\n            ).catch((errorMessage) => {\n              console.error(errorMessage.stack)\n              setError(errorMessage.toString())\n              return null\n            })\n            if (!youtubeVideoInfos) return setIsDownloading(false)\n\n            const completedVideoPaths = []\n            const completedVideoTitlesArray = []\n\n            const youtubeVideosCount = youtubeVideoInfos.length\n\n            for (let i = 0; i < youtubeVideosCount; i++) {\n              const youtubeVideoInfo = youtubeVideoInfos[i]\n              const videoPath = await new Promise((resolve, reject) => {\n                const { cancel } = downloadYoutubeVideo({\n                  remote,\n                  downloadPath,\n                  youtubeUrl: youtubeVideoInfo.url,\n                  title: youtubeVideoInfo.title,\n                  videoQuality,\n                  onChangeOverallProgress: (currentProgress) =>\n                    setOverallProgress(\n                      ((completedVideoTitlesArray.length * 100 +\n                        currentProgress) /\n                        (youtubeVideosCount * 100)) *\n                        100\n                    ),\n                  onProgress: ({ progress, text }) =>\n                    setUnitProgress({\n                      progress,\n                      title: youtubeVideoInfo.title,\n                      progressText: text,\n                    }),\n                  onComplete: (filePath) => resolve(filePath),\n                })\n                cancelRef.current = cancel\n              })\n\n              completedVideoTitlesArray.push(\n                <li key={i + youtubeVideoInfo.title}>\n                  <CompletedVideoTitle>\n                    {youtubeVideoInfo.title}\n                  </CompletedVideoTitle>\n                </li>\n              )\n              setCompletedVideoTitles(completedVideoTitlesArray)\n\n              completedVideoPaths.push(videoPath)\n            }\n\n            onAddSamples(\n              completedVideoPaths.map((videoPath) => ({\n                videoUrl: `file://${videoPath}`,\n              }))\n            )\n\n            setIsDownloading(false)\n          },\n          disabled: isDownloading,\n        },\n      ]}\n    >\n      {error && <ErrorText>{error}</ErrorText>}\n      {isDownloading &&\n      ((unitProgress && unitProgress.progress && unitProgress.progress > 0) ||\n        (completedVideoTitles &&\n          Array.isArray(completedVideoTitles) === true &&\n          completedVideoTitles.length > 0)) ? (\n        <Progress\n          unitProgress={unitProgress}\n          completedVideoTitles={completedVideoTitles}\n          overallProgress={overallProgress}\n        />\n      ) : isDownloading === true ? (\n        <LoadingText>Information is Loading</LoadingText>\n      ) : null}\n      {!isDownloading && (\n        <React.Fragment>\n          <SelectVideoQuality>\n            <SelectVideoQualityHeader>\n              Select Video Quality\n            </SelectVideoQualityHeader>\n            <Select\n              defaultValue={qualityOptions[0]}\n              options={qualityOptions}\n              onChange={({ value }) => setVideoQuality(value)}\n            />\n          </SelectVideoQuality>\n          <TextArea\n            onChange={(e, v) => {\n              setUrlsFromTextArea(splitURLsFromTextArea(e.target.value))\n            }}\n            placeholder={\"Paste Youtube URLs here\\nOne URL per line\"}\n          />\n        </React.Fragment>\n      )}\n    </SimpleDialog>\n  )\n}\n\nexport default ImportFromYoutubeUrls\n","// @flow weak\n\nimport React, { useState, useContext, createContext } from \"react\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport AssignmentReturnedIcon from \"@material-ui/icons/AssignmentReturned\"\nimport CreateNewFolderIcon from \"@material-ui/icons/CreateNewFolder\"\nimport TextFieldsIcon from \"@material-ui/icons/TextFields\"\nimport DescriptionIcon from \"@material-ui/icons/Description\"\nimport PetsIcon from \"@material-ui/icons/Pets\"\nimport * as colors from \"@material-ui/core/colors\"\nimport PasteUrlsDialog from \"../PasteUrlsDialog\"\nimport ImportTextSnippetsDialog from \"../ImportTextSnippetsDialog\"\nimport useIsDesktop from \"../../utils/use-is-desktop\"\nimport useElectron from \"../../utils/use-electron\"\nimport classnames from \"classnames\"\nimport { setIn } from \"seamless-immutable\"\nimport useEventCallback from \"use-event-callback\"\nimport ImportFromGoogleDriveDialog from \"../ImportFromGoogleDriveDialog\"\nimport ImportUDTFileDialog from \"../ImportUDTFileDialog\"\nimport ImportToyDataset from \"../ImportToyDatasetDialog\"\nimport ImportFromYoutubeUrls from \"../ImportFromYoutubeUrls\"\nimport { FaGoogleDrive, FaYoutube } from \"react-icons/fa\"\nimport usePosthog from \"../../utils/use-posthog\"\n\nconst extendWithNull = (ar, len) => {\n  ar = [...ar]\n  while (ar.length < len) {\n    ar.push(null)\n  }\n  return ar\n}\n\nconst ButtonBase = styled(MuiButton)({\n  width: 240,\n  height: 140,\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  \"&.disabled\": {\n    backgroundColor: colors.grey[200],\n  },\n  margin: 8,\n  \"& .icon\": {\n    width: 48,\n    height: 48,\n    color: colors.grey[600],\n    \"&.disabled\": {\n      color: colors.grey[400],\n    },\n  },\n})\n\nconst DesktopOnlyText = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  \"&.disabled\": {\n    color: colors.grey[500],\n  },\n})\n\nconst SelectDialogContext = createContext()\n\nconst Button = ({ Icon, desktopOnly, isDesktop, children, dialog }) => {\n  const posthog = usePosthog()\n  const disabled = desktopOnly ? !isDesktop : false\n  return (\n    <SelectDialogContext.Consumer>\n      {({ onChangeDialog }) => {\n        return (\n          <ButtonBase\n            onClick={() => {\n              posthog.capture(\"import_button_clicked\", {\n                import_button: dialog,\n              })\n              onChangeDialog(dialog)\n            }}\n            className={classnames({ disabled })}\n            variant=\"outlined\"\n            disabled={disabled}\n          >\n            <div>\n              <Icon className={classnames(\"icon\", { disabled })} />\n              <div>{children}</div>\n              {desktopOnly && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  DESKTOP ONLY\n                </DesktopOnlyText>\n              )}\n            </div>\n          </ButtonBase>\n        )\n      }}\n    </SelectDialogContext.Consumer>\n  )\n}\n\nconst convertToTaskDataObject = (fp) => {\n  const ext = fp.split(\".\").slice(-1)[0].toLowerCase()\n  if ([\"png\", \"jpg\", \"jpeg\"].includes(ext)) {\n    return { imageUrl: `file://${fp}` }\n  }\n  if ([\"pdf\"].includes(ext)) {\n    return { pdfUrl: `file://${fp}` }\n  }\n  if ([\"mp4\", \"webm\", \"mkv\"].includes(ext)) {\n    return { videoUrl: `file://${fp}` }\n  }\n  return null\n}\n\nexport default ({ oha, onChangeOHA, isDesktop }) => {\n  const [selectedDialog, changeDialog] = useState()\n  const electron = useElectron()\n  const onChangeDialog = async (dialog) => {\n    switch (dialog) {\n      case \"upload-directory\": {\n        if (!electron) return\n        const {\n          canceled,\n          filePaths: dirPaths,\n        } = await electron.remote.dialog.showOpenDialog({\n          title: \"Select Directory to Import Files\",\n          properties: [\"openDirectory\"],\n        })\n        if (canceled) return\n        const dirPath = dirPaths[0]\n        const fs = electron.remote.require(\"fs\")\n        const path = electron.remote.require(\"path\")\n        const importedFilePaths = (await fs.promises.readdir(dirPath))\n          .filter((fn) => fn.includes(\".\"))\n          .map((fileName) => path.join(dirPath, fileName))\n\n        onChangeOHA(\n          setIn(\n            oha,\n            [\"taskData\"],\n            (oha.taskData || []).concat(\n              importedFilePaths.map(convertToTaskDataObject).filter(Boolean)\n            )\n          ),\n          true\n        )\n        return\n      }\n      default: {\n        return changeDialog(dialog)\n      }\n    }\n  }\n  const closeDialog = () => changeDialog(null)\n  const onAddSamples = useEventCallback(\n    (appendedTaskData, appendedTaskOutput) => {\n      let newOHA = setIn(\n        oha,\n        [\"taskData\"],\n        (oha.taskData || []).concat(appendedTaskData)\n      )\n      if (appendedTaskOutput) {\n        newOHA = setIn(\n          newOHA,\n          [\"taskOutput\"],\n          extendWithNull(oha.taskOutput || [], oha.taskData.length).concat(\n            appendedTaskOutput\n          )\n        )\n      }\n      onChangeOHA(newOHA, true)\n      closeDialog()\n    }\n  )\n  return (\n    <SelectDialogContext.Provider value={{ onChangeDialog }}>\n      <div>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"paste-image-urls\"\n          Icon={AssignmentReturnedIcon}\n        >\n          Paste URLs\n        </Button>\n        <Button\n          desktopOnly\n          isDesktop={isDesktop}\n          dialog=\"upload-directory\"\n          Icon={CreateNewFolderIcon}\n        >\n          Files from Directory\n        </Button>\n        <Button dialog=\"import-text-snippets\" Icon={TextFieldsIcon}>\n          Import Text Snippets\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"import-toy-dataset\"\n          Icon={PetsIcon}\n        >\n          Import Toy Dataset\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"google-drive-file-picker\"\n          Icon={FaGoogleDrive}\n        >\n          Import from Google Drive\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"youtube-urls\"\n          Icon={FaYoutube}\n          desktopOnly\n        >\n          Import from Youtube URLs\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"import-csv-json\"\n          Icon={DescriptionIcon}\n        >\n          Import from CSV / JSON\n        </Button>\n        <ImportTextSnippetsDialog\n          open={selectedDialog === \"import-text-snippets\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <PasteUrlsDialog\n          open={selectedDialog === \"paste-image-urls\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportFromGoogleDriveDialog\n          open={selectedDialog === \"google-drive-file-picker\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportToyDataset\n          open={selectedDialog === \"import-toy-dataset\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportFromYoutubeUrls\n          open={selectedDialog === \"youtube-urls\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportUDTFileDialog\n          open={selectedDialog === \"import-csv-json\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n      </div>\n    </SelectDialogContext.Provider>\n  )\n}\n","// @flow weak\n\nimport React from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Box from \"@material-ui/core/Box\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport immutable, { setIn } from \"seamless-immutable\"\n\nconst Code = styled(\"pre\")({\n  fontSize: 8,\n})\n\nconst StyledExpansionPanel = styled(ExpansionPanel)({\n  backgroundColor: colors.grey[100],\n  border: `1px solid ${colors.grey[500]}`,\n  marginTop: 16,\n  marginBottom: 16,\n})\n\nconst StyledExpansionPanelSummary = styled(ExpansionPanelSummary)({\n  fontWeight: \"bold\",\n})\n\nexport default ({ open, onChangeOHA, onClose, oha }) => {\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Transform Video Keyframes\"\n      actions={[\n        {\n          text: \"Transform Video Keyframes\",\n          disabled: !oha.taskOutput,\n          onClick: () => {\n            const samples = oha.taskData.flatMap((item, index) => {\n              if (!item.videoUrl)\n                return { data: item, output: oha.taskOutput[index] }\n              if (item.videoUrl && !item.videoFrameAt) {\n                if (!oha.taskOutput[index]) return []\n                if (!oha.taskOutput[index].keyframes) return []\n                const { keyframes } = oha.taskOutput[index]\n                return Object.keys(keyframes).map((kf) => ({\n                  data: {\n                    videoUrl: item.videoUrl,\n                    videoFrameAt: parseInt(kf),\n                  },\n                  output: keyframes[kf].regions || [],\n                }))\n              }\n            })\n\n            onChangeOHA(\n              immutable(oha)\n                .setIn(\n                  [\"taskData\"],\n                  samples.map((s) => s.data)\n                )\n                .setIn(\n                  [\"taskOutput\"],\n                  samples.map((s) => s.output)\n                )\n                .setIn([\"interface\", \"type\"], \"image_segmentation\")\n            )\n          },\n        },\n      ]}\n    >\n      This operation will convert keyframes set on a video into individual image\n      segmentation frames. Your interface type will change from\n      \"video_segmentation\" into \"image_segmentation\". This is sometimes helpful\n      when preparing video data for a computer vision model.\n      {!oha.taskOutput && (\n        <b>\n          <br />\n          <br />\n          You need to label some keyframes to use this.\n        </b>\n      )}\n      <StyledExpansionPanel>\n        <StyledExpansionPanelSummary>Details</StyledExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <Box display=\"flex\">\n            <Box>\n              <Code>\n                {`{\n  \"interface\": { \"type\": \"video_segmentation\" },\n  taskData: [\n    {\n      videoUrl: \"https://example.com/video1.mp4\"\n    }\n  ],\n  taskOutput: [\n    {\n      keyframes: {\n        \"0\": { /* labels */ },\n        \"1000\": { /* labels */ },\n        \"2000\": { /* labels */ }\n      }\n    }\n  ]\n}`}\n              </Code>\n            </Box>\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <ArrowForwardIcon\n                style={{ color: colors.grey[500], width: 48, height: 48 }}\n              />\n            </Box>\n            <Box>\n              <Code>\n                {`{\n  \"interface\": { \"type\": \"image_segmentation\" },\n  taskData: [\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 0\n    },\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 1000\n    },\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 2000\n    }\n  ],\n  taskOutput: [\n    { /* labels */ },\n    { /* labels */ },\n    { /* labels */ }\n  ]\n}`}\n              </Code>\n            </Box>\n          </Box>\n        </ExpansionPanelDetails>\n      </StyledExpansionPanel>\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useElectron from \"../../utils/use-electron\"\nimport ProgressBar from \"../ProgressBar\"\nimport md5 from \"js-md5\"\nimport path from \"path\"\nimport { setIn } from \"seamless-immutable\"\n\nconst ErrorBox = styled(\"pre\")({\n  color: \"red\",\n  whiteSpace: \"prewrap\",\n  fontSize: 11,\n})\n\nfunction downloadFile(urlToDownload, directoryPath, remote) {\n  const fileName = `sample_${md5(urlToDownload).slice(0, 6)}__${urlToDownload\n    .split(\"/\")\n    .slice(-1)[0]\n    .replace(/[^a-zA-Z0-9_\\-\\.]/g, \"\")}`\n  const downloadPath = path.join(directoryPath, fileName)\n  if (remote.require(\"fs\").existsSync(downloadPath)) return downloadPath\n  return new Promise((resolve, reject) => {\n    remote.require(\"download-file\")(\n      urlToDownload,\n      {\n        directory: directoryPath,\n        filename: fileName,\n      },\n      (err) => {\n        if (err) return reject(err)\n        return resolve(downloadPath)\n      }\n    )\n  })\n}\n\nexport default ({ open, onChangeOHA, onClose, oha }) => {\n  const { remote } = useElectron() || {}\n  const [progress, changeProgress] = useState(null)\n  const [errors, changeErrors] = useState(\"\")\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Download URLs\"\n      actions={[\n        {\n          text: \"Download URLs\",\n          disabled: progress !== null,\n          onClick: async () => {\n            changeProgress(0)\n            const {\n              cancelled,\n              filePaths: [directoryPath] = [null],\n            } = await remote.dialog.showOpenDialog({\n              title: \"Directory to download files to\",\n              buttonLabel: \"Download Files Here\",\n              properties: [\n                \"createDirectory\",\n                \"openDirectory\",\n                \"promptToCreate\",\n              ],\n            })\n            if (cancelled || !directoryPath) {\n              changeProgress(null)\n              return\n            }\n\n            const newTaskData = [...oha.taskData]\n            let errors = \"\"\n\n            // Iterate over each task datum and download the url, then convert\n            // the path to a filesystem path\n            for (let i = 0; i < oha.taskData.length; i++) {\n              const td = oha.taskData[i]\n              let urlKey\n              if (td.imageUrl) urlKey = \"imageUrl\"\n              if (td.videoUrl) urlKey = \"videoUrl\"\n              if (!urlKey || !td[urlKey].startsWith(\"http\")) continue\n              const urlToDownload = td[urlKey]\n              try {\n                const pathToFile = await downloadFile(\n                  urlToDownload,\n                  directoryPath,\n                  remote\n                )\n                newTaskData[i] = {\n                  ...td,\n                  [urlKey]: `file://${pathToFile}`,\n                }\n              } catch (e) {\n                errors += `Skipping sample, error downloading taskData[${i}] (${urlToDownload}): ${e.toString()} \\n`\n              }\n              changeProgress((i / oha.taskData.length) * 100)\n            }\n\n            onChangeOHA(setIn(oha, [\"taskData\"], newTaskData))\n\n            changeErrors(errors)\n            changeProgress(100)\n          },\n        },\n      ]}\n    >\n      This transformation will download all the urls from your samples to your\n      computer, and change the paths to filenames. This is usually not a good\n      idea if you're collaborating with others, but is very useful if you're\n      about to build a model.\n      <ProgressBar progress={progress || 0} />\n      {errors && <ErrorBox>{errors}</ErrorBox>}\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useElectron from \"../../utils/use-electron\"\nimport ProgressBar from \"../ProgressBar\"\nimport md5 from \"js-md5\"\nimport path from \"path\"\nimport { setIn, without } from \"seamless-immutable\"\n\nconst ErrorBox = styled(\"pre\")({\n  color: \"red\",\n  whiteSpace: \"prewrap\",\n  fontSize: 11,\n})\n\nconst getFfmpegTimeCode = (ms) => {\n  const cs = Math.floor(ms / 10) % 100\n  const ss = Math.floor(ms / 1000) % 60\n  const mn = Math.floor(ms / 1000 / 60) % 60\n  const hr = Math.floor(ms / 1000 / 60 / 60)\n  return [hr, \":\", mn, \":\", ss, \".\", cs]\n    .map((n) => (typeof n === \"number\" ? n.toString().padStart(2, \"0\") : n))\n    .join(\"\")\n}\n\nexport default ({ open, onChangeOHA, onClose, oha }) => {\n  const { remote } = useElectron() || {}\n  const [progress, changeProgress] = useState(null)\n  const [errors, changeErrors] = useState(\"\")\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Convert Video Frames to Images\"\n      actions={[\n        {\n          text: \"Convert Video Frames to Images\",\n          disabled: progress !== null,\n          onClick: async () => {\n            changeProgress(0)\n            let errors = \"\"\n            const pathToFfmpeg = remote.require(\"ffmpeg-static\")\n            if (!pathToFfmpeg) {\n              changeErrors(\n                \"There was an issue using ffmpeg. Please create an issue on the github repository.\"\n              )\n            }\n\n            const shell = remote.require(\"any-shell-escape\")\n            const { exec } = remote.require(\"child_process\")\n            const newTaskData = [...oha.taskData]\n            let transformsPerformed = 0\n\n            for (let i = 0; i < oha.taskData.length; i++) {\n              const td = oha.taskData[i]\n              if (td.videoUrl && td.videoFrameAt !== undefined) {\n                if (td.videoUrl.startsWith(\"http\")) {\n                  errors += `Sample ${i} has a url to a video, videos must be downloaded before extracting frames.`\n                  continue\n                }\n                transformsPerformed++\n\n                const videoPath = td.videoUrl.replace(/^file:\\/\\//, \"\")\n                const imageOutputPath =\n                  videoPath + \"__frameat__\" + td.videoFrameAt + \".jpg\"\n                const ffmpegCommand = shell([\n                  pathToFfmpeg,\n                  \"-y\",\n                  \"-ss\",\n                  getFfmpegTimeCode(td.videoFrameAt),\n                  \"-i\",\n                  videoPath,\n                  \"-frames:v\",\n                  1,\n                  imageOutputPath,\n                ])\n                console.log(\"running:\", ffmpegCommand)\n                await new Promise((resolve, reject) => {\n                  exec(ffmpegCommand, { timeout: 5000 }, (err) => {\n                    if (err) return reject(err)\n                    resolve()\n                  })\n                })\n                newTaskData[i] = {\n                  ...without(\n                    without(oha.taskData[i], \"videoUrl\"),\n                    \"videoFrameAt\"\n                  ),\n                  imageUrl: `file://${imageOutputPath}`,\n                }\n              }\n              changeProgress((i / oha.taskData.length) * 100)\n            }\n\n            if (transformsPerformed === 0) {\n              errors +=\n                \"No transforms were performed, do all of your video samples have frames specified? You may need to convert the keyframes to samples.\"\n            }\n\n            onChangeOHA(setIn(oha, [\"taskData\"], newTaskData))\n\n            changeErrors(errors)\n            changeProgress(100)\n          },\n        },\n      ]}\n    >\n      This transformation will convert samples that reference a video frame into\n      an image. This is a useful step before creating a model. You can only\n      convert videos that are downloaded on your computer. Note: This can take a\n      little while.\n      <ProgressBar progress={progress || 0} />\n      {errors && <ErrorBox>{errors}</ErrorBox>}\n    </SimpleDialog>\n  )\n}\n","const uploadFileToTransferSh = async ({ fileName, fileURL, remote }) => {\n  window.remote = remote // TODO remove\n  const remoteURL = `https://files.universaldatatool.com/${fileName}` ///${hashedFileName}\n\n  const axios = remote.require(\"axios\")\n  const exactFilePath = fileURL.split(\"file://\")[1]\n\n  const fsFileBuffer = remote.require(\"fs\").readFileSync(exactFilePath)\n\n  const uploadedFileURL = await axios\n    .put(remoteURL, fsFileBuffer)\n    .then((response) => {\n      if (response.status === 200) {\n        return response.data\n      }\n    })\n\n  return uploadedFileURL.replace(\n    \"universaldatatool.com/\",\n    \"universaldatatool.com/get/\"\n  )\n}\n\nexport default uploadFileToTransferSh\n","const splitFileNameFromFileURL = (fileURL) => {\n  if (fileURL.startsWith(\"file://\")) {\n    const splittedFullFileName = fileURL.split(\"/\")\n    const fullFileName = splittedFullFileName[splittedFullFileName.length - 1]\n    return fullFileName\n  }\n}\n\nexport default splitFileNameFromFileURL\n","const getFileURLKey = (item) => {\n  if (item.imageUrl) return \"imageUrl\"\n  if (item.videoUrl) return \"videoUrl\"\n  if (item.audioUrl) return \"audioUrl\"\n  return null\n}\n\nexport default getFileURLKey\n","import uploadFileToTransferSh from \"./upload-file-to-transfersh\"\nimport splitFileNameFromFileURL from \"./split-file-name-from-file-url\"\nimport getFileURLKey from \"./get-file-url-key\"\nimport { setIn } from \"seamless-immutable\"\n\n// TODO move to utils directory\nconst idify = (s) =>\n  s\n    .toLowerCase()\n    .replace(/[^a-z0-9]/g, \"_\")\n    .replace(/_+/g, \"_\")\n\nconst transformFileURLsToWebURLs = async ({\n  oha,\n  onChangeOHA,\n  setProgress,\n  remote,\n}) => {\n  const newTaskData = []\n\n  const progressUnit = 100 / oha.taskData.length\n  for (\n    let taskDataIndex = 0;\n    taskDataIndex < oha.taskData.length;\n    taskDataIndex++\n  ) {\n    const taskDataItem = oha.taskData[taskDataIndex]\n\n    const fileURLKey = getFileURLKey(taskDataItem)\n\n    if (!fileURLKey) {\n      newTaskData.push(taskDataItem)\n      continue\n    }\n\n    const fileURL = taskDataItem[fileURLKey]\n\n    if (!fileURL.startsWith(\"file://\")) {\n      newTaskData.push(taskDataItem)\n      continue\n    }\n\n    const halfProgressOfUnit = progressUnit * taskDataIndex\n    setProgress(halfProgressOfUnit)\n\n    const fileName = idify(splitFileNameFromFileURL(fileURL))\n\n    const webURLOfUploadedFile = await uploadFileToTransferSh({\n      fileName,\n      fileURL,\n      remote,\n    }).catch((e) => console.warn(e))\n\n    if (!webURLOfUploadedFile) {\n      newTaskData.push(taskDataItem)\n      continue\n    }\n\n    newTaskData.push({\n      ...taskDataItem,\n      [fileURLKey]: webURLOfUploadedFile,\n    })\n  }\n  setProgress(100)\n  onChangeOHA(setIn(oha, [\"taskData\"], newTaskData))\n}\n\nexport default transformFileURLsToWebURLs\n","import React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport transformFileURLsToWebURLs from \"./functions/transform-file-urls-to-web-urls\"\nimport ProgressBar from \"../ProgressBar\"\nimport useElectron from \"../../utils/use-electron\"\n\nconst TransformLocalFilesToWebURLs = ({ open, onClose, oha, onChangeOHA }) => {\n  const [progress, setProgress] = useState(0)\n  const { remote } = useElectron() || {}\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Convert Local Files to Web URLs\"\n      actions={[\n        {\n          text: \"Convert Local Files to Web URLs\",\n          onClick: async () =>\n            await transformFileURLsToWebURLs({\n              oha,\n              onChangeOHA,\n              setProgress,\n              remote,\n            }),\n        },\n      ]}\n    >\n      This transformation will upload your local samples to the cloud Note: This\n      can take a little while.\n      <ProgressBar progress={progress} />\n    </SimpleDialog>\n  )\n}\n\nexport default TransformLocalFilesToWebURLs\n","// @flow weak\n\nimport React, { useState, useContext, createContext } from \"react\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport AssignmentReturnedIcon from \"@material-ui/icons/AssignmentReturned\"\nimport CreateNewFolderIcon from \"@material-ui/icons/CreateNewFolder\"\nimport ImageIcon from \"@material-ui/icons/Image\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport TextFieldsIcon from \"@material-ui/icons/TextFields\"\nimport PetsIcon from \"@material-ui/icons/Pets\"\nimport * as colors from \"@material-ui/core/colors\"\nimport PasteUrlsDialog from \"../PasteUrlsDialog\"\nimport ImportTextSnippetsDialog from \"../ImportTextSnippetsDialog\"\nimport useIsDesktop from \"../../utils/use-is-desktop\"\nimport useElectron from \"../../utils/use-electron\"\nimport classnames from \"classnames\"\nimport { setIn } from \"seamless-immutable\"\nimport useEventCallback from \"use-event-callback\"\nimport OndemandVideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport TransformVideoKeyframesDialog from \"../TransformVideoKeyframesDialog\"\nimport DownloadURLsDialog from \"../DownloadURLsDialog\"\nimport GetAppIcon from \"@material-ui/icons/GetApp\"\nimport CollectionsIcon from \"@material-ui/icons/Collections\"\nimport TransformVideoFramesToImagesDialog from \"../TransformVideoFramesToImagesDialog\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport TransformLocalFilesToWebURLs from \"../TransformLocalFilesToWebURLs\"\n\nimport ComputerIcon from \"@material-ui/icons/Computer\"\nimport LanguageIcon from \"@material-ui/icons/Language\"\n\nconst ButtonBase = styled(MuiButton)({\n  width: 240,\n  height: 140,\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  \"&.disabled\": {\n    backgroundColor: colors.grey[200],\n  },\n  margin: 8,\n  \"& .icon\": {\n    width: 36,\n    height: 36,\n    color: colors.grey[600],\n    \"&.disabled\": {\n      color: colors.grey[400],\n    },\n  },\n})\n\nconst DesktopOnlyText = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  \"&.disabled\": {\n    color: colors.grey[500],\n  },\n})\n\nconst SelectDialogContext = createContext()\n\nconst Button = ({ Icon1, Icon2, desktopOnly, children, dialog, disabled }) => {\n  const isDesktop = useIsDesktop()\n  const posthog = usePosthog()\n  disabled =\n    disabled === undefined ? (desktopOnly ? !isDesktop : false) : disabled\n  return (\n    <SelectDialogContext.Consumer>\n      {({ onChangeDialog }) => {\n        return (\n          <ButtonBase\n            onClick={() => {\n              onChangeDialog(dialog)\n              posthog.capture(\"transform_button_clicked\", {\n                transform_button: dialog,\n              })\n            }}\n            className={classnames({ disabled })}\n            variant=\"outlined\"\n            disabled={disabled}\n          >\n            <div>\n              {Icon1 && Icon2 ? (\n                <>\n                  <Icon1 className={classnames(\"icon\", { disabled })} />\n                  <ArrowForwardIcon\n                    className={classnames(\"icon\", { disabled })}\n                  />\n                  <Icon2 className={classnames(\"icon\", { disabled })} />\n                </>\n              ) : (\n                <Icon1 className={classnames(\"icon\", { disabled })} />\n              )}\n              <div>{children}</div>\n              {desktopOnly && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  DESKTOP ONLY\n                </DesktopOnlyText>\n              )}\n            </div>\n          </ButtonBase>\n        )\n      }}\n    </SelectDialogContext.Consumer>\n  )\n}\n\nexport default ({ oha, onChangeOHA }) => {\n  const [selectedDialog, changeDialog] = useState()\n  const electron = useElectron()\n  const onChangeDialog = async (dialog) => {\n    switch (dialog) {\n      case \"convert-keyframes-to-samples\": {\n      }\n      default: {\n        return changeDialog(dialog)\n      }\n    }\n  }\n  const closeDialog = () => changeDialog(null)\n  return (\n    <SelectDialogContext.Provider value={{ onChangeDialog }}>\n      <div>\n        <Button\n          disabled={oha.interface.type !== \"video_segmentation\"}\n          dialog=\"convert-keyframes-to-samples\"\n          Icon1={OndemandVideoIcon}\n          Icon2={CollectionsIcon}\n        >\n          Convert Video Keyframes to Samples\n        </Button>\n        <Button\n          desktopOnly\n          dialog=\"convert-local-files-to-web-urls\"\n          Icon1={ComputerIcon}\n          Icon2={LanguageIcon}\n        >\n          Transform Local Files to Web URLs\n        </Button>\n        <Button desktopOnly dialog=\"download-urls\" Icon1={GetAppIcon}>\n          Download URLs\n        </Button>\n        <Button\n          desktopOnly\n          dialog=\"convert-video-frames-to-images\"\n          Icon1={OndemandVideoIcon}\n          Icon2={ImageIcon}\n        >\n          Convert Video Frames to Images\n        </Button>\n        <TransformVideoKeyframesDialog\n          open={selectedDialog === \"convert-keyframes-to-samples\"}\n          onClose={closeDialog}\n          oha={oha}\n          onChangeOHA={(...args) => {\n            onChangeOHA(...args)\n            closeDialog()\n          }}\n        />\n        <DownloadURLsDialog\n          open={selectedDialog === \"download-urls\"}\n          onClose={closeDialog}\n          oha={oha}\n          desktopOnly\n          onChangeOHA={onChangeOHA}\n        ></DownloadURLsDialog>\n        <TransformLocalFilesToWebURLs\n          oha={oha}\n          onClose={closeDialog}\n          onChangeOHA={onChangeOHA}\n          desktopOnly\n          open={selectedDialog === \"convert-local-files-to-web-urls\"}\n        ></TransformLocalFilesToWebURLs>\n        <TransformVideoFramesToImagesDialog\n          open={selectedDialog === \"convert-video-frames-to-images\"}\n          onClose={closeDialog}\n          oha={oha}\n          desktopOnly\n          onChangeOHA={onChangeOHA}\n        ></TransformVideoFramesToImagesDialog>\n      </div>\n    </SelectDialogContext.Provider>\n  )\n}\n","// @flow weak\n\nimport React, { useMemo, useState } from \"react\"\nimport DataTable from \"react-data-table-component\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport SampleGrid from \"../SampleGrid\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport AppsIcon from \"@material-ui/icons/Apps\"\nimport SlideshowIcon from \"@material-ui/icons/Slideshow\"\nimport TableChartIcon from \"@material-ui/icons/TableChart\"\nimport Box from \"@material-ui/core/Box\"\nimport ImportIcon from \"@material-ui/icons/Publish\"\nimport ImportPage from \"../ImportPage\"\nimport TransformPage from \"../TransformPage\"\nimport useIsDesktop from \"../../utils/use-is-desktop.js\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  padding: 16,\n})\n\nconst SampleCounter = styled(\"div\")({\n  fontSize: 14,\n  color: colors.grey[600],\n  display: \"flex\",\n  justifyContent: \"flex-end\",\n  alignItems: \"center\",\n  flexGrow: 1,\n})\n\nconst ExpandedRowContainer = styled(\"div\")({\n  padding: 8,\n  border: \"#888 solid 1px\",\n  borderTop: \"none\",\n  borderRadius: 4,\n  borderTopLeftRadius: 0,\n  borderTopRightRadius: 0,\n  boxShadow: \"inset 0 3px 3px rgba(0,0,0,0.2)\",\n})\nconst ExpandedRowTitle = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n})\nconst ExpandedRowCode = styled(\"pre\")({ whiteSpace: \"pre-wrap\", fontSize: 11 })\n\nconst ExpandedRow = ({ data }) => {\n  const { _output, ...input } = data\n\n  return (\n    <ExpandedRowContainer>\n      <Grid spacing={2} container>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>taskData[{data.index}]:</ExpandedRowTitle>\n          <ExpandedRowCode>{JSON.stringify(input, null, \"  \")}</ExpandedRowCode>\n        </Grid>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>taskOutput[{data.index}]:</ExpandedRowTitle>\n          <ExpandedRowCode>\n            {JSON.stringify(_output, null, \"  \")}\n          </ExpandedRowCode>\n        </Grid>\n      </Grid>\n    </ExpandedRowContainer>\n  )\n}\n\nexport default ({\n  oha,\n  openSampleInputEditor,\n  openSampleLabelEditor,\n  deleteSample,\n  onChangeOHA,\n}) => {\n  const isDesktop = useIsDesktop()\n  const [currentTab, changeTabState] = useState(\n    (oha.taskData || []).length === 0\n      ? \"import\"\n      : window.localStorage.lastSampleTab || \"grid\"\n  )\n  const changeTab = (tab) => {\n    changeTabState(tab)\n    window.localStorage.lastSampleTab = tab\n  }\n  const columns = useMemo(() => {\n    if (!oha.taskData) return []\n    const columns = [\n      {\n        name: \"Index\",\n        selector: \"index\",\n        sortable: true,\n      },\n    ]\n    const knownKeys = new Set()\n    for (const td of oha.taskData) {\n      for (const key in td) {\n        if (!knownKeys.has(key)) {\n          columns.push({\n            name: key,\n            selector: key,\n          })\n          knownKeys.add(key)\n        }\n      }\n    }\n    columns.push({\n      name: \"Edit\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised onClick={() => openSampleInputEditor(row.index)}>\n          <EditIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    columns.push({\n      name: \"Label\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised onClick={() => openSampleLabelEditor(row.index)}>\n          <BorderColorIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    columns.push({\n      name: \"Delete\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised primary onClick={() => deleteSample(row.index)}>\n          <DeleteIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    return columns\n  }, [oha.taskData, oha.taskOutput])\n\n  const data = useMemo(() => {\n    if (!oha.taskData) return []\n    return oha.taskData.map((td, i) => ({\n      ...td,\n      _output: oha.taskOutput && oha.taskOutput[i] ? oha.taskOutput[i] : {},\n      index: i,\n    }))\n  }, [oha.taskData, oha.taskOutput])\n  return (\n    <Container>\n      <Box display=\"flex\">\n        <Tabs value={currentTab} onChange={(e, newTab) => changeTab(newTab)}>\n          <Tab icon={<ImportIcon />} label=\"Import\" value=\"import\" />\n          <Tab icon={<SlideshowIcon />} label=\"Transform\" value=\"transform\" />\n          <Tab icon={<AppsIcon />} label=\"Grid\" value=\"grid\" />\n          <Tab icon={<TableChartIcon />} label=\"Table\" value=\"table\" />\n        </Tabs>\n        <SampleCounter>\n          {(oha.taskData || []).length} Samples\n          <br />\n          {(oha.taskOutput || []).length} Labels\n        </SampleCounter>\n      </Box>\n      <Box paddingTop={2} />\n      {currentTab === \"import\" && (\n        <ImportPage\n          isDesktop={isDesktop}\n          onChangeOHA={(newOHA, shouldViewChange) => {\n            onChangeOHA(newOHA)\n            if (shouldViewChange) {\n              changeTab(\"grid\")\n            }\n          }}\n          oha={oha}\n        />\n      )}\n      {currentTab === \"transform\" && (\n        <TransformPage\n          isDesktop={isDesktop}\n          oha={oha}\n          onChangeOHA={(oha, shouldViewChange) => {\n            onChangeOHA(oha)\n            if (shouldViewChange) {\n              changeTab(\"grid\")\n            }\n          }}\n        />\n      )}\n      {currentTab === \"grid\" && (\n        <SampleGrid\n          count={(oha.taskData || []).length}\n          taskData={oha.taskData || []}\n          completed={(oha.taskOutput || []).map(Boolean)}\n          onClick={(sampleIndex) => {\n            openSampleLabelEditor(sampleIndex)\n          }}\n        />\n      )}\n      {currentTab === \"table\" && (\n        <DataTable\n          title=\"Samples\"\n          expandableRowsComponent={<ExpandedRow />}\n          expandableRows\n          dense\n          columns={columns}\n          data={data}\n          pagination\n          paginationPerPage={10}\n          paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n        />\n      )}\n    </Container>\n  )\n}\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"regionTypesAllowed\",\n      title: \"Region Types Allowed\",\n      description: \"What types of regions can be drawn on the image.\",\n      type: \"multiple-dropdown\",\n      choices: [\"bounding-box\", \"polygon\", \"point\"],\n    },\n    {\n      name: \"multipleRegions\",\n      title: \"Can multiple regions be created?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"multipleRegionLabels\",\n      title: \"Multiple Region Labels Allowed?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"availableLabels\",\n      title: \"Available Labels\",\n      description:\n        \"If you're labeling regions on an image, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multipleRegions: Boolean(\n        iface.multipleRegions || iface.multipleRegions === undefined\n      ),\n      multipleRegionLabels: Boolean(iface.multipleRegionLabels),\n      regionTypesAllowed: iface.regionTypesAllowed,\n      availableLabels:\n        (iface.availableLabels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n    }),\n    []\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"allowMultiple\",\n      title: \"Allow multiple classifications per image?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"availableLabels\",\n      title: \"Available Labels\",\n      description: \"Classifications or tags to be labeled.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      allowMultiple: false,\n      availableLabels:\n        (iface.availableLabels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n    }),\n    []\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"multiple\",\n      title: \"Allow Multiple Classifications\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      description: \"Classifications or tags to be labeled.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        { cellType: \"text\", name: \"displayName\", title: \"Display Name\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multiple: false,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, displayName: a, description: a } : a\n        ) || [],\n    }),\n    []\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","// @flow\n\nimport { styled } from \"@material-ui/core/styles\"\n\nexport const PaperContainer = styled(\"div\")({\n  margin: 16,\n  padding: 16,\n  border: \"1px solid #ccc\",\n  borderRadius: 4,\n  boxShadow: \"0px 2px 2px rgba(0,0,0,0.1)\",\n})\n\nexport default PaperContainer\n","import React from \"react\"\nimport Survey from \"material-survey/components/Survey\"\n\n// https://gist.github.com/DimazzzZ/4e2a5a6c8c6f67900091#gistcomment-2021620\nconst languages = [\n  { value: \"ab\", text: \"Abkhazian\" },\n  { value: \"aa\", text: \"Afar\" },\n  { value: \"af\", text: \"Afrikaans\" },\n  { value: \"ak\", text: \"Akan\" },\n  { value: \"sq\", text: \"Albanian\" },\n  { value: \"am\", text: \"Amharic\" },\n  { value: \"ar\", text: \"Arabic\" },\n  { value: \"an\", text: \"Aragonese\" },\n  { value: \"hy\", text: \"Armenian\" },\n  { value: \"as\", text: \"Assamese\" },\n  { value: \"av\", text: \"Avaric\" },\n  { value: \"ae\", text: \"Avestan\" },\n  { value: \"ay\", text: \"Aymara\" },\n  { value: \"az\", text: \"Azerbaijani\" },\n  { value: \"bm\", text: \"Bambara\" },\n  { value: \"ba\", text: \"Bashkir\" },\n  { value: \"eu\", text: \"Basque\" },\n  { value: \"be\", text: \"Belarusian\" },\n  { value: \"bn\", text: \"Bengali\" },\n  { value: \"bh\", text: \"Bihari languages\" },\n  { value: \"bi\", text: \"Bislama\" },\n  { value: \"bs\", text: \"Bosnian\" },\n  { value: \"br\", text: \"Breton\" },\n  { value: \"bg\", text: \"Bulgarian\" },\n  { value: \"my\", text: \"Burmese\" },\n  { value: \"ca\", text: \"Catalan, Valencian\" },\n  { value: \"km\", text: \"Central Khmer\" },\n  { value: \"ch\", text: \"Chamorro\" },\n  { value: \"ce\", text: \"Chechen\" },\n  { value: \"ny\", text: \"Chichewa, Chewa, Nyanja\" },\n  { value: \"zh\", text: \"Chinese\" },\n  { value: \"cu\", text: \"Church Slavonic, Old Bulgarian, Old Church Slavonic\" },\n  { value: \"cv\", text: \"Chuvash\" },\n  { value: \"kw\", text: \"Cornish\" },\n  { value: \"co\", text: \"Corsican\" },\n  { value: \"cr\", text: \"Cree\" },\n  { value: \"hr\", text: \"Croatian\" },\n  { value: \"cs\", text: \"Czech\" },\n  { value: \"da\", text: \"Danish\" },\n  { value: \"dv\", text: \"Divehi, Dhivehi, Maldivian\" },\n  { value: \"nl\", text: \"Dutch, Flemish\" },\n  { value: \"dz\", text: \"Dzongkha\" },\n  { value: \"en\", text: \"English\" },\n  { value: \"eo\", text: \"Esperanto\" },\n  { value: \"et\", text: \"Estonian\" },\n  { value: \"ee\", text: \"Ewe\" },\n  { value: \"fo\", text: \"Faroese\" },\n  { value: \"fj\", text: \"Fijian\" },\n  { value: \"fi\", text: \"Finnish\" },\n  { value: \"fr\", text: \"French\" },\n  { value: \"ff\", text: \"Fulah\" },\n  { value: \"gd\", text: \"Gaelic, Scottish Gaelic\" },\n  { value: \"gl\", text: \"Galician\" },\n  { value: \"lg\", text: \"Ganda\" },\n  { value: \"ka\", text: \"Georgian\" },\n  { value: \"de\", text: \"German\" },\n  { value: \"ki\", text: \"Gikuyu, Kikuyu\" },\n  { value: \"el\", text: \"Greek (Modern)\" },\n  { value: \"kl\", text: \"Greenlandic, Kalaallisut\" },\n  { value: \"gn\", text: \"Guarani\" },\n  { value: \"gu\", text: \"Gujarati\" },\n  { value: \"ht\", text: \"Haitian, Haitian Creole\" },\n  { value: \"ha\", text: \"Hausa\" },\n  { value: \"he\", text: \"Hebrew\" },\n  { value: \"hz\", text: \"Herero\" },\n  { value: \"hi\", text: \"Hindi\" },\n  { value: \"ho\", text: \"Hiri Motu\" },\n  { value: \"hu\", text: \"Hungarian\" },\n  { value: \"is\", text: \"Icelandic\" },\n  { value: \"io\", text: \"Ido\" },\n  { value: \"ig\", text: \"Igbo\" },\n  { value: \"id\", text: \"Indonesian\" },\n  {\n    value: \"ia\",\n    text: \"Interlingua (International Auxiliary Language Association)\",\n  },\n  { value: \"ie\", text: \"Interlingue\" },\n  { value: \"iu\", text: \"Inuktitut\" },\n  { value: \"ik\", text: \"Inupiaq\" },\n  { value: \"ga\", text: \"Irish\" },\n  { value: \"it\", text: \"Italian\" },\n  { value: \"ja\", text: \"Japanese\" },\n  { value: \"jv\", text: \"Javanese\" },\n  { value: \"kn\", text: \"Kannada\" },\n  { value: \"kr\", text: \"Kanuri\" },\n  { value: \"ks\", text: \"Kashmiri\" },\n  { value: \"kk\", text: \"Kazakh\" },\n  { value: \"rw\", text: \"Kinyarwanda\" },\n  { value: \"kv\", text: \"Komi\" },\n  { value: \"kg\", text: \"Kongo\" },\n  { value: \"ko\", text: \"Korean\" },\n  { value: \"kj\", text: \"Kwanyama, Kuanyama\" },\n  { value: \"ku\", text: \"Kurdish\" },\n  { value: \"ky\", text: \"Kyrgyz\" },\n  { value: \"lo\", text: \"Lao\" },\n  { value: \"la\", text: \"Latin\" },\n  { value: \"lv\", text: \"Latvian\" },\n  { value: \"lb\", text: \"Letzeburgesch, Luxembourgish\" },\n  { value: \"li\", text: \"Limburgish, Limburgan, Limburger\" },\n  { value: \"ln\", text: \"Lingala\" },\n  { value: \"lt\", text: \"Lithuanian\" },\n  { value: \"lu\", text: \"Luba-Katanga\" },\n  { value: \"mk\", text: \"Macedonian\" },\n  { value: \"mg\", text: \"Malagasy\" },\n  { value: \"ms\", text: \"Malay\" },\n  { value: \"ml\", text: \"Malayalam\" },\n  { value: \"mt\", text: \"Maltese\" },\n  { value: \"gv\", text: \"Manx\" },\n  { value: \"mi\", text: \"Maori\" },\n  { value: \"mr\", text: \"Marathi\" },\n  { value: \"mh\", text: \"Marshallese\" },\n  { value: \"ro\", text: \"Moldovan, Moldavian, Romanian\" },\n  { value: \"mn\", text: \"Mongolian\" },\n  { value: \"na\", text: \"Nauru\" },\n  { value: \"nv\", text: \"Navajo, Navaho\" },\n  { value: \"nd\", text: \"Northern Ndebele\" },\n  { value: \"ng\", text: \"Ndonga\" },\n  { value: \"ne\", text: \"Nepali\" },\n  { value: \"se\", text: \"Northern Sami\" },\n  { value: \"no\", text: \"Norwegian\" },\n  { value: \"nb\", text: \"Norwegian Bokml\" },\n  { value: \"nn\", text: \"Norwegian Nynorsk\" },\n  { value: \"ii\", text: \"Nuosu, Sichuan Yi\" },\n  { value: \"oc\", text: \"Occitan (post 1500)\" },\n  { value: \"oj\", text: \"Ojibwa\" },\n  { value: \"or\", text: \"Oriya\" },\n  { value: \"om\", text: \"Oromo\" },\n  { value: \"os\", text: \"Ossetian, Ossetic\" },\n  { value: \"pi\", text: \"Pali\" },\n  { value: \"pa\", text: \"Panjabi, Punjabi\" },\n  { value: \"ps\", text: \"Pashto, Pushto\" },\n  { value: \"fa\", text: \"Persian\" },\n  { value: \"pl\", text: \"Polish\" },\n  { value: \"pt\", text: \"Portuguese\" },\n  { value: \"qu\", text: \"Quechua\" },\n  { value: \"rm\", text: \"Romansh\" },\n  { value: \"rn\", text: \"Rundi\" },\n  { value: \"ru\", text: \"Russian\" },\n  { value: \"sm\", text: \"Samoan\" },\n  { value: \"sg\", text: \"Sango\" },\n  { value: \"sa\", text: \"Sanskrit\" },\n  { value: \"sc\", text: \"Sardinian\" },\n  { value: \"sr\", text: \"Serbian\" },\n  { value: \"sn\", text: \"Shona\" },\n  { value: \"sd\", text: \"Sindhi\" },\n  { value: \"si\", text: \"Sinhala, Sinhalese\" },\n  { value: \"sk\", text: \"Slovak\" },\n  { value: \"sl\", text: \"Slovenian\" },\n  { value: \"so\", text: \"Somali\" },\n  { value: \"st\", text: \"Sotho, Southern\" },\n  { value: \"nr\", text: \"South Ndebele\" },\n  { value: \"es\", text: \"Spanish, Castilian\" },\n  { value: \"su\", text: \"Sundanese\" },\n  { value: \"sw\", text: \"Swahili\" },\n  { value: \"ss\", text: \"Swati\" },\n  { value: \"sv\", text: \"Swedish\" },\n  { value: \"tl\", text: \"Tagalog\" },\n  { value: \"ty\", text: \"Tahitian\" },\n  { value: \"tg\", text: \"Tajik\" },\n  { value: \"ta\", text: \"Tamil\" },\n  { value: \"tt\", text: \"Tatar\" },\n  { value: \"te\", text: \"Telugu\" },\n  { value: \"th\", text: \"Thai\" },\n  { value: \"bo\", text: \"Tibetan\" },\n  { value: \"ti\", text: \"Tigrinya\" },\n  { value: \"to\", text: \"Tonga (Tonga Islands)\" },\n  { value: \"ts\", text: \"Tsonga\" },\n  { value: \"tn\", text: \"Tswana\" },\n  { value: \"tr\", text: \"Turkish\" },\n  { value: \"tk\", text: \"Turkmen\" },\n  { value: \"tw\", text: \"Twi\" },\n  { value: \"ug\", text: \"Uighur, Uyghur\" },\n  { value: \"uk\", text: \"Ukrainian\" },\n  { value: \"ur\", text: \"Urdu\" },\n  { value: \"uz\", text: \"Uzbek\" },\n  { value: \"ve\", text: \"Venda\" },\n  { value: \"vi\", text: \"Vietnamese\" },\n  { value: \"vo\", text: \"Volap_k\" },\n  { value: \"wa\", text: \"Walloon\" },\n  { value: \"cy\", text: \"Welsh\" },\n  { value: \"fy\", text: \"Western Frisian\" },\n  { value: \"wo\", text: \"Wolof\" },\n  { value: \"xh\", text: \"Xhosa\" },\n  { value: \"yi\", text: \"Yiddish\" },\n  { value: \"yo\", text: \"Yoruba\" },\n  { value: \"za\", text: \"Zhuang, Chuang\" },\n  { value: \"zu\", text: \"Zulu\" },\n]\n\nconst form = {\n  questions: [\n    {\n      name: \"transcriptionType\",\n      title: \"Transcription Type\",\n      type: \"dropdown\",\n      choices: [\"simple\", \"proper\"],\n    },\n    {\n      name: \"phraseBank\",\n      title: \"Phrase Bank\",\n      description: \"URL of single-column CSV or TXT file with allowed phrases\",\n      type: \"text\",\n    },\n    {\n      name: \"onlyUseWordsInPhraseBank\",\n      title: \"Only Use Words In Phrase Bank\",\n      type: \"boolean\",\n    },\n    {\n      name: \"language\",\n      title: \"Language\",\n      type: \"dropdown\",\n      // https://gist.github.com/DimazzzZ/4e2a5a6c8c6f67900091#gistcomment-2858621\n      choices: languages,\n    },\n    {\n      name: \"description\",\n      title: \"Description\",\n      type: \"multiline-text\",\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      onQuestionChange={(questionId, newValue, answers) => {\n        if (newValue.value) {\n          onChange({ ...iface, [questionId]: newValue.value })\n        } else {\n          onChange({ ...iface, [questionId]: newValue })\n        }\n      }}\n      form={form}\n    />\n  )\n}\n","import React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    // TODO uncomment when description can be seen in the interface somewhere\n    // {\n    //   name: \"description\",\n    //   title: \"Description\",\n    //   type: \"multiline-text\",\n    // },\n    // TODO enable when we support overlap\n    // {\n    //   name: \"overlapAllowed\",\n    //   title: \"Overlap Allowed\",\n    //   type: \"boolean\",\n    // },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      type: \"matrixdynamic\",\n      hasOther: true,\n      columns: [\n        {\n          cellType: \"text\",\n          name: \"id\",\n          title: \"ID\",\n        },\n        {\n          cellType: \"text\",\n          name: \"displayName\",\n          title: \"Display Name\",\n        },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(() => ({\n    description: iface.description,\n    overlapAllowed: Boolean(\n      iface.overlapAllowed || iface.overlapAllowed === undefined\n    ),\n    labels: (iface.labels || []).map((column) =>\n      typeof column === \"string\"\n        ? {\n            id: column,\n            displayName: column,\n            description: column,\n          }\n        : column\n    ),\n  }))\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n      defaultAnswers={defaultAnswers}\n    />\n  )\n}\n","// @flow\n\nimport React, { useRef, useState } from \"react\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Menu from \"@material-ui/core/Menu\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Survey from \"material-survey/components/Survey\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { setIn } from \"seamless-immutable\"\n\nconst ButtonsContainer = styled(\"div\")({\n  textAlign: \"right\",\n})\nconst NoQuestions = styled(\"div\")({\n  fontSize: 18,\n  color: colors.grey[500],\n  fontWeight: \"bold\",\n  textAlign: \"center\",\n  padding: 16,\n})\n\nconst Question = styled(\"div\")({\n  position: \"relative\",\n  padding: 16,\n  margin: 16,\n  borderLeft: `4px solid ${colors.blue[400]}`,\n  // backgroundColor: colors.grey[50],\n  borderRadius: 4,\n  paddingRight: 64,\n  \"& .quitButton\": {\n    position: \"absolute\",\n    right: 4,\n    top: 4,\n  },\n  \"& > *\": {\n    margin: 8,\n  },\n})\nconst PreviewHeader = styled(\"div\")({\n  fontSize: 12,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  textTransform: \"uppercase\",\n  margin: 16,\n  marginBottom: 32,\n})\n\nconst StyledButton = styled(Button)({\n  position: \"relative\",\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n  },\n})\n\nexport default ({ iface, onChange }) => {\n  const anchorEl = useRef()\n  const [menuOpen, changeMenuOpen] = useState(false)\n  const { questions = [] } = iface.surveyjs || {}\n  return (\n    <div>\n      {questions.length === 0 ? (\n        <NoQuestions>No Inputs, Click Add Input Below</NoQuestions>\n      ) : (\n        questions.map((q, i) => (\n          <Question key={i}>\n            <div style={{ display: \"flex\" }}>\n              <TextField\n                variant=\"outlined\"\n                label=\"Name / Identifier\"\n                value={q.name || \"\"}\n                onChange={(e) => {\n                  onChange(\n                    setIn(\n                      iface,\n                      [\"surveyjs\", \"questions\", i, \"name\"],\n                      e.target.value\n                    )\n                  )\n                }}\n              />\n              <TextField\n                style={{ marginLeft: 8, flexGrow: 1 }}\n                variant=\"outlined\"\n                label=\"Title / Instruction\"\n                value={q.title || \"\"}\n                onChange={(e) => {\n                  onChange(\n                    setIn(\n                      iface,\n                      [\"surveyjs\", \"questions\", i, \"title\"],\n                      e.target.value\n                    )\n                  )\n                }}\n              />\n            </div>\n            <Grid container>\n              <Grid item xs={6}>\n                {q.choices && (\n                  <TextField\n                    style={{\n                      marginTop: 8,\n                      paddingRight: 8,\n                      boxSizing: \"border-box\",\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    label=\"Choices (One per Line)\"\n                    defaultValue={q.choices.join(\"\\n\") || \"\"}\n                    onChange={(e) => {\n                      onChange(\n                        setIn(\n                          iface,\n                          [\"surveyjs\", \"questions\", i, \"choices\"],\n                          e.target.value.split(\"\\n\")\n                        )\n                      )\n                    }}\n                    multiline\n                    rows={6}\n                  />\n                )}\n              </Grid>\n              <Grid item xs={6}>\n                <PreviewHeader>Preview</PreviewHeader>\n                <Survey\n                  noActions\n                  variant=\"flat\"\n                  key={q}\n                  form={{ questions: [q] }}\n                />\n              </Grid>\n            </Grid>\n            <IconButton\n              className=\"quitButton\"\n              onClick={() => {\n                onChange(\n                  setIn(\n                    iface,\n                    [\"surveyjs\", \"questions\"],\n                    [...questions.slice(0, i), ...questions.slice(i + 1)]\n                  )\n                )\n              }}\n            >\n              <CancelIcon />\n            </IconButton>\n          </Question>\n        ))\n      )}\n      <ButtonsContainer>\n        <StyledButton onClick={(e) => changeMenuOpen(true)} ref={anchorEl}>\n          <AddCircleIcon className=\"icon\" />\n          Add Input\n        </StyledButton>\n      </ButtonsContainer>\n      <Menu\n        anchorEl={anchorEl && anchorEl.current}\n        open={menuOpen}\n        onClose={() => changeMenuOpen(false)}\n      >\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                ((iface.surveyjs || {}).questions || []).concat([\n                  {\n                    name: \"input\" + questions.length,\n                    type: \"text\",\n                    title: \"New Text Input\",\n                  },\n                ])\n              )\n            )\n          }}\n        >\n          Text Input\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.surveyjs.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"radiogroup\",\n                  title: \"New Exclusive Choice Input\",\n                  choices: [\"Yes\", \"Maybe\", \"No\"],\n                })\n              )\n            )\n          }}\n        >\n          Exclusive Choice\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.surveyjs.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"checkbox\",\n                  title: \"New Checkbox Input\",\n                  choices: [\"A\", \"B\", \"C\"],\n                })\n              )\n            )\n          }}\n        >\n          Checkboxes\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                iface.surveyjs.questions.concat({\n                  name: \"input\" + questions.length,\n                  type: \"boolean\",\n                  title: \"New Boolean Input\",\n                })\n              )\n            )\n          }}\n        >\n          Boolean\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"dropdown\",\n                  title: \"New Dropdown Input\",\n                  choices: [\"A\", \"B\", \"C\"],\n                })\n              )\n            )\n          }}\n        >\n          Dropdown / Autocomplete\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                iface.surveyjs.questions.concat([\n                  {\n                    name: \"input\" + questions.length,\n                    type: \"multiple-dropdown\",\n                    title: \"New Multiple Dropdown Input\",\n                    choices: [\"A\", \"B\", \"C\"],\n                  },\n                ])\n              )\n            )\n          }}\n        >\n          Multiple Item Dropdown / Autocomplete\n        </MenuItem>\n      </Menu>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from \"react\"\nimport ConfigureInterface from \"../ConfigureInterface\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\"\nimport Button from \"@material-ui/core/Button\"\nimport Box from \"@material-ui/core/Box\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { setIn } from \"seamless-immutable\"\n\nconst Fields = styled(\"div\")({})\nconst StyledExpansionPanel = styled(ExpansionPanel)({\n  marginTop: 16,\n  border: \"2px solid #000\",\n})\nconst StyledButton = styled(Button)({\n  width: \"100%\",\n  margin: 16,\n  marginLeft: 0,\n})\n\nexport default ({ iface, onChange }) => {\n  return (\n    <React.Fragment>\n      <Fields>\n        {(iface.fields || []).map((f, fieldIndex) => (\n          <StyledExpansionPanel key={fieldIndex}>\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n              {f.fieldName}\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>\n              <Box display=\"flex\" flexDirection=\"column\">\n                <TextField\n                  label=\"Field Name\"\n                  value={f.fieldName}\n                  onChange={(e) => {\n                    onChange(\n                      setIn(\n                        [\"fields\", fieldIndex, \"fieldName\"],\n                        e.target.value,\n                        iface\n                      )\n                    )\n                  }}\n                />\n                <ConfigureInterface\n                  isNested\n                  iface={f.interface}\n                  onChange={(newFieldInterface) => {\n                    onChange({\n                      ...iface,\n                      fields: iface.fields.map((field) =>\n                        field.fieldName === f.fieldName\n                          ? { ...f, interface: newFieldInterface }\n                          : field\n                      ),\n                    })\n                  }}\n                />\n                <Button\n                  onClick={() => {\n                    onChange({\n                      ...iface,\n                      fields: iface.fields.filter(\n                        ({ fieldName }) => fieldName !== f.fieldName\n                      ),\n                    })\n                  }}\n                >\n                  Remove Field\n                </Button>\n              </Box>\n            </ExpansionPanelDetails>\n          </StyledExpansionPanel>\n        ))}\n        <StyledButton\n          onClick={() => {\n            onChange(\n              setIn(\n                iface,\n                [\"fields\"],\n                (iface.fields || []).concat({\n                  fieldOrder: (iface.fields || []).length,\n                  fieldName: \"New Field\",\n                  interface: {\n                    type: \"empty\",\n                  },\n                })\n              )\n            )\n          }}\n        >\n          Add New Field\n        </StyledButton>\n      </Fields>\n    </React.Fragment>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst ExplanationTextHeader = styled(\"div\")({\n  textAlign: \"center\",\n  paddingTop: 30,\n  paddingBottom: 50,\n  userSelect: \"none\",\n})\n\nconst ExplanationText = styled(\"h3\")({\n  fontWeight: \"bold\",\n  color: colors.grey[500],\n})\n\nconst GithubLink = styled(\"a\")({\n  color: colors.blue[500],\n})\n\nconst Configure3D = () => {\n  return (\n    <ExplanationTextHeader>\n      <ExplanationText>\n        Hey, this isn't currently available, but if you'd like this\n        functionality please let us know by leaving a thumbs up on{\" \"}\n        <GithubLink\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://github.com/UniversalDataTool/universal-data-tool/issues/20\"\n        >\n          this\n        </GithubLink>{\" \"}\n        github issue.\n      </ExplanationText>\n    </ExplanationTextHeader>\n  )\n}\n\nexport default Configure3D\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"regionTypesAllowed\",\n      title: \"Region Types Allowed\",\n      description: \"What types of regions can be drawn on the image.\",\n      type: \"multiple-dropdown\",\n      choices: [\"bounding-box\", \"polygon\", \"point\"],\n    },\n    {\n      name: \"multipleRegions\",\n      title: \"Can multiple regions be created?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"multipleRegionLabels\",\n      title: \"Multiple Region Labels Allowed?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"availableLabels\",\n      title: \"Available Labels\",\n      description:\n        \"If you're labeling regions on an video frames, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multipleRegions: Boolean(\n        iface.multipleRegions || iface.multipleRegions === undefined\n      ),\n      multipleRegionLabels: Boolean(iface.multipleRegionLabels),\n      regionTypesAllowed: iface.regionTypesAllowed,\n      availableLabels:\n        (iface.availableLabels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n    }),\n    []\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","import * as Sentry from \"@sentry/browser\"\n\nSentry.init({\n  dsn: \"https://bc19fbac222243f08f0abaf6d66f2034@sentry.io/5182632\",\n  whitelistUrls: [\"https://universaldatatool.com\", \"^file:?:\"],\n})\n\nexport default Sentry\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { detect } from \"detect-browser\"\nimport Button from \"@material-ui/core/Button\"\nimport Sentry from \"../../utils/sentry.js\"\nimport BadOHA from \"../BadOHA\"\n\nconst Container = styled(\"div\")({\n  width: \"100vw\",\n  minHeight: \"100vh\",\n  backgroundColor: colors.grey[900],\n  padding: 32,\n  \"& .title\": {\n    color: colors.grey[200],\n    fontSize: 24,\n    fontWeight: \"bold\",\n  },\n  \"& .subtitle\": {\n    color: colors.grey[300],\n    fontSize: 18,\n    marginTop: 8,\n  },\n  \"& .info\": {\n    width: \"100%\",\n    boxSizing: \"border-box\",\n    padding: 32,\n    \"& textarea\": {\n      width: \"calc(100% - 64px)\",\n      boxSizing: \"border-box\",\n      minHeight: 300,\n      fontSize: 12,\n    },\n  },\n})\nconst Buttons = styled(\"div\")({\n  padding: 8,\n})\nconst StyledButton = styled(Button)({\n  color: \"#fff\",\n  borderColor: \"rgba(255,255,255,0.5)\",\n  margin: 8,\n})\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    console.error(\n      \"The following error occurred when loading a labeling interface:\",\n      error\n    )\n    return {\n      hasError: true,\n      errorString: error.toString(),\n    }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    Sentry.withScope((scope) => {\n      scope.setExtras(errorInfo)\n      const eventId = Sentry.captureException(error)\n      this.setState({ eventId })\n    })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <BadOHA\n          title=\"An error occurred loading the labeling interface\"\n          description={this.state.errorString}\n        />\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","// @flow weak\n\nimport React, { useState, useEffect } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport templates from \"../StartingPage/templates\"\nimport Button from \"@material-ui/core/Button\"\nimport Box from \"@material-ui/core/Box\"\nimport * as colors from \"@material-ui/core/colors\"\nimport ConfigureImageSegmentation from \"../ConfigureImageSegmentation\"\nimport ConfigureImageClassification from \"../ConfigureImageClassification\"\nimport ConfigureTextClassification from \"../ConfigureTextClassification\"\nimport PaperContainer from \"../PaperContainer\"\nimport ConfigureAudioTranscription from \"../ConfigureAudioTranscription\"\nimport ConfigureNLP from \"../ConfigureNLP\"\nimport ConfigureDataEntry from \"../ConfigureDataEntry\"\nimport ConfigureComposite from \"../ConfigureComposite\"\nimport Configure3D from \"../Configure3D\"\nimport ConfigureVideoSegmentation from \"../ConfigureVideoSegmentation\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport { setIn } from \"seamless-immutable\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LabelErrorBoundary from \"../LabelErrorBoundary\"\nimport useEventCallback from \"use-event-callback\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\n\nconst noop = () => {}\n\nconst Container = styled(\"div\")({ padding: 24 })\n\nconst NoOptions = styled(\"div\")({\n  fontSize: 18,\n  textAlign: \"center\",\n  fontWeight: \"bold\",\n  color: colors.grey[500],\n  paddingTop: 30,\n  paddingBottom: 50,\n})\n\nconst TypeButton = styled(Button)({\n  margin: 8,\n  \"& .icon\": {\n    marginRight: 8,\n    color: \"#888\",\n  },\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  \"&.selected\": {\n    backgroundColor: colors.blue[500],\n    color: \"#fff\",\n    \"& .icon\": {\n      color: \"#fff\",\n    },\n  },\n})\n\nexport const Heading = styled(\"div\")({\n  fontWeight: \"bold\",\n  textTransform: \"uppercase\",\n  fontSize: 12,\n  paddingLeft: 8,\n  marginBottom: 8,\n  marginTop: 16,\n  color: colors.grey[700],\n})\n\nconst PreviewContainer = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"space-around\",\n  mouseEvents: \"none\",\n  padding: 16,\n})\nconst PreviewContent = styled(\"div\")({\n  display: \"flex\",\n  width: \"100%\",\n  height: 600,\n})\n\nconst SelectType = ({ currentlySelected, onChange }) => {\n  return templates.map((t) => (\n    <TypeButton\n      key={t.oha.interface.type || \"empty\"}\n      className={currentlySelected === t.oha.interface.type ? \"selected\" : \"\"}\n      variant=\"outlined\"\n      onClick={() => {\n        if (currentlySelected !== t.oha.interface.type) {\n          onChange(t.oha.interface.type)\n        }\n      }}\n    >\n      <t.Icon className=\"icon\" />\n      {t.name}\n    </TypeButton>\n  ))\n}\n\nexport const ConfigureInterface = ({\n  iface = {},\n  onChange: onChangeProp,\n  onClickEditJSON,\n  isNested = false,\n}) => {\n  const [previewChangedTime, changePreviewChangedTime] = useState(0)\n  const [previewLoading, changePreviewLoading] = useState(false)\n  const [previewVersion, changePreviewVersion] = useState(0)\n  const onChange = useEventCallback((...args) => {\n    changePreviewChangedTime(Date.now())\n    onChangeProp(...args)\n  })\n  useEffect(() => {\n    if (Date.now() - previewChangedTime > 1000) return\n    changePreviewLoading(true)\n    let timeout = setTimeout(() => {\n      changePreviewLoading(false)\n      changePreviewVersion(previewVersion + 1)\n    }, 1000)\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [previewChangedTime])\n  return (\n    <Container>\n      <Heading>Interface Type</Heading>\n      <SelectType\n        currentlySelected={iface.type}\n        onChange={(type) => {\n          onChange(\n            templates\n              .map((t) => t.oha.interface)\n              .find((t) => t.type === type) || {}\n          )\n          // onChange(setIn(iface, [\"type\"], type))\n        }}\n      />\n      <Grid container>\n        <Grid item hidden={isNested} xs={12} md={6}>\n          <Heading>Preview</Heading>\n          <PreviewContainer>\n            <PreviewContent style={{ opacity: previewLoading ? 0.5 : 1 }}>\n              <LabelErrorBoundary key={previewVersion}>\n                <UniversalDataViewer\n                  key={previewVersion}\n                  height={600}\n                  onExit={noop}\n                  onSaveTaskOutputItem={noop}\n                  oha={{\n                    interface: iface,\n                    taskData: [\n                      (\n                        templates.find(\n                          (template) =>\n                            template.oha.interface.type === iface.type\n                        ) || { oha: { taskData: [{}] } }\n                      ).oha.taskData[0],\n                    ],\n                  }}\n                />\n              </LabelErrorBoundary>\n            </PreviewContent>\n          </PreviewContainer>\n        </Grid>\n        <Grid item xs={12} md={isNested ? 12 : 6}>\n          <Heading>Options</Heading>\n          <Box paddingTop={2} />\n          {!iface.type && <NoOptions>Select a Type</NoOptions>}\n          {iface.type === \"image_segmentation\" && (\n            <ConfigureImageSegmentation iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"image_classification\" && (\n            <ConfigureImageClassification iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"composite\" && (\n            <ConfigureComposite iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"data_entry\" && (\n            <ConfigureDataEntry iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"audio_transcription\" && (\n            <ConfigureAudioTranscription iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"text_entity_recognition\" && (\n            <ConfigureNLP iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"text_classification\" && (\n            <ConfigureTextClassification iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"video_segmentation\" && (\n            <ConfigureVideoSegmentation iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"3d_bounding_box\" && (\n            <Configure3D iface={iface} onChange={onChange} />\n          )}\n        </Grid>\n      </Grid>\n    </Container>\n  )\n}\n\nexport default ConfigureInterface\n","// @flow weak\n\nimport React from \"react\"\nimport ConfigureInterface, { Heading } from \"../ConfigureInterface\"\nimport { useUpdate } from \"react-use\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport PaperContainer from \"../PaperContainer\"\nimport Box from \"@material-ui/core/Box\"\nimport Paper from \"@material-ui/core/Paper\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useIsDesktop from \"../../utils/use-is-desktop\"\n\nconst Button = styled(MuiButton)({\n  margin: 8,\n})\n\nexport default ({ oha, onChange, onClickEditJSON, onClearLabelData }) => {\n  const { interface: iface } = oha\n  const posthog = usePosthog()\n  const forceUpdate = useUpdate()\n  const isDesktop = useIsDesktop()\n\n  return (\n    <div>\n      <ConfigureInterface\n        iface={iface}\n        onChange={onChange}\n        onClickEditJSON={onClickEditJSON}\n        isNotNested\n      />\n      <PaperContainer>\n        <Heading>Advanced</Heading>\n        <Box padding={2}>\n          <Button onClick={onClickEditJSON} variant=\"outlined\">\n            Edit JSON\n          </Button>\n          <Button\n            onClick={() => {\n              if (\n                window.confirm(\n                  \"Are you sure you want to delete all your label data? Click OK to delete.\"\n                )\n              ) {\n                onClearLabelData()\n              }\n            }}\n            variant=\"outlined\"\n          >\n            Clear All Labels\n          </Button>\n          <Button\n            onClick={onClickEditJSON}\n            variant=\"outlined\"\n            onClick={() => {\n              if (posthog.has_opted_out_capturing()) {\n                posthog.opt_in_capturing()\n              } else {\n                posthog.opt_out_capturing()\n              }\n              forceUpdate()\n            }}\n          >\n            {posthog.has_opted_out_capturing() ? \"Enable\" : \"Disable\"} Telemetry\n          </Button>\n          <Button\n            onClick={onClickEditJSON}\n            variant=\"outlined\"\n            onClick={() => {\n              const response = window.prompt(\n                \"Input URL for new collaboration server (empty to use universaldatatool.com):\",\n                window.localStorage.getItem(\"CUSTOM_COLLABORATION_SERVER\") || \"\"\n              )\n              if (response === null) return\n              window.localStorage.setItem(\n                \"CUSTOM_COLLABORATION_SERVER\",\n                response\n              )\n              window.location.reload()\n            }}\n          >\n            Custom Collaboration Server\n          </Button>\n        </Box>\n      </PaperContainer>\n    </div>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport AceEditor from \"react-ace\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nexport default ({ open, sampleIndex, sampleInput, onChange, onClose }) => {\n  const [text, changeText] = useState()\n  const [error, changeError] = useState()\n  useEffect(() => {\n    const newText = JSON.stringify(sampleInput, null, \"  \")\n    if (newText !== text) {\n      changeText(newText)\n      changeError(null)\n    }\n  }, [sampleIndex])\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title={`taskData[${sampleIndex}]`}\n    >\n      <AceEditor\n        theme=\"github\"\n        mode=\"javascript\"\n        width=\"100%\"\n        value={text}\n        editorProps={{ $blockScrolling: Infinity }}\n        onChange={(t) => {\n          changeText(t)\n          changeError(null)\n          try {\n            onChange(JSON.parse(t))\n          } catch (e) {\n            changeError(e.toString())\n          }\n        }}\n      />\n      <Box color=\"red\">{error}</Box>\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({})\nconst Stat = styled(\"div\")({\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  margin: 16,\n})\nconst Label = styled(\"div\")({\n  fontSize: 14,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n})\nconst Value = styled(\"div\")({\n  fontSize: 32,\n  marginTop: 8,\n})\n\nexport default ({ stats }) => {\n  return (\n    <Container>\n      {stats.map((s) => (\n        <Stat key={s.name}>\n          <Label>{s.name}</Label>\n          <Value>{s.value}</Value>\n        </Stat>\n      ))}\n    </Container>\n  )\n}\n","// @flow\nimport React, {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  useReducer,\n} from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\nimport classNames from \"classnames\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"flex-start\",\n    pointerEvents: \"none\",\n  },\n  msgBox: {\n    display: \"flex\",\n    backgroundColor: colors.blue[700],\n    fontSize: 12,\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4,\n    boxShadow: \"0px 3px 8px rgba(0,0,0,0.5)\",\n    \"&.warning\": {\n      backgroundColor: colors.orange[700],\n    },\n    \"&.error\": {\n      backgroundColor: colors.red[700],\n    },\n  },\n})\n\nconst REFRESH_INTERVAL = 100\n\nconst ToastContext = createContext()\n\nexport const useToasts = () => {\n  const { addToast } = useContext(ToastContext)\n\n  return { addToast }\n}\n\nexport const ToastProvider = ({ children }) => {\n  const [toasts, changeToasts] = useReducer((state = [], action) => {\n    if (action.type === \"add\") {\n      const fullLife =\n        action.messageType === \"info\"\n          ? 2000\n          : action.messageType === \"warning\"\n          ? 5000\n          : 5000\n\n      return state.concat([\n        {\n          id: Math.random().toString().split(\".\")[1],\n          message: action.message,\n          type: action.messageType,\n          life: fullLife,\n          fullLife,\n        },\n      ])\n    } else if (action.type === \"tick\") {\n      return state\n        .map((msg) => ({\n          ...msg,\n          life: msg.life - REFRESH_INTERVAL,\n        }))\n        .filter((msg) => msg.life > 0)\n    }\n    return state\n  }, [])\n  const c = useStyles()\n\n  useEffect(() => {\n    if (toasts.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeToasts({ type: \"tick\" })\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [toasts])\n\n  const addToast = (message: string, messageType: string = \"info\") =>\n    changeToasts({ type: \"add\", message, messageType })\n\n  return (\n    <>\n      <ToastContext.Provider value={{ toasts, addToast }}>\n        {children}\n      </ToastContext.Provider>\n      <div className={c.root}>\n        {toasts.map((msg) => (\n          <Collapse key={msg.id} in={msg.life < msg.fullLife}>\n            <Fade in={msg.life > 600}>\n              <div className={classNames(c.msgBox, msg.type)}>\n                {msg.message}\n              </div>\n            </Fade>\n          </Collapse>\n        ))}\n      </div>\n    </>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect, useReducer } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Typography from \"@material-ui/core/Typography\"\nimport GithubIcon from \"../Header/GithubIcon.js\"\nimport Header from \"../Header\"\nimport brace from \"brace\"\nimport AceEditor from \"react-ace\"\nimport NextIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport defaultOHAObject from \"./default-oha-object\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport EditableTitleText from \"./EditableTitleText.js\"\nimport SamplesView from \"../SamplesView\"\nimport InterfacePage from \"../InterfacePage\"\nimport EditSampleDialog from \"../EditSampleDialog\"\nimport SampleGrid from \"../SampleGrid\"\nimport PaperContainer from \"../PaperContainer\"\nimport Stats from \"../Stats\"\nimport useElectron from \"../../utils/use-electron\"\nimport moment from \"moment\"\nimport duration from \"duration\"\nimport useTimeToCompleteSample from \"../../utils/use-time-to-complete-sample.js\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { useToasts } from \"../Toasts\"\nimport { setIn, without } from \"seamless-immutable\"\nimport useEventCallback from \"use-event-callback\"\nimport LabelErrorBoundary from \"../LabelErrorBoundary\"\nimport usePosthog from \"../../utils/use-posthog\"\n\nimport \"brace/mode/javascript\"\nimport \"brace/theme/github\"\n\nconst useStyles = makeStyles({\n  headerButton: {\n    color: \"#fff\",\n  },\n  saveIcon: {\n    marginRight: 4,\n  },\n  editIcon: {\n    marginLeft: 4,\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n})\n\nconst headerTabs = [\"Setup\", \"Samples\", \"Label\"]\n\nexport default ({\n  datasetName = \"Universal Data Tool\",\n  oha,\n  content,\n  inSession,\n  url,\n  fileName = \"unnamed\",\n  onChangeFileName,\n  onChangeOHA = () => null,\n  onFileDrop,\n  initialMode = \"setup\", //= \"samples\"\n  selectedBrush = \"complete\",\n}) => {\n  const c = useStyles()\n  const { addToast } = useToasts()\n  const [mode, changeMode] = useState(initialMode)\n  const [singleSampleOHA, changeSingleSampleOHA] = useState()\n  const [sampleInputEditor, changeSampleInputEditor] = useState({})\n  const [jsonText, changeJSONText] = useState()\n  const { remote, ipcRenderer } = useElectron() || {}\n  const posthog = usePosthog()\n\n  const [\n    timeToCompleteSample,\n    changeSampleTimeToComplete,\n  ] = useTimeToCompleteSample()\n\n  useEffect(() => {\n    if (!ipcRenderer) return\n    const onOpenSettingsPage = () => changeMode(\"settings\")\n    const onOpenSamplesPage = () => changeMode(\"samples\")\n    const onOpenLabelPage = () => changeMode(\"label\")\n    ipcRenderer.on(\"open-settings-page\", onOpenSettingsPage)\n    ipcRenderer.on(\"open-samples-page\", onOpenSamplesPage)\n    ipcRenderer.on(\"open-label-page\", onOpenLabelPage)\n    return () => {\n      ipcRenderer.removeListener(\"open-settings-page\", onOpenSettingsPage)\n      ipcRenderer.removeListener(\"open-samples-page\", onOpenSamplesPage)\n      ipcRenderer.removeListener(\"open-label-page\", onOpenLabelPage)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (mode === \"json\") {\n      changeJSONText(JSON.stringify(oha, null, \"  \"))\n    }\n    if (mode !== \"label\") {\n      changeSingleSampleOHA(null)\n    }\n    posthog.capture(\"open_editor_tab\", { tab: mode })\n  }, [mode])\n\n  useEffect(() => {\n    if (!jsonText || mode !== \"json\") return\n    try {\n      // TODO schema validation etc.\n      onChangeOHA(JSON.parse(jsonText))\n    } catch (e) {}\n  }, [jsonText])\n\n  const onChangeTab = useEventCallback((tab) => changeMode(tab.toLowerCase()))\n\n  let percentComplete = 0\n  if (\n    oha.taskOutput &&\n    oha.taskOutput.length > 0 &&\n    oha.taskData &&\n    oha.taskData.length > 0\n  ) {\n    percentComplete =\n      oha.taskOutput.filter(Boolean).length / oha.taskData.length\n  }\n\n  return (\n    <div className={c.container}>\n      <Header\n        title={\n          inSession ? (\n            <TextField\n              label=\"Share Link\"\n              value={url}\n              variant=\"outlined\"\n              size=\"small\"\n            />\n          ) : (\n            <EditableTitleText\n              label=\"File Name\"\n              onChange={onChangeFileName}\n              value={fileName || \"\"}\n            />\n          )\n        }\n        onChangeTab={onChangeTab}\n        currentTab={mode}\n        tabs={headerTabs}\n      />\n      <div style={{ overflowY: \"scroll\" }}>\n        {mode === \"json\" && (\n          <AceEditor\n            theme=\"github\"\n            mode=\"javascript\"\n            width=\"100%\"\n            value={jsonText || \"\"}\n            editorProps={{ $blockScrolling: Infinity }}\n            onChange={(t) => changeJSONText(t)}\n          />\n        )}\n        {mode === \"setup\" && (\n          <InterfacePage\n            onClickEditJSON={() => changeMode(\"json\")}\n            oha={oha}\n            onClearLabelData={() => {\n              onChangeOHA(without(oha, \"taskOutput\"))\n            }}\n            onChange={(iface) => {\n              if (\n                iface.type !== oha.interface.type &&\n                oha.interface.type !== \"empty\" &&\n                oha.taskOutput &&\n                oha.taskOutput.some(Boolean)\n              ) {\n                addToast(\n                  \"Warning: Changing label types can cause label data issues. You might want to clear all label data.\",\n                  \"error\"\n                )\n              }\n              onChangeOHA({\n                ...oha,\n                interface: iface,\n              })\n            }}\n          />\n        )}\n        {mode === \"samples\" && (\n          <SamplesView\n            oha={oha}\n            openSampleLabelEditor={(sampleIndex) => {\n              changeSingleSampleOHA({\n                ...oha,\n                taskData: [oha.taskData[sampleIndex]],\n                taskOutput: [(oha.taskOutput || [])[sampleIndex]],\n                sampleIndex,\n                annotationStartTime: Date.now(),\n              })\n              posthog.capture(\"open_sample\", {\n                interface_type: oha.interface.type,\n              })\n              changeMode(\"label\")\n            }}\n            openSampleInputEditor={(sampleIndex) => {\n              changeSampleInputEditor({ open: true, sampleIndex })\n            }}\n            deleteSample={(sampleIndex) => {\n              const newTaskData = [...oha.taskData]\n              const newTaskOutput = oha.taskOutput\n                ? [...oha.taskOutput]\n                : undefined\n              newTaskData.splice(sampleIndex, 1)\n              if (newTaskOutput) {\n                newTaskOutput.splice(sampleIndex, 1)\n              }\n              onChangeOHA({\n                ...oha,\n                taskData: newTaskData,\n                taskOutput: newTaskOutput,\n              })\n            }}\n            onChangeOHA={onChangeOHA}\n          />\n        )}\n        {mode === \"label\" && singleSampleOHA ? (\n          <LabelErrorBoundary>\n            <UniversalDataViewer\n              datasetName={`Sample ${singleSampleOHA.sampleIndex}`}\n              onSaveTaskOutputItem={(relativeIndex, output) => {\n                let newOHA = oha\n                if (!newOHA.taskOutput) {\n                  newOHA = setIn(\n                    newOHA,\n                    [\"taskOutput\"],\n                    (newOHA.taskData || []).map((td) => null)\n                  )\n                }\n                if (\n                  newOHA.taskOutput.length < newOHA.taskData.length ||\n                  newOHA.taskOutput.includes(undefined)\n                ) {\n                  newOHA = setIn(\n                    newOHA,\n                    [\"taskOutput\"],\n                    newOHA.taskData.map((td, tdi) =>\n                      newOHA.taskOutput[tdi] === undefined\n                        ? null\n                        : newOHA.taskOutput[tdi]\n                    )\n                  )\n                }\n                newOHA = setIn(\n                  newOHA,\n                  [\"taskOutput\", singleSampleOHA.sampleIndex],\n                  output\n                )\n\n                if (\n                  singleSampleOHA.taskData[0].brush !== selectedBrush &&\n                  !(\n                    singleSampleOHA.taskData[0].brush === undefined &&\n                    selectedBrush === \"complete\"\n                  )\n                ) {\n                  newOHA = setIn(\n                    newOHA,\n                    [\"taskData\", singleSampleOHA.sampleIndex, \"brush\"],\n                    selectedBrush\n                  )\n                }\n                changeSingleSampleOHA(\n                  setIn(singleSampleOHA, [\"taskOutput\", relativeIndex], output)\n                )\n                onChangeOHA(newOHA)\n              }}\n              onExit={(nextAction = \"nothing\") => {\n                if (singleSampleOHA.startTime) {\n                  changeSampleTimeToComplete(\n                    Date.now() - singleSampleOHA.startTime\n                  )\n                }\n                const { sampleIndex } = singleSampleOHA\n                switch (nextAction) {\n                  case \"go-to-next\":\n                    if (sampleIndex !== oha.taskData.length - 1) {\n                      posthog.capture(\"next_sample\", {\n                        interface_type: oha.interface.type,\n                      })\n                      changeSingleSampleOHA({\n                        ...oha,\n                        taskData: [oha.taskData[sampleIndex + 1]],\n                        taskOutput: [(oha.taskOutput || [])[sampleIndex + 1]],\n                        sampleIndex: sampleIndex + 1,\n                        startTime: Date.now(),\n                      })\n                      return\n                    }\n                    break\n                  case \"go-to-previous\":\n                    if (sampleIndex !== 0) {\n                      changeSingleSampleOHA({\n                        ...oha,\n                        taskData: [oha.taskData[sampleIndex - 1]],\n                        taskOutput: [(oha.taskOutput || [])[sampleIndex - 1]],\n                        sampleIndex: sampleIndex - 1,\n                        startTime: Date.now(),\n                      })\n                      return\n                    }\n                    break\n                }\n                changeSingleSampleOHA(null)\n              }}\n              oha={singleSampleOHA}\n              onClickSetup={() => changeMode(\"setup\")}\n            />\n          </LabelErrorBoundary>\n        ) : (\n          mode === \"label\" && (\n            <PaperContainer>\n              <Stats\n                stats={[\n                  {\n                    name: \"Percent Complete\",\n                    value: Math.floor(percentComplete * 100) + \"%\",\n                  },\n                  {\n                    name: \"Time per Sample\",\n                    value: duration(\n                      new Date(Date.now() - timeToCompleteSample)\n                    ).toString(1, 1),\n                  },\n                  {\n                    name: \"Estimated Remaining\",\n                    value: duration(\n                      new Date(\n                        Date.now() -\n                          timeToCompleteSample *\n                            (1 - percentComplete) *\n                            (oha.taskData || []).length\n                      )\n                    ).toString(1, 2),\n                  },\n                ]}\n              />\n              <SampleGrid\n                count={(oha.taskData || []).length}\n                taskData={oha.taskData || []}\n                completed={(oha.taskOutput || []).map(Boolean)}\n                onClick={(sampleIndex) => {\n                  posthog.capture(\"open_sample\", {\n                    interface_type: oha.interface.type,\n                  })\n                  changeSingleSampleOHA({\n                    ...oha,\n                    taskData: [oha.taskData[sampleIndex]],\n                    taskOutput: [(oha.taskOutput || [])[sampleIndex]],\n                    sampleIndex,\n                    startTime: Date.now(),\n                  })\n                }}\n              />\n            </PaperContainer>\n          )\n        )}\n      </div>\n      <EditSampleDialog\n        {...sampleInputEditor}\n        sampleInput={\n          sampleInputEditor.sampleIndex !== undefined\n            ? oha.taskData[sampleInputEditor.sampleIndex]\n            : null\n        }\n        onClose={() => {\n          changeSampleInputEditor({ open: false })\n        }}\n        onChange={(newInput) => {\n          onChangeOHA(\n            setIn(oha, [\"taskData\", sampleInputEditor.sampleIndex], newInput)\n          )\n        }}\n      />\n    </div>\n  )\n}\n","import { useReducer } from \"react\"\n\nexport default () => {\n  const [{ timeToCompleteSample }, changeSampleTimeToComplete] = useReducer(\n    (state, newTimeToComplete) => {\n      const newSamplesInWindow = state.samplesInWindow\n        .slice(-10)\n        .concat([newTimeToComplete])\n      return {\n        timeToCompleteSample:\n          newSamplesInWindow.reduce((acc, a) => acc + a, 0) /\n          newSamplesInWindow.length,\n        samplesInWindow: newSamplesInWindow,\n      }\n    },\n    { timeToCompleteSample: 0, samplesInWindow: [] }\n  )\n  return [timeToCompleteSample, changeSampleTimeToComplete]\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { red } from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n    pointerEvents: \"none\",\n  },\n  errorBox: {\n    display: \"flex\",\n    backgroundColor: red[700],\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4,\n  },\n})\n\nexport default ({ errors }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      {errors.map((err) => (\n        <Collapse key={err.id} in={err.life < 5000}>\n          <Fade in={err.life > 500}>\n            <div className={c.errorBox}>{err.message}</div>\n          </Fade>\n        </Collapse>\n      ))}\n    </div>\n  )\n}\n","// @flow\n\nimport { useState, useEffect } from \"react\"\n\nconst REFRESH_INTERVAL = 100\n\nexport default () => {\n  const [errors, changeErrors] = useState([])\n  useEffect(() => {\n    if (errors.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeErrors(\n        errors\n          .map((err) => ({\n            ...err,\n            life: err.life - REFRESH_INTERVAL,\n          }))\n          .filter((err) => err.life > 0)\n      )\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [errors])\n\n  function addError(message: string) {\n    changeErrors(\n      errors.concat([\n        {\n          id: Math.random().toString().split(\".\")[1],\n          message,\n          life: 5000,\n        },\n      ])\n    )\n  }\n\n  return [errors, addError]\n}\n","/*\nThis doesn't handle a fair number of edge cases, for the full specification\nfor what it should implement, see https://tools.ietf.org/html/rfc6902\n\nWhen applySeamlessPatch is called, it usually is accompanied by a object hash\ncheck to make sure that the patch applied correctly, and if not, perform\na download of the latest version. Because of this, we can safely ignore the\ntricky edge cases.\n*/\n\nimport seamless from \"seamless-immutable\"\n\nconst { setIn, getIn, updateIn, without } = seamless\n\nfunction addToArray(a, newValue) {\n  return a.concat([newValue])\n}\n\nfunction withoutIn(obj, path) {\n  if (path.length === 0) return without(obj, path[0])\n  const parentPath = path.slice(0, -1)\n  const key = path[path.length - 1]\n  const parentObj = getIn(obj, parentPath)\n  if (Array.isArray(parentObj)) {\n    const index = parseInt(key)\n    return setIn(obj, parentPath, [\n      ...parentObj.slice(0, index),\n      ...parentObj.slice(index + 1),\n    ])\n  } else {\n    return setIn(obj, parentPath, without(parentObj, key))\n  }\n}\n\nexport default (object, patches) => {\n  for (const patch of patches) {\n    let { op, path } = patch\n    path = path.split(\"/\").filter(Boolean)\n    if (path.length === 0) {\n      // this operation is on the root object, special handling should apply\n      if (op === \"replace\") {\n        object = patch.value\n        continue\n      }\n      throw new Error(\"Operation on root object not supported\")\n    }\n    switch (op) {\n      case \"replace\": {\n        object = setIn(object, path, patch.value)\n        continue\n      }\n      case \"copy\": {\n        object = setIn(object, path, getIn(object, patch.from.split(\"/\")))\n        continue\n      }\n      case \"add\": {\n        if (!isNaN(parseInt(path.slice(-1)[0]))) {\n          object = setIn(object, path, patch.value)\n        } else {\n          const arrayAtPath = Array.isArray(getIn(object, path))\n          if (arrayAtPath) {\n            object = updateIn(object, path, addToArray, patch.value)\n          } else {\n            object = setIn(object, path, patch.value)\n          }\n        }\n        continue\n      }\n      case \"move\": {\n        const from = patch.from.split(\"/\")\n        object = setIn(object, path, getIn(object, from))\n        object = withoutIn(object, from)\n        continue\n      }\n      case \"remove\": {\n        object = withoutIn(object, path)\n        continue\n      }\n    }\n  }\n  return object\n}\n","// @flow weak\n\nexport default (changeLog) => {\n  const humanReadableChangeLog = []\n  for (const { userName, op, path } of changeLog) {\n    if (path.startsWith(\"/interface\")) {\n      humanReadableChangeLog.push({\n        type: \"warning\",\n        message: `${userName} changed the project settings`,\n      })\n    } else if (path.startsWith(\"/taskOutput\")) {\n      const sampleMatch = path.match(/\\/taskOutput\\/([^\\/]+)/)\n      if (sampleMatch) {\n        humanReadableChangeLog.push({\n          type: \"info\",\n          message: `${userName} labeled sample ${sampleMatch[1]}`,\n        })\n      } else {\n        humanReadableChangeLog.push({\n          type: \"info\",\n          message: `${userName} changed many samples`,\n        })\n      }\n    } else if (path.startsWith(\"/taskData\")) {\n      if (path.endsWith(\"brush\")) continue\n      humanReadableChangeLog.push({\n        type: \"warning\",\n        message: `${userName} changed sample data`,\n      })\n    } else {\n      humanReadableChangeLog.push({\n        message: `${userName} did a ${op} at ${path}`,\n        type: \"info\",\n      })\n    }\n  }\n  return humanReadableChangeLog\n}\n","// This is the same hashing code that the server uses\n\nconst stringify = require(\"json-stable-stringify\")\n\nconst hashString = (s) => {\n  var hash = 0,\n    i,\n    chr\n  for (i = 0; i < s.length; i++) {\n    chr = s.charCodeAt(i)\n    hash = (hash << 5) - hash + chr\n    hash |= 0\n  }\n  return hash\n}\n\nexport default (o) => hashString(stringify(o))\n","// @flow weak\n\nimport objectHash from \"object-hash\"\n// NOTE: for unit tests you need to change the following line to...\n// import rfc6902 from \"rfc6902\"\nimport * as rfc6902 from \"rfc6902\"\nimport bent from \"bent\"\nimport moment from \"moment\"\nimport getHumanReadableLog from \"./get-human-readable-log.js\"\nimport applySeamlessPatch from \"./apply-seamless-patch.js\"\nimport seamless from \"seamless-immutable\"\nimport hash from \"./server-hash.js\"\n\nclass CollaborationHandler {\n  serverUrl = \"http://localhost:6003\"\n  getJSON = (url, payload, opts) => {}\n  postJSON = (url, payload, opts) => {}\n  patchJSON = (url, payload, opts) => {}\n  userName = \"anonymous\"\n\n  sessionId = null\n  state = null\n  version = null\n\n  constructor({ serverUrl, userName }) {\n    this.serverUrl = serverUrl\n    this.getJSON = bent(\"json\", \"GET\", serverUrl)\n    this.postJSON = bent(\"json\", \"POST\", serverUrl)\n    this.patchJSON = bent(\"json\", \"PATCH\", serverUrl)\n    this.userName =\n      userName || `anonymous_${Math.random().toString(36).slice(2, 6)}`\n  }\n\n  async createSession(initialContent) {\n    const response = await this.postJSON(\"/api/session\", {\n      udt: initialContent,\n    })\n\n    this.state = initialContent\n    this.sessionId = response.short_id\n    this.version = response.version\n  }\n\n  async getLatestState() {\n    try {\n      const res = await this.getJSON(\n        `/api/session/${encodeURIComponent(this.sessionId)}`\n      )\n      return {\n        state: res.udt_json,\n        version: res.version,\n      }\n    } catch (e) {\n      throw new Error(\n        `error getting session \"${this.sessionId}\": ${e.toString()}`\n      )\n    }\n  }\n\n  async updateToLatestState() {\n    const { state, version } = await this.getLatestState()\n    this.state = state\n    this.version = version\n  }\n\n  async joinSession(sessionId) {\n    this.sessionId = sessionId\n    await this.updateToLatestState()\n  }\n\n  async applyLatestPatches() {\n    const {\n      error,\n      patch,\n      hashOfLatestState,\n      latestVersion,\n      changeLog,\n    } = await this.getJSON(\n      `/api/session/${encodeURIComponent(this.sessionId)}/diffs?since=${\n        this.version\n      }`\n    )\n\n    if (patch.length === 0 || latestVersion === this.version) {\n      return null\n    }\n\n    const humanReadableLog = getHumanReadableLog(changeLog)\n\n    let newState = applySeamlessPatch(this.state, patch)\n\n    if (hash(newState) !== hashOfLatestState) {\n      console.error(\"new state with patches applied didn't match latest state\")\n      const { state: latest, version } = await this.getLatestState()\n      await this.updateToLatestState()\n      return { patch, changeLog: humanReadableLog }\n    }\n\n    this.state = newState\n    this.version = latestVersion\n    return { patch, changeLog: humanReadableLog }\n  }\n\n  async sendPatchIfChanged(newState) {\n    const patch = rfc6902.createPatch(this.state, newState)\n    if (patch.length === 0) return null\n\n    const { hashOfLatestState, latestVersion } = await this.patchJSON(\n      `/api/session/${encodeURIComponent(this.sessionId)}`,\n      {\n        patch,\n        userName: this.userName,\n      }\n    )\n\n    if (hash(newState) !== hashOfLatestState) {\n      console.error(\n        \"after patch, hashes were not equal! getting latest version from server...\"\n      )\n      await this.updateToLatestState()\n      return this\n    }\n\n    this.state = newState\n    this.version = latestVersion\n    return this\n  }\n}\n\nexport default CollaborationHandler\n","// @flow\n\nimport { useState, useEffect } from \"react\"\nimport moment from \"moment\"\n// import { useToasts } from \"../../../components/Toasts\"\nimport seamless from \"seamless-immutable\"\nimport applySeamlessPatch from \"./apply-seamless-patch\"\nimport CollaborationHandler from \"./handler.js\"\n\nconst { setIn, from: makeImmutable } = seamless\n\nconst serverUrl =\n  window.localStorage.CUSTOM_COLLABORATION_SERVER ||\n  \"https://udt-collaboration-server.now.sh\"\n\n// We use a global singleton to manage the collaboration state machine\nconst collab = new CollaborationHandler({ serverUrl })\n\nexport const convertToCollaborativeFile = async (file) => {\n  await collab.createSession(file.content)\n  return {\n    fileName: file.fileName,\n    id: file.id,\n    sessionId: collab.sessionId,\n    url: `${window.location.origin}?s=${collab.sessionId}`,\n    content: file.content,\n    mode: \"server\",\n  }\n}\n\nexport const joinSession = async (sessionId) => {\n  await collab.joinSession(sessionId)\n  return {\n    state: collab.state,\n    version: collab.version,\n  }\n}\n\nexport default (file, changeFile) => {\n  // const { addToast } = useToasts()\n  const userName = window.localStorage.userName\n  useEffect(() => {\n    if (userName && !userName.includes(\"anonymous\")) {\n      try {\n        collab.userName = JSON.parse(window.localStorage.userName)\n      } catch (e) {}\n    }\n  }, [userName])\n\n  useEffect(() => {\n    if (!file || file.mode !== \"server\") return\n    if (file.sessionId !== collab.sessionId) return\n\n    const checkForLatestPatch = async () => {\n      const applyResult = await collab.applyLatestPatches()\n\n      if (applyResult) {\n        changeFile({\n          ...file,\n          content: collab.state,\n        })\n      }\n\n      if (!timeout) return\n      timeout = setTimeout(checkForLatestPatch, 500)\n    }\n\n    let timeout = setTimeout(checkForLatestPatch, 500)\n    return () => {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }, [file])\n\n  // Update the Server State by Sending Patches\n  useEffect(() => {\n    if (!file || file.mode !== \"server\") return\n    async function doPatch() {\n      const patchResult = await collab.sendPatchIfChanged(file.content)\n    }\n    doPatch()\n  }, [file && file.content])\n}\n","import JAC from \"jac-format\"\nimport range from \"lodash/range\"\nimport { flatten } from \"flat\"\n\nexport default (obj) => {\n  const samplesObj = {}\n\n  // Convert to single samples array\n  samplesObj.interface = obj.interface\n  samplesObj.samples = obj.taskData.map((td, i) => ({\n    ...td,\n    output: (obj.taskOutput || [])[i],\n  }))\n\n  // Find all possible sample keys\n  let sampleKeys = new Set()\n  for (const sample of samplesObj.samples) {\n    Object.keys(flatten(sample)).forEach((k) => sampleKeys.add(k))\n  }\n  sampleKeys = Array.from(sampleKeys).sort(\n    (a, b) => a.split(\".\").length - b.split(\".\").length\n  )\n\n  if (sampleKeys.some((k) => k.includes(\"output.keyframes\"))) {\n    sampleKeys = sampleKeys.filter((k) => k.includes(\"output.keyframes\"))\n    sampleKeys.push(\"output.keyframes\")\n  }\n\n  const options = {\n    rows: [\n      \"interface\",\n      ...range(samplesObj.samples.length).map((i) => `samples.${i}`),\n    ],\n    columns: [\".\", ...sampleKeys],\n  }\n\n  return JAC.toCSV(samplesObj, options)\n}\n","// @flow\n\nimport { useEffect } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport useElectron from \"../use-electron.js\"\nimport { useToasts } from \"../../components/Toasts\"\nimport templates from \"../../components/StartingPage/templates.js\"\nimport { setIn } from \"seamless-immutable\"\nimport toUDTCSV from \"../to-udt-csv.js\"\nimport useIsDesktop from \"../use-is-desktop\"\n\nconst webReturn = { saveFile: () => null }\n\nexport default (file, changeFile) => {\n  const isDesktop = useIsDesktop()\n  if (!isDesktop) return webReturn\n  const { addToast } = useToasts()\n  const { remote, ipcRenderer } = useElectron()\n  const saveFile = useEventCallback(({ saveAs = false } = {}) => {\n    if (!file) return\n    async function saveFileAsync() {\n      let filePath = file.filePath\n      if (!file.filePath || saveAs) {\n        const {\n          cancelled,\n          filePath: newFilePath,\n        } = await remote.dialog.showSaveDialog({\n          filters: [\n            { name: \".udt.json\", extensions: [\"udt.json\"] },\n            { name: \".udt.csv\", extensions: [\"udt.csv\"] },\n          ],\n        })\n        filePath =\n          !newFilePath ||\n          newFilePath.endsWith(\".json\") ||\n          newFilePath.endsWith(\".csv\")\n            ? newFilePath\n            : `${newFilePath}.udt.json`\n        if (cancelled || !filePath) {\n          addToast(\"Could not save\")\n          return\n        }\n        changeFile({\n          ...file,\n          filePath,\n          fileName: filePath.split(\"/\").slice(-1)[0],\n        })\n      }\n      await remote\n        .require(\"fs\")\n        .promises.writeFile(\n          filePath,\n          filePath.endsWith(\".csv\")\n            ? toUDTCSV(file.content)\n            : JSON.stringify(file.content, null, \"  \")\n        )\n      addToast(\"File Saved!\")\n    }\n    saveFileAsync()\n  })\n\n  useEffect(() => {\n    if (!file || !file.filePath) return\n    if (file.fileName !== file.filePath.split(\"/\").slice(-1)[0]) {\n      changeFile(\n        setIn(\n          file,\n          [\"filePath\"],\n          file.filePath\n            .split(\"/\")\n            .slice(0, -1)\n            .concat([\n              file.fileName +\n                (file.fileName.endsWith(\".json\") ? \"\" : \".oha.json\"),\n            ])\n            .join(\"/\")\n        )\n      )\n    }\n  }, [file && file.fileName, file && file.fileName])\n\n  return { saveFile }\n}\n","// @flow weak\n\nimport { useEffect } from \"react\"\nimport usePosthog from \"../../utils/use-posthog\"\nconst posthog = usePosthog()\n\nexport default (udt) => {\n  useEffect(() => {\n    if (!udt || !udt.interface) return\n    posthog.capture(\"interface_type\", { interface_type: udt.interface.type })\n    posthog.people.set({ last_used_interface_type: udt.interface.type })\n  }, [udt && udt.interface && udt.interface.type])\n  useEffect(() => {\n    if (!udt || !udt.taskData) return\n    posthog.capture(\"dataset_size\", {\n      dataset_size: (udt.taskData || []).length,\n    })\n  }, [udt && (udt.taskData || []).length])\n  useEffect(() => {\n    if (!udt || !udt.taskOutput) return\n    const numCompleted = udt.taskOutput.filter(Boolean).length\n    posthog.capture(\"sample_completion\", {\n      dataset_size: (udt.taskData || []).length,\n      samples_completed: numCompleted,\n      percent_completed: numCompleted / (udt.taskData || []).length,\n    })\n  }, [\n    udt && (udt.taskData || []).length,\n    udt && udt.taskOutput && udt.taskOutput.filter(Boolean).length,\n  ])\n}\n","// @flow\n\nimport { useState, useMemo, useCallback, useEffect } from \"react\"\nimport useServer, {\n  joinSession,\n  convertToCollaborativeFile,\n} from \"./use-server\"\nimport useFilesystem from \"./use-filesystem\"\nimport useLocalStorage from \"./use-local-storage\"\nimport { useToasts } from \"../../components/Toasts\"\nimport moment from \"moment\"\nimport cloneDeep from \"lodash/cloneDeep\"\nimport fromUDTCSV from \"../from-udt-csv.js\"\nimport useEventCallback from \"use-event-callback\"\nimport useFileTelemetry from \"./use-file-telemetry\"\n\nexport default () => {\n  const [file, changeFile] = useState()\n  const { addToast } = useToasts()\n\n  const { saveFile } = useFilesystem(file, changeFile)\n  const { recentItems, changeRecentItems } = useLocalStorage(file, changeFile)\n  useServer(file, changeFile)\n\n  // Telemetry\n  useFileTelemetry(file && file.content)\n\n  const openFile = useEventCallback((fsFile) => {\n    const { name: fileName, path: filePath } = fsFile\n\n    function handleLoadedFile(content) {\n      try {\n        let oha\n        if (fileName.endsWith(\"csv\")) {\n          oha = fromUDTCSV(content)\n        } else {\n          oha = JSON.parse(content)\n        }\n        // TODO validate OHA and prompt to open anyway if invalid\n        changeFile({\n          fileName,\n          filePath,\n          mode: filePath ? \"filesystem\" : \"local-storage\",\n          content: oha,\n          id: filePath,\n        })\n      } catch (e) {\n        console.log(e.toString())\n        addToast(\"Couldn't read file, see console for details\", \"error\")\n        // addError(`Could not read file \"${fsFile.name}\"`)\n      }\n    }\n\n    if (fsFile.content) {\n      handleLoadedFile(fsFile.content)\n    } else {\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        const content = e.target.result\n        handleLoadedFile(content)\n      }\n      reader.readAsText(fsFile)\n    }\n  })\n\n  const openUrl = useEventCallback(async (url) => {\n    const sessionId = decodeURIComponent(url.match(/[\\?&]s=([^&]+)/)[1])\n    if (!sessionId) return\n    const { state, version } = await joinSession(sessionId)\n    if (!state) return\n    window.history.replaceState(\n      {},\n      window.document.title,\n      `/?s=${encodeURIComponent(sessionId)}`\n    )\n    changeFile({\n      url,\n      sessionId,\n      mode: \"server\",\n      id: sessionId,\n      content: state,\n    })\n  })\n\n  useEffect(() => {\n    if (!file) return\n    if (file.mode === \"server\") return\n    window.history.replaceState({}, window.document.title, `/`)\n  }, [file && file.mode])\n\n  useEffect(() => {\n    if (window.location.search.match(/[\\?&]s=([a-zA-Z0-9]+)/)) {\n      openUrl(window.location.href)\n    }\n  }, [])\n\n  const makeSession = useEventCallback(async () => {\n    const newFile = await convertToCollaborativeFile(file)\n    changeFile(newFile)\n    window.history.replaceState(\n      {},\n      window.document.title,\n      `/?s=${encodeURIComponent(newFile.sessionId)}`\n    )\n  })\n\n  return useMemo(\n    () => ({\n      file,\n      changeFile,\n      openFile,\n      openUrl,\n      makeSession,\n      saveFile,\n      recentItems,\n      changeRecentItems,\n    }),\n    [file, changeFile, openFile, makeSession, recentItems]\n  )\n}\n","// @flow\n\nimport { useLocalStorage } from \"react-use\"\nimport { useEffect } from \"react\"\n\nexport default (file, changeFile) => {\n  let [recentItems, changeRecentItems] = useLocalStorage(\"recentItems\", [])\n\n  if (!recentItems) recentItems = []\n\n  useEffect(() => {\n    if (!file) return\n    if (!file.fileName || file.fileName === \"unnamed\") return\n    if (recentItems.map((item) => item.id).includes(file.id)) {\n      changeRecentItems(\n        recentItems.map((ri) => (ri.id === file.id ? file : ri))\n      )\n    } else {\n      changeRecentItems([file].concat(recentItems).slice(0, 3))\n    }\n  }, [file])\n\n  return { recentItems, changeRecentItems }\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { detect } from \"detect-browser\"\nimport Button from \"@material-ui/core/Button\"\nimport LaunchIcon from \"@material-ui/icons/Launch\"\nimport Sentry from \"../../utils/sentry.js\"\n\nconst Container = styled(\"div\")({\n  width: \"100vw\",\n  minHeight: \"100vh\",\n  backgroundColor: colors.grey[900],\n  padding: 32,\n  \"& .title\": {\n    color: colors.grey[200],\n    fontSize: 24,\n    fontWeight: \"bold\",\n  },\n  \"& .subtitle\": {\n    color: colors.grey[300],\n    fontSize: 18,\n    marginTop: 8,\n  },\n  \"& .info\": {\n    width: \"100%\",\n    boxSizing: \"border-box\",\n    padding: 32,\n    \"& textarea\": {\n      width: \"calc(100% - 64px)\",\n      boxSizing: \"border-box\",\n      minHeight: 300,\n      fontSize: 12,\n    },\n  },\n})\nconst Buttons = styled(\"div\")({\n  padding: 8,\n})\nconst StyledButton = styled(Button)({\n  color: \"#fff\",\n  borderColor: \"rgba(255,255,255,0.5)\",\n  margin: 8,\n})\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return {\n      hasError: true,\n      errorDetails: JSON.stringify(detect()) + \"\\n\\n\" + error.stack,\n    }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    Sentry.withScope((scope) => {\n      scope.setExtras(errorInfo)\n      const eventId = Sentry.captureException(error)\n      this.setState({ eventId })\n    })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <Container>\n          <div className=\"title\">An error has occurred</div>\n          <div className=\"subtitle\">All the details are below:</div>\n          <div className=\"info\">\n            <textarea>{this.state.errorDetails}</textarea>\n          </div>\n          <Buttons>\n            <StyledButton\n              variant=\"outlined\"\n              target=\"_blank\"\n              href=\"https://github.com/Universal/universal-data-tool/issues\"\n            >\n              <LaunchIcon style={{ color: \"#fff\", marginRight: 8 }} /> View\n              Issues on Github\n            </StyledButton>\n            {/* <StyledButton\n              variant=\"outlined\"\n              onClick={this.props.revertLastChange}\n            >\n              Revert Last File Change\n            </StyledButton> */}\n            <StyledButton\n              variant=\"outlined\"\n              onClick={() => window.location.reload()}\n            >\n              Reload (unsaved progress will be lost)\n            </StyledButton>\n          </Buttons>\n        </Container>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","// @flow weak\n\nimport { useEffect } from \"react\"\n\nfunction preventNavigation(e) {\n  var confirmationMessage =\n    \"It looks like you have been editing something. \" +\n    \"If you leave before saving, your changes will be lost.\"\n\n  ;(e || window.event).returnValue = confirmationMessage //Gecko + IE\n  return confirmationMessage //Gecko + Webkit, Safari, Chrome etc.\n}\n\nexport default (shouldPreventNavigation = true) => {\n  useEffect(() => {\n    if (!shouldPreventNavigation) return\n    if (window.location.origin.includes(\"localhost\")) return\n    window.addEventListener(\"beforeunload\", preventNavigation)\n    return () => {\n      window.removeEventListener(\"beforeunload\", preventNavigation)\n    }\n  }, [shouldPreventNavigation])\n}\n","// @flow\nimport React, { useState, useMemo, useEffect, useCallback } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport OHAEditor from \"../OHAEditor\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useLocalStorage from \"../../utils/use-local-storage.js\"\nimport useFileHandler from \"../../utils/file-handlers\"\nimport download from \"in-browser-download\"\nimport toUDTCSV from \"../../utils/to-udt-csv.js\"\nimport { setIn } from \"seamless-immutable\"\nimport AppErrorBoundary from \"../AppErrorBoundary\"\nimport useEventCallback from \"use-event-callback\"\nimport usePreventNavigation from \"../../utils/use-prevent-navigation\"\n\nconst useStyles = makeStyles({\n  empty: {\n    textAlign: \"center\",\n    padding: 100,\n    color: \"#666\",\n    fontSize: 28,\n  },\n})\n\nconst randomId = () => Math.random().toString().split(\".\")[1]\n\nexport default () => {\n  const c = useStyles()\n  const {\n    file,\n    changeFile,\n    openFile,\n    openUrl,\n    makeSession,\n    recentItems,\n    changeRecentItems,\n  } = useFileHandler()\n  usePreventNavigation(Boolean(file))\n  const [errors, addError] = useErrors()\n\n  const [selectedBrush, setSelectedBrush] = useState(\"complete\")\n\n  const onCreateTemplate = useEventCallback((template) => {\n    changeFile({\n      fileName: \"unnamed\",\n      content: template.oha,\n      id: randomId(),\n      mode: \"local-storage\",\n    })\n  })\n\n  const openRecentItem = useEventCallback((item) => changeFile(item))\n  const onClickHome = useEventCallback(() => changeFile(null))\n  const onDownload = useEventCallback((format) => {\n    if (!file) return\n    const outputName = (file.sessionId || file.fileName) + \".udt.\" + format\n    if (format === \"json\") {\n      download(JSON.stringify(file.content), outputName)\n    } else if (format === \"csv\") {\n      download(toUDTCSV(file.content), outputName)\n    }\n  })\n\n  const inSession = file && file.mode === \"server\"\n  const [sessionBoxOpen, changeSessionBoxOpen] = useState(false)\n\n  const onJoinSession = useCallback(async (sessionName) => {\n    await openUrl(sessionName)\n  }, [])\n\n  const onLeaveSession = useEventCallback(() =>\n    changeFile({\n      ...file,\n      mode: \"local-storage\",\n      fileName: file.fileName || `copy_of_${file.id}`,\n    })\n  )\n\n  return (\n    <>\n      <HeaderContext.Provider\n        value={{\n          title: file\n            ? file.mode === \"local-storage\"\n              ? file.fileName\n              : file.url\n            : \"unnamed\",\n          recentItems,\n          changeRecentItems,\n          onClickTemplate: onCreateTemplate,\n          onClickHome,\n          onOpenFile: openFile,\n          onOpenRecentItem: openRecentItem,\n          inSession,\n          sessionBoxOpen,\n          changeSessionBoxOpen,\n          onJoinSession,\n          onLeaveSession,\n          onCreateSession: makeSession,\n          fileOpen: Boolean(file),\n          onDownload,\n          onChangeSelectedBrush: setSelectedBrush,\n          selectedBrush,\n        }}\n      >\n        {!file ? (\n          <StartingPage\n            onFileDrop={openFile}\n            onOpenTemplate={onCreateTemplate}\n            recentItems={recentItems}\n            onOpenRecentItem={openRecentItem}\n            onClickOpenSession={() => changeSessionBoxOpen(true)}\n          />\n        ) : (\n          <AppErrorBoundary>\n            <OHAEditor\n              key={file.id}\n              {...file}\n              selectedBrush={selectedBrush}\n              inSession={inSession}\n              oha={file.content}\n              onChangeFileName={(newName) => {\n                changeFile(setIn(file, [\"fileName\"], newName))\n              }}\n              onChangeOHA={(newOHA) => {\n                changeFile(setIn(file, [\"content\"], newOHA))\n              }}\n            />\n          </AppErrorBoundary>\n        )}\n      </HeaderContext.Provider>\n      <ErrorToasts errors={errors} />\n    </>\n  )\n}\n","// @flow\nimport React, { useState, useMemo, useEffect } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport OHAEditor from \"../OHAEditor\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport { useToasts } from \"../Toasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useLocalStorage from \"../../utils/use-local-storage.js\"\nimport useElectron from \"../../utils/use-electron.js\"\nimport templates from \"../StartingPage/templates\"\nimport useEventCallback from \"use-event-callback\"\nimport { setIn } from \"seamless-immutable\"\nimport toUDTCSV from \"../../utils/to-udt-csv.js\"\n\nimport useFileHandler from \"../../utils/file-handlers\"\n\nconst useStyles = makeStyles({\n  empty: {\n    textAlign: \"center\",\n    padding: 100,\n    color: \"#666\",\n    fontSize: 28,\n  },\n})\n\nconst randomId = () => Math.random().toString().split(\".\")[1]\n\nexport default () => {\n  const c = useStyles()\n  const {\n    file,\n    changeFile,\n    openFile,\n    openUrl,\n    makeSession,\n    saveFile,\n    recentItems,\n  } = useFileHandler()\n\n  const [selectedBrush, setSelectedBrush] = useState(\"complete\")\n  const [errors, addError] = useErrors()\n  const { addToast } = useToasts()\n\n  const { remote, ipcRenderer } = useElectron()\n\n  const onCreateTemplate = useEventCallback((template) => {\n    changeFile({\n      fileName: \"unnamed\",\n      content: template.oha,\n      id: randomId(),\n      mode: \"filesystem\",\n    })\n  })\n\n  const openRecentItem = useEventCallback((item) => changeFile(item))\n  const onClickHome = useEventCallback(() => changeFile(null))\n\n  useEffect(() => {\n    const onOpenWelcomePage = () => changeFile(null)\n    const onNewFile = (arg0, { templateName } = {}) => {\n      onCreateTemplate(\n        templates.find((t) => t.name === templateName) || templates[0]\n      )\n    }\n    const saveFileAs = () => saveFile({ saveAs: true })\n    const exportToCSV = async () => {\n      if (!file) return\n      let { cancelled, filePath } = await remote.dialog.showSaveDialog({\n        filters: [{ name: \".udt.csv\", extensions: [\"udt.csv\"] }],\n      })\n      filePath =\n        !filePath || filePath.endsWith(\".csv\")\n          ? filePath\n          : `${filePath}.udt.csv`\n\n      await remote\n        .require(\"fs\")\n        .promises.writeFile(filePath, toUDTCSV(file.content))\n    }\n    const onOpenFileFromToolbar = (e, file) => (\n      console.log(file), openFile(file)\n    )\n\n    ipcRenderer.on(\"open-welcome-page\", onOpenWelcomePage)\n    ipcRenderer.on(\"new-file\", onNewFile)\n    ipcRenderer.on(\"open-file\", onOpenFileFromToolbar)\n    ipcRenderer.on(\"save-file\", saveFile)\n    ipcRenderer.on(\"save-file-as\", saveFileAs)\n    ipcRenderer.on(\"export-to-csv\", exportToCSV)\n    return () => {\n      ipcRenderer.removeListener(\"open-welcome-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"new-file\", onNewFile)\n      ipcRenderer.removeListener(\"open-file\", onOpenFileFromToolbar)\n      ipcRenderer.removeListener(\"save-file\", saveFile)\n      ipcRenderer.removeListener(\"save-file-as\", saveFileAs)\n      ipcRenderer.removeListener(\"export-to-csv\", exportToCSV)\n    }\n  }, [file])\n\n  const inSession = file && file.mode === \"server\"\n  const [sessionBoxOpen, changeSessionBoxOpen] = useState(false)\n\n  const onJoinSession = useEventCallback(async (sessionName) => {\n    await openUrl(sessionName)\n  })\n\n  const onLeaveSession = useEventCallback(() =>\n    changeFile({\n      ...file,\n      mode: \"local-storage\",\n      fileName: file.fileName || `copy_of_${file.id}`,\n    })\n  )\n\n  const collaborateError = (((file || {}).content || {}).taskData || []).some(\n    (sample) =>\n      [sample.imageUrl, sample.videoUrl, sample.pdfUrl]\n        .filter(Boolean)\n        .map((a) => a.includes(\"file://\"))\n        .some(Boolean)\n  )\n    ? \"Some URLs (links) in this file are connected to files on your computer. Use the Samples > Transform > Transform Files to Web URLs to upload these files, then collaboration will be available.\"\n    : null\n\n  return (\n    <>\n      <HeaderContext.Provider\n        value={{\n          recentItems,\n          onClickTemplate: onCreateTemplate,\n          onClickHome,\n          title: file\n            ? file.mode !== \"server\"\n              ? file.fileName\n              : file.url\n            : \"unnamed\",\n          fileOpen: Boolean(file),\n          onOpenRecentItem: openRecentItem,\n          isDesktop: true,\n          onOpenFile: openFile,\n          selectedBrush,\n          onChangeSelectedBrush: setSelectedBrush,\n\n          // collaboration session\n          inSession,\n          sessionBoxOpen,\n          changeSessionBoxOpen,\n          collaborateError,\n          onJoinSession,\n          onLeaveSession,\n          onCreateSession: makeSession,\n        }}\n      >\n        {!file ? (\n          <StartingPage\n            showDownloadLink={false}\n            onFileDrop={openFile}\n            onOpenTemplate={onCreateTemplate}\n            recentItems={recentItems}\n            onOpenRecentItem={openRecentItem}\n          />\n        ) : (\n          <OHAEditor\n            key={file.id}\n            {...file}\n            inSession={inSession}\n            selectedBrush={selectedBrush}\n            oha={file.content}\n            onChangeFileName={(newName) => {\n              changeFile(setIn(file, [\"fileName\"], newName))\n            }}\n            onChangeOHA={(newOHA) => {\n              changeFile(setIn(file, [\"content\"], newOHA))\n            }}\n          />\n        )}\n      </HeaderContext.Provider>\n      <ErrorToasts errors={errors} />\n    </>\n  )\n}\n","import React from \"react\"\nimport Theme from \"./components/Theme\"\nimport LocalStorageApp from \"./components/LocalStorageApp\"\nimport DesktopApp from \"./components/DesktopApp\"\nimport { ToastProvider } from \"./components/Toasts\"\nimport useElectron from \"./utils/use-electron.js\"\n\nexport const App = () => {\n  const electron = useElectron()\n  return (\n    <Theme>\n      <ToastProvider>\n        {Boolean(electron) ? <DesktopApp /> : <LocalStorageApp />}\n      </ToastProvider>\n    </Theme>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}