{"version":3,"sources":["components/Theme/index.js","utils/isEmpty.js","components/LoginDrawer/SignIn.js","components/LoginDrawer/CompleteSignUp.js","components/LoginDrawer/index.js","utils/use-electron.js","utils/use-posthog.js","components/CollaborateButton/index.js","components/HeaderPopupBox/index.js","components/DownloadButton/index.js","components/Header/GithubIcon.js","utils/get-brush-color-palette.js","components/BrushButton/index.js","components/HeaderToolbar/index.js","components/StartingPage/templates.js","components/HeaderDrawer/index.js","components/Header/index.js","components/SimpleDialog/index.js","components/CreateFromTemplateDialog/index.js","components/AddAuthFromTemplateDialog/authTemplates.js","components/ErrorToasts/index.js","utils/use-errors.js","components/AddAuthFromTemplateDialog/index.js","components/StartingPage/index.js","utils/get-task-description.js","components/SampleContainer/LinkButton.js","components/SampleContainer/index.js","components/TextClassification/index.js","components/TextEntityRecognition/index.js","utils/ria-format.js","components/ImageSegmentation/index.js","components/ImageClassification/index.js","components/VideoSegmentation/index.js","components/AudioTranscription/index.js","components/DataEntry/index.js","components/BadOHA/index.js","components/EmptySampleContainer/index.js","components/InterfaceIcon/index.js","components/Composite/index.js","components/UniversalDataViewer/index.js","components/OHAEditor/EditableTitleText.js","components/SampleGrid/index.js","components/PasteUrlsDialog/index.js","utils/get-sample-name-from-url.js","utils/RecognizeFileExtension.js","utils/file-handlers/udt-helper.js","components/ImportFromS3Dialog/get-annotation-from-aws.js","components/ImportFromS3Dialog/get-images-from-aws.js","utils/from-udt-csv.js","components/ImportFromS3Dialog/check-interface-and-sample-type.js","components/ImportFromS3Dialog/set-annotation-from-aws.js","components/ImportFromS3Dialog/index.js","components/ImportFromS3Dialog/init-config-import.js","components/ImportFromS3Dialog/set-type-of-file-to-load-and-disable.js","components/ImportFromS3Dialog/set-button-add-sample-name.js","components/TextAreaWithUpload/index.js","components/ImportTextSnippetsDialog/index.js","components/ImportPage/S3Icon.js","components/ImportFromGoogleDriveDialog/index.js","components/ImportUDTFileDialog/index.js","components/ImportToyDatasetDialog/index.js","components/ImportFromYoutubeUrls/download-youtube-video.js","components/ProgressBar/index.js","components/ImportFromYoutubeUrls/progress.js","components/ImportFromYoutubeUrls/get-youtube-video-information.js","components/ImportFromYoutubeUrls/split-urls-from-text-area.js","components/ImportFromYoutubeUrls/index.js","components/ImportPage/prompt-and-get-samples-from-local-directory.js","components/ImportPage/index.js","utils/use-is-desktop.js","components/TransformVideoKeyframesDialog/index.js","components/DownloadURLsDialog/index.js","components/TransformVideoFramesToImagesDialog/index.js","components/TransformLocalFilesToWebURLs/functions/upload-file-to-transfersh.js","components/TransformLocalFilesToWebURLs/functions/split-file-name-from-file-url.js","components/TransformLocalFilesToWebURLs/functions/get-file-url-key.js","components/TransformLocalFilesToWebURLs/functions/transform-file-urls-to-web-urls.js","components/TransformLocalFilesToWebURLs/index.js","components/TransformPage/index.js","components/SamplesView/index.js","components/ConfigureImageSegmentation/index.js","components/ConfigureImageClassification/index.js","components/ConfigureTextClassification/index.js","components/ConfigureAudioTranscription/index.jsx","components/ConfigureNLP/index.js","components/ConfigureDataEntry/index.js","components/ConfigureComposite/index.js","components/Configure3D/index.js","components/ConfigureVideoSegmentation/index.js","utils/sentry.js","components/LabelErrorBoundary/index.js","components/ConfigureInterface/index.js","components/PaperContainer/index.js","components/InterfacePage/index.js","components/EditSampleDialog/index.js","components/Stats/index.js","components/Toasts/index.js","components/OHAEditor/index.js","utils/use-time-to-complete-sample.js","utils/file-handlers/use-server/get-human-readable-log.js","utils/file-handlers/use-server/apply-seamless-patch.js","utils/file-handlers/use-server/server-hash.js","utils/file-handlers/use-server/index.js","utils/file-handlers/use-server/handler.js","utils/to-udt-csv.js","utils/file-handlers/use-filesystem.js","utils/file-handlers/use-file-telemetry.js","utils/file-handlers/index.js","utils/file-handlers/use-local-storage.js","components/LocalStorageApp/invalidconfig.js","components/AppErrorBoundary/index.js","utils/use-prevent-navigation.js","components/LocalStorageApp/index.js","utils/file-handlers/update-aws-storage.js","components/DesktopApp/index.js","App.js","index.js"],"names":["theme","createMuiTheme","palette","primary","colors","secondary","typography","fontFamily","button","textTransform","children","ThemeProvider","obj","Object","Array","includes","constructor","entries","length","useStyles","makeStyles","form","width","marginTop","spacing","submit","margin","authConfig","onUserChange","onRequireCompleteSignUp","onClose","Amplify","configure","e","classes","useState","email","password","notAuthorizedException","state","setState","handleTextFieldChange","event","persist","prevState","target","name","value","username","a","Auth","signIn","then","user","challengeName","err","code","console","log","Typography","component","variant","className","noValidate","TextField","error","required","fullWidth","id","label","autoComplete","helperText","autoFocus","onChange","type","FormControlLabel","control","Checkbox","color","onClick","isEmpty","SignInAWS","requiredAttributes","requiredAttributesDict","requiredAttributesErrorDict","forEach","requiredAttribute","newPassword","newPasswordNotValid","newPasswordConfirmation","newPasswordNotEqualsConfirmation","capitalizeFirstLetter","string","charAt","toUpperCase","slice","_handleAttributesTextFieldChange","_handleTextFieldChange","checkIfPasswordEqualsConfirmationPassword","checkValidPassword","match","_handleCantBeNull","allGood","onBlur","map","toString","key","completeNewPassword","catch","drawer","root","height","paper","display","flexDirection","alignItems","close","cursor","main","avatar","backgroundColor","loginDrawerOpen","signingIn","completeSignUp","Drawer","anchor","open","role","Grid","container","item","xs","sm","md","Paper","elevation","square","Avatar","SignIn","challengeParam","toggleCompleteSignUp","CompleteSignUp","window","require","posthogInitialized","isDesktop","Boolean","useElectron","posthog","init","api_host","autocapture","domain","location","origin","capture","people","set","is_desktop","Container","styled","position","marginLeft","borderColor","popupBoxBeforeAndAfter","bottom","left","border","content","pointerEvents","PopupBox","zIndex","top","padding","boxSizing","borderRadius","minHeight","boxShadow","borderBottomColor","borderWidth","fontSize","opacity","transition","transform","ErrorText","CreateNewButton","Button","justifyContent","marginRight","ExitButton","fileOpen","inSession","onJoinSession","onCreateSession","onLeaveSession","sessionBoxOpen","changeSessionBoxOpen","loadingSession","changeLoadingSession","sessionUrl","changeSessionUrl","useLocalStorage","userName","changeUserName","usePosthog","useEffect","setTimeout","onMouseEnter","onMouseLeave","IconButton","style","undefined","InputProps","endAdornment","InputAdornment","disabled","CircularProgress","size","StyledButton","paddingTop","fontWeight","onDownload","changeOpen","HeaderPopupBox","GitHub","props","SvgIcon","d","fadedGrey","isFaded","availableColors","colorMap","complete","incomplete","faded","review","brush","seed","BrushCircle","OtherColorContainers","flexWrap","StyledIconButton","iconcolor","selected","marginBottom","paddingBottom","selectedBrush","onChangeSelectedBrush","handleClick","useEventCallback","memoize","getBrushColorPalette","headerButton","grow","flexGrow","list","tab","fullHeightTab","mixins","toolbar","breakpoints","down","minWidth","tabWrapper","getIcon","t","memo","tabs","currentTab","onChangeTab","additionalButtons","onOpenDrawer","title","isSmall","changeLoginDrawerOpen","logoutUser","collaborateError","c","AppBar","Toolbar","packageJSON","version","CollaborateButton","BrushButton","DownloadButton","Tabs","newTab","toLowerCase","Tab","wrapper","icon","href","GithubIcon","templates","Icon","CropFree","oha","interface","samples","ImageSearch","labels","regionTypesAllowed","imageUrl","Image","OndemandVideoIcon","videoUrl","Edit","description","surveyjs","questions","pdfUrl","TextFormat","overlapAllowed","displayName","document","ContactSupport","Audiotrack","audioUrl","Category","fields","fieldName","ThreeDRotation","templateMap","reduce","acc","recentItems","changeRecentItems","onClickHome","onCloseDrawer","drawerOpen","onOpenFile","onOpenRecentItem","onClickTemplate","onDrop","useCallback","acceptedFiles","useDropzone","getRootProps","getInputProps","List","ListItem","ListItemIcon","ListItemText","ListSubheader","textAlign","ri","index","fileName","i","filter","oneRecentFile","template","HeaderContext","createContext","emptyArray","changeDrawerOpen","headerContext","useContext","useMediaQuery","HeaderDrawer","LoginDrawer","StyledDialogTitle","DialogTitle","grey","borderBottom","StyledDialogContent","DialogContent","StyledDialogActions","DialogActions","borderTop","markdownContent","redOn","red","noActionBar","actions","fullScreen","changeFullScreen","Dialog","Box","maxWidth","lineHeight","source","action","blue","text","bigButton","bigIcon","onSelect","SimpleDialog","provider","viewBox","data-name","fill","x","y","right","errorBox","errors","Collapse","in","life","Fade","message","changeErrors","interval","setInterval","clearInterval","concat","Math","random","split","cognitoIcon","forms","AWS","placeholder","isRequired","onFinish","onAuthConfigured","authProvider","setAuthProvider","dialogTitle","setDialogTitle","useErrors","addError","authTemplates","answers","config","identityPoolId","region","userPoolId","userPoolWebClientId","mandatorySignIn","authenticationFlowType","Storage","AWSS3","bucket","regionBucket","currentAuthenticatedUser","validateAuthProvider","ErrorToasts","ContentContainer","overflowY","Content","Title","Subtitle","ActionList","Action","textDecoration","ActionTitle","ActionText","Actionless","BottomSpacer","onFileDrop","onOpenTemplate","showDownloadLink","onClickOpenSession","newVersionAvailable","changeNewVersionAvailable","fetch","r","json","newPackage","packageInfo","checkNewVersion","createFromTemplateDialogOpen","changeCreateFromTemplateDialogOpen","addAuthFromDialogOpen","changeAddAuthFromDialogOpen","CreateFromTemplateDialog","clicked_template","AddAuthFromTemplateDialog","anwsers","Header","find","getTaskDescription","samplesItem","url","replace","linkButtonContainer","linkButton","footer","footerContent","footerBorder","footerCount","allSamplesButton","paddingLeft","sampleIcon","menuButton","buttons","maxHeight","sectionHeader","SampleContainer","hideDescription","defaultHideDescription","localStorage","getItem","onExit","lastSampleExitText","requireCompleteToPressNext","minContentHeight","currentSampleIndex","totalSamples","onChangeSample","taskOutput","changeHideDescriptionState","changeHideDescription","hide","setItem","sampleDrawerOpen","changeSampleDrawerOpen","LinkButton","escapeHtml","range","TextClassification","changeCurrentSampleIndex","annotation","availableLabels","initialLabels","Error","l","containerProps","sampleIndex","NLPAnnotator","multipleLabels","multiple","result","onSaveTaskOutputItem","simpleSequenceToEntitySequence","simpleSeq","entSeq","charsPassed","seq","push","start","end","TextEntityRecognition","initialSequence","doc","sort","b","nextEntity","entitySequenceToSimpleSeq","entities","s","getRandomColor","min","max","h","floor","rid","convertToRIARegionFmt","regionType","cls","classification","tags","centerX","centerY","w","points","p","JSON","stringify","convertFromRIARegionFmt","riaRegion","convertToRIAImageFmt","td","taskDatum","output","regions","isArray","src","videoFrameAt","frameTime","convertToRIAKeyframes","keyframes","newKeyframes","regionTypeToTool","polygon","point","emptyObj","emptyArr","globalSampleIndex","iface","selectedIndex","changeSelectedIndex","showTags","changeShowTags","selectedTool","changeSelectedTool","isClassification","multipleRegionLabels","saveCurrentIndexAnnotation","img","images","multipleRegions","labelProps","useMemo","regionClsList","regionTagList","nextAction","onNextImage","onPrevImage","datasetName","enabledTools","rt","selectedImage","taskDescription","brightColors","letters","hashInt","v","indexOf","ImageContainer","objectFit","Nav","flexShrink","NavItem","NavButton","paddingRight","ButtonsContainer","CheckButton","changeSampleIndex","enlargedLabel","changeEnlargedLabel","currentOutput","changeCurrentOutput","onDone","onNextNoSave","onNext","newOutput","onPrev","timeout","clearTimeout","onClickLabel","without","allowMultiple","hotkeyMap","backspace","enter","rightarrow","leftarrow","labelKeyMap","nextAvailableLetter","onKeyDown","addEventListener","removeEventListener","checked","videoName","customId","videoTime","videoSrc","sample","audio","phraseBank","initialTranscriptionText","DataEntry","defaultAnswers","completeText","explain","BadOHA","Composite","selectedField","changeSelectedField","indexZero","field","InterfaceIcon","UniversalDataViewer","hideHeader","onClickSetup","EmptySampleContainer","ImageSegmentation","ImageClassification","VideoSegmentation","AudioTranscription","textField","editing","newValue","changeEditing","listener","SAVE_WAIT","inputProps","preventDefault","stopPropagation","blur","onKeyPress","EmptyState","SampleDiv","userSelect","Sample","completed","onMouseDown","onMouseUp","classNames","n","count","samplesPerPage","changeSamplesPerPage","sampleOffset","changeSampleOffset","useReducer","selectRange","changeSelectRange","startSelectRange","moveSelectRange","endSelectRange","checkAndNullifySelectRange","onClickMemo","TablePagination","rowsPerPageOptions","rowsPerPage","page","labelRowsPerPage","onChangePage","newPage","onChangeRowsPerPage","SelectContainer","TextArea","autoDetectOptions","onAddSamples","changeContent","urlType","changeURLType","trim","extension","options","defaultValue","opt","sampleName","decodeURI","UrlOfAFile","typeOfFile","fileExtension","LocalStorageHandler","getSampleNameFromURL","RecognizeFileExtension","nameToSearch","oldsample","this","renameSampleFromUrl","setIn","sampleToChange","boolName","sampletocompare1","getSampleWithThisSampleName","getSampleUrl","typeProject","Tabsamples","Newsample","actualSamples","newSamples","annotationToKeep","eraseAnnotation","Tabsamples2","objectOfRef","objectToCheck","resultSet","mode","any","CheckIfAnnotationExist","folderToFetch","element","GetSampleFromAnnotation","jsonHandler","getSampleName","sampleFound","createOneNewSample","get","expires","level","data","setUrl","configImport","loadProjectIsSelected","typeOfFileToLoad","fetchTextInFile","texte","urlSource","method","response","typeAuthorize","file","contentOldFile","concatSample","selectedStyle","tableStyle","expandedDataColumns","selector","sortable","expandedAnnotationsColumns","columns","customStyles","headCells","cells","ExpandedRow","rowData","rowAnnotations","dense","striped","noHeader","noDataComponent","pagination","paginationPerPage","paginationRowsPerPageOptions","onChangeFile","textButtonAdd","changetextButtonAdd","s3Content","changeS3Content","dataForTable","changeDataForTable","setFolderToFetch","checkInterfaceAndsamples","typeOfFileToDisable","Video","Audio","PDF","Texte","contentDialogBoxIsSetting","projectStarted","initConfigImport","setConfigImport","lastObjectRef","useRef","CheckIfProjectIsStarted","current","configToSet","changes","fileHasChanged","setTypeOfFileToLoadAndDisable","handleAddSample","GetImageFromAFolderAWS","GetAnnotationFromAFolderAWS","setAnnotationFromAws","changeLoadProjectIsSelected","textToSet","folderName","numberOfSamples","isSelected","folder","setButtonNameAddSample","_dataForTable","endsWith","rowDataContent","startsWith","lastModified","toDateString","rowAnnotationsContent","FormControl","FormLabel","RadioGroup","aria-label","Radio","expandableRows","expandableRowsComponent","selectableRows","selectableRowsHighlight","selectableRowsNoSelectAll","selectableRowsComponent","noTableHead","onSelectedRowsChange","whatsChanging","selectedRows","row","selectableRowSelected","UploadHover","emptyFunc","onChangeContent","reader","FileReader","onload","fileContent","readAsText","lastClickTime","changeLastClickTime","Date","now","isDragActive","ImportTextSnippetsDialog","TextAreaWithUpload","ExplainText","GoogleDriveScreenshot","credentials","web","client_id","process","app_id","developer_key","googleScriptLoaded","setGoogleScriptLoaded","pickerApiLoaded","setPickerApiLoaded","oauthToken","setOAuthToken","userSelectedItemsFromDrive","setUserSelectedItemsFromDrive","isPickerOpen","setIsPickerOpen","scriptElement","createElement","async","body","appendChild","remove","googlePickerActionCallback","google","picker","PICKED","docs","googleDriveDocument","mimeType","createPicker","view","View","ViewId","Docs","setMimeTypes","PickerBuilder","enableFeature","Feature","NAV_HIDDEN","MULTISELECT_ENABLED","setAppId","addView","DOCS","setDeveloperKey","setCallback","build","setVisible","handleAuthenticationResponse","authenticationResponse","access_token","onAuthApiLoad","gapi","auth","authorize","scope","immediate","onPickerApiLoad","onLoadPicker","load","callback","badSpellingMap","correct","badSpellings","badSpelling","convertTaskDatumMistakes","normalizedKey","correction","csv","JAC","fromCSV","derivePath","InfoText","whiteSpace","ImportUDTFileDialog","changeError","setContent","parse","e1","udt","fromUDTCSV","e2","jsonError","stack","csvError","datasets","getSamples","dataset","datasetUrl","taskData","ImportToyDatasetDialog","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","idify","youtubeUrl","videoTitle","remote","videoQuality","downloadPath","onProgress","onComplete","onChangeOverallProgress","ytdl","path","fullVideoPath","join","writableVideoFile","createWriteStream","youtubeVideoWithOptions","format","quality","pipe","on","chunkLength","downloaded","total","percent","progress","cancel","destroy","Text","Bar","ProgressContainer","TotalPercentageWrapper","Progress","unitProgress","overallProgress","completedVideoTitles","ProgressBar","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","getYoutubeVideoInformation","splittedURLsArray","progressCallback","checkedVideos","Promise","resolve","reject","getBasicInfo","info","errorText","video","splitURLsFromTextArea","stringURLs","urlsHasHTTPS","splittedURLsByNewLines","SelectVideoQualityHeader","SelectVideoQuality","LoadingText","CompletedVideoTitle","qualityOptions","ImportFromYoutubeUrls","urlsFromTextArea","setUrlsFromTextArea","setVideoQuality","setError","setUnitProgress","setOverallProgress","isDownloading","setIsDownloading","setCompletedVideoTitles","cancelRef","setDefaultState","closeDialog","dialog","showOpenDialog","buttonLabel","properties","canceled","filePaths","errorMessage","youtubeVideoInfos","completedVideoPaths","completedVideoTitlesArray","youtubeVideosCount","youtubeVideoInfo","downloadYoutubeVideo","currentProgress","progressText","filePath","videoPath","Fragment","convertToSamplesObject","fp","ext","electron","dirPaths","dirPath","fs","promises","readdir","fn","promptAndGetSamplesLocalDirectory","ButtonBase","MuiButton","DesktopOnlyText","SelectDialogContext","desktopOnly","authConfiguredOnly","signedInOnly","Consumer","onChangeDialog","import_button","classnames","onChangeOHA","selectedDialog","changeDialog","promptAndGetSamplesFromLocalDirectory","localSamples","samplesToAdd","Provider","AssignmentReturnedIcon","CreateNewFolderIcon","TextFieldsIcon","PetsIcon","FaYoutube","S3Icon","FaGoogleDrive","DescriptionIcon","PasteUrlsDialog","ImportFromS3Dialog","ImportFromGoogleDriveDialog","Code","StyledExpansionPanel","StyledExpansionPanelSummary","flatMap","keys","kf","parseInt","immutable","ErrorBox","downloadFile","urlToDownload","directoryPath","md5","existsSync","directory","filename","changeProgress","cancelled","urlKey","pathToFile","getFfmpegTimeCode","ms","cs","ss","mn","padStart","pathToFfmpeg","shell","exec","newsamples","transformsPerformed","imageOutputPath","ffmpegCommand","uploadFileToTransferSh","fileURL","remoteURL","axios","exactFilePath","fsFileBuffer","readFileSync","put","status","uploadedFileURL","splitFileNameFromFileURL","splittedFullFileName","getFileURLKey","transformFileURLsToWebURLs","setProgress","progressUnit","samplesIndex","fileURLKey","warn","webURLOfUploadedFile","TransformLocalFilesToWebURLs","Icon1","Icon2","useIsDesktop","transform_button","CollectionsIcon","ComputerIcon","LanguageIcon","GetAppIcon","ImageIcon","TransformVideoKeyframesDialog","DownloadURLsDialog","TransformVideoFramesToImagesDialog","SampleCounter","ExpandedRowContainer","borderTopLeftRadius","borderTopRightRadius","ExpandedRowTitle","ExpandedRowCode","input","openSampleInputEditor","openSampleLabelEditor","deleteSample","lastSampleTab","changeTabState","changeTab","knownKeys","Set","has","add","cell","raised","ImportPage","onImportPageShouldExit","newOHA","TransformPage","shouldViewChange","SampleGrid","choices","cellType","noActions","onQuestionChange","questionId","hasOther","column","NoQuestions","Question","borderLeft","PreviewHeader","anchorEl","menuOpen","changeMenuOpen","q","multiline","rows","ref","MenuItem","Fields","f","fieldIndex","isNested","newFieldInterface","fieldOrder","ExplanationTextHeader","ExplanationText","GithubLink","Configure3D","rel","Sentry","dsn","whitelistUrls","ErrorBoundary","hasError","errorInfo","withScope","setExtras","eventId","captureException","errorString","React","Component","noop","NoOptions","TypeButton","Heading","PreviewContainer","mouseEvents","PreviewContent","SelectType","currentlySelected","ConfigureInterface","onChangeProp","onClickEditJSON","previewChangedTime","changePreviewChangedTime","previewLoading","changePreviewLoading","hidden","lg","LabelErrorBoundary","ConfigureImageSegmentation","ConfigureImageClassification","ConfigureComposite","ConfigureDataEntry","ConfigureAudioTranscription","ConfigureNLP","ConfigureTextClassification","ConfigureVideoSegmentation","PaperContainer","onClearLabelData","forceUpdate","useUpdate","isNotNested","confirm","has_opted_out_capturing","opt_in_capturing","opt_out_capturing","prompt","reload","sampleInput","changeText","newText","editorProps","$blockScrolling","Infinity","Stat","Label","Value","stats","msgBox","ToastContext","useToasts","addToast","ToastProvider","fullLife","messageType","msg","toasts","changeToasts","saveIcon","editIcon","headerTabs","initialMode","valueDisplay","setValueDisplay","changeMode","singleSampleOHA","changeSingleSampleOHA","sampleInputEditor","changeSampleInputEditor","jsonText","changeJSONText","ipcRenderer","newTimeToComplete","newSamplesInWindow","samplesInWindow","timeToCompleteSample","useTimeToCompleteSample","changeSampleTimeToComplete","onOpenSettingsPage","onOpenSamplesPage","onOpenLabelPage","removeListener","percentComplete","EditableTitleText","newName","InterfacePage","some","SamplesView","annotationStartTime","interface_type","splice","relativeIndex","startTime","Stats","duration","EditSampleDialog","newInput","changeLog","humanReadableChangeLog","op","sampleMatch","seamless","getIn","updateIn","addToArray","withoutIn","parentPath","parentObj","object","patches","patch","from","isNaN","o","hash","charCodeAt","hashString","collab","serverUrl","getJSON","payload","opts","postJSON","patchJSON","sessionId","bent","initialContent","short_id","encodeURIComponent","res","udt_json","getLatestState","updateToLatestState","hashOfLatestState","latestVersion","humanReadableLog","getHumanReadableLog","newState","applySeamlessPatch","rfc6902","CUSTOM_COLLABORATION_SERVER","convertToCollaborativeFile","createSession","joinSession","AddSamplesKeys","k","sampleKeys","flatten","toCSV","webReturn","saveFile","changeFile","saveAs","saveFileAsync","showSaveDialog","filters","extensions","newFilePath","writeFile","toUDTCSV","useFilesystem","checkForLatestPatch","applyLatestPatches","doPatch","useServer","last_used_interface_type","dataset_size","numCompleted","samples_completed","percent_completed","openFile","fsFile","handleLoadedFile","openUrl","decodeURIComponent","history","replaceState","search","makeSession","newFile","Buttons","errorDetails","detect","preventNavigation","confirmationMessage","returnValue","useFileHandler","shouldPreventNavigation","usePreventNavigation","setSelectedBrush","onCreateTemplate","openRecentItem","outputName","download","changeAuthConfig","changeUser","signOut","tryUser","sessionName","ifFileAuthorizeToSaveOnAWS","shouldUpdateAWSStorage","fetchAFile","headers","blob","fileNameExist","setSamplesName","createOrReplaceProjectFile","createOrReplaceAnnotations","imageOrVideoName","createOrReplaceImages","UpdateAWSStorage","userToSet","AppErrorBoundary","OHAEditor","StartingPage","onOpenWelcomePage","onNewFile","arg0","templateName","saveFileAs","exportToCSV","onOpenFileFromToolbar","onChangeFileName","App","Theme","DesktopApp","LocalStorageApp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ec29811e.chunk.js","sourcesContent":["import React from \"react\"\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\"\nimport { ThemeProvider } from \"@material-ui/core/styles\"\nimport \"./theme.css\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: colors.blue,\n    secondary: colors.blue,\n  },\n  typography: {\n    fontFamily: '\"Inter\", \"Roboto\", sans-serif',\n    button: {\n      textTransform: \"none\",\n    },\n  },\n})\n\nexport default ({ children }: any) => {\n  return <ThemeProvider theme={theme}>{children}</ThemeProvider>\n}\n","export default (obj) => {\n  return (\n    [Object, Array].includes((obj || {}).constructor) &&\n    !Object.entries(obj || {}).length\n  )\n}\n","import React, { Fragment, useState } from \"react\"\nimport {\n  Typography,\n  TextField,\n  Button,\n  FormControlLabel,\n  Checkbox,\n} from \"@material-ui/core\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport isEmpty from \"../../utils/isEmpty\"\n\nimport Amplify, { Auth } from \"aws-amplify\"\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nexport default ({\n  authConfig,\n  onUserChange,\n  onRequireCompleteSignUp,\n  onClose,\n}) => {\n  try {\n    Amplify.configure(authConfig)\n  } catch (e) {}\n  const classes = useStyles()\n\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    notAuthorizedException: false,\n  })\n\n  const handleSignInClick = () => {\n    if (isEmpty(state.email) || isEmpty(state.password)) {\n      setState((prevState) => ({\n        ...prevState,\n        notAuthorizedException: true,\n      }))\n    } else {\n      SignInAWS(state.email, state.password)\n    }\n  }\n\n  const handleTextFieldChange = (event) => {\n    event.persist()\n    setState((prevState) => ({\n      ...prevState,\n      [event.target.name]: event.target.value,\n      notAuthorizedException: false,\n    }))\n  }\n\n  ///useEffect(() => { }, [state.notAuthorizedException])\n\n  async function SignInAWS(username, password) {\n    await Auth.signIn(username, password).then(\n      (user) => {\n        if (user.challengeName === \"NEW_PASSWORD_REQUIRED\") {\n          onRequireCompleteSignUp(user)\n        } else {\n          onUserChange(user)\n          onClose()\n        }\n        return user\n      },\n      (err) => {\n        if (err.code === \"UserNotConfirmedException\") {\n          console.log(\"Must confirm the account\")\n          // The error happens if the user didn't finish the confirmation step when signing up\n          // In this case you need to resend the code and confirm the user\n          // About how to resend the code and confirm the user, please check the signUp part\n        } else if (err.code === \"PasswordResetRequiredException\") {\n          console.log(\"Password has been reset\")\n          // The error happens when the password is reset in the Cognito console\n          // In this case you need to call forgotPassword to reset the password\n          // Please check the Forgot Password part.\n        } else if (err.code === \"NotAuthorizedException\") {\n          console.log(\"Bad password message\")\n          setState({ ...state, notAuthorizedException: true, password: \"\" })\n          // The error happens when the incorrect password is provided\n        } else if (err.code === \"UserNotFoundException\") {\n          console.log(\"User not found message\")\n          // The error happens when the supplied username/email does not exist in the Cognito user pool\n        } else {\n          console.log(\"Error that we do not handle for\")\n          console.log(err.code)\n        }\n        return err\n      }\n    )\n  }\n\n  return (\n    <Fragment>\n      <Typography component=\"h1\" variant=\"h5\">\n        Sign in\n      </Typography>\n      <form className={classes.form} noValidate>\n        <TextField\n          error={state.notAuthorizedException}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          id=\"email\"\n          label=\"Email Address\"\n          name=\"email\"\n          autoComplete=\"email\"\n          helperText={\n            state.notAuthorizedException\n              ? \"The email or password is incorrect.\"\n              : \"\"\n          }\n          autoFocus\n          onChange={handleTextFieldChange}\n        />\n        <TextField\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          id=\"password\"\n          autoComplete=\"current-password\"\n          value={state.password}\n          onChange={handleTextFieldChange}\n        />\n        <FormControlLabel\n          control={<Checkbox value=\"remember\" color=\"primary\" />}\n          label=\"Remember me\"\n        />\n        <Button\n          onClick={handleSignInClick}\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          Sign In\n        </Button>\n      </form>\n    </Fragment>\n  )\n}\n","import React, { Fragment, useState } from \"react\"\nimport { Typography, TextField, Button } from \"@material-ui/core\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Amplify, { Auth } from \"aws-amplify\"\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nexport default ({\n  authConfig,\n  user,\n  requiredAttributes,\n  onUserChange,\n  onClose,\n}) => {\n  Amplify.configure(authConfig)\n\n  const requiredAttributesDict = {}\n  const requiredAttributesErrorDict = {}\n  requiredAttributes.forEach((requiredAttribute) => {\n    requiredAttributesDict[requiredAttribute] = \"\"\n    requiredAttributesErrorDict[requiredAttribute] = false\n  })\n\n  const [state, setState] = useState({\n    newPassword: \"\",\n    newPasswordNotValid: false,\n    newPasswordConfirmation: \"\",\n    newPasswordNotEqualsConfirmation: false,\n    requiredAttributesDict: requiredAttributesDict,\n    requiredAttributesErrorDict: requiredAttributesErrorDict,\n  })\n\n  const classes = useStyles()\n\n  const capitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n\n  const handleCompleteSignUpClick = () => {\n    if (\n      checkIfPasswordEqualsConfirmationPassword() &&\n      checkValidPassword() &&\n      _handleCantBeNull(\"checkAll\")\n    ) {\n      completeNewPassword()\n    } else {\n      console.log(\"Something missing\")\n    }\n\n    /// completeNewPassword();\n  }\n\n  const _handleAttributesTextFieldChange = (event) => {\n    setState({\n      ...state,\n      requiredAttributesDict: {\n        ...state.requiredAttributesDict,\n        [event.target.name]: event.target.value,\n      },\n    })\n  }\n\n  const _handleTextFieldChange = (event) => {\n    setState({\n      ...state,\n      newPasswordNotValid: false,\n      newPasswordNotEqualsConfirmation: false,\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  const checkIfPasswordEqualsConfirmationPassword = () => {\n    if (state.newPassword === state.newPasswordConfirmation) {\n      setState({ ...state, newPasswordNotEqualsConfirmation: false })\n      return true\n    } else {\n      setState({ ...state, newPasswordNotEqualsConfirmation: true })\n      return false\n    }\n  }\n\n  const checkValidPassword = () => {\n    var validPasswordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,100}$/\n    if (state.newPassword.match(validPasswordRegex)) {\n      setState({ ...state, newPasswordNotValid: false })\n      return true\n    } else {\n      setState({ ...state, newPasswordNotValid: true })\n      return false\n    }\n  }\n\n  const _handleCantBeNull = (e) => {\n    let allGood = true\n    if (e === \"checkAll\") {\n      requiredAttributes.forEach((requiredAttribute) => {\n        if (state.requiredAttributesDict[requiredAttribute] === \"\") {\n          setState({\n            ...state,\n            requiredAttributesErrorDict: {\n              ...state.requiredAttributesErrorDict,\n              [requiredAttribute]: true,\n            },\n          })\n          allGood = false\n        }\n      })\n    } else {\n      if (e.target.value === \"\") {\n        setState({\n          ...state,\n          requiredAttributesErrorDict: {\n            ...state.requiredAttributesErrorDict,\n            [e.target.name]: true,\n          },\n        })\n      } else {\n        setState({\n          ...state,\n          requiredAttributesErrorDict: {\n            ...state.requiredAttributesErrorDict,\n            [e.target.name]: false,\n          },\n        })\n      }\n    }\n    return allGood\n  }\n\n  function completeNewPassword() {\n    Auth.completeNewPassword(\n      user, // the Cognito User Object\n      state.newPassword, // the new password\n      state.requiredAttributesDict\n    )\n      .then((user) => {\n        onUserChange(user)\n        onClose()\n      })\n      .catch((err) => {\n        console.log(\"Setting ne password failled\")\n        console.log(err)\n      })\n  }\n\n  return (\n    <Fragment>\n      <Typography component=\"h1\" variant=\"h5\">\n        Complete your Sign Up\n      </Typography>\n      <form className={classes.form} noValidate>\n        <TextField\n          error={state.newPasswordNotValid}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"newPassword\"\n          label=\"New password\"\n          type=\"password\"\n          id=\"password\"\n          value={state.newPassword}\n          onChange={_handleTextFieldChange}\n          onBlur={checkValidPassword}\n          helperText={\n            state.newPasswordNotValid\n              ? \"Password must have 8 characters, an uppercase letter and a digit\"\n              : \"\"\n          }\n        />\n        <TextField\n          error={state.newPasswordNotEqualsConfirmation}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"newPasswordConfirmation\"\n          label=\"Confirm new password\"\n          type=\"password\"\n          id=\"confirm-password\"\n          onChange={_handleTextFieldChange}\n          value={state.newPasswordConfirmation}\n          onBlur={checkIfPasswordEqualsConfirmationPassword}\n          helperText={\n            state.newPasswordNotEqualsConfirmation\n              ? \"New password and confirmation password must be the same\"\n              : \"\"\n          }\n        />\n        {requiredAttributes.map((requiredAttribute) => {\n          return (\n            <TextField\n              error={state.requiredAttributesErrorDict[requiredAttribute]}\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name={requiredAttribute.toString()}\n              key={requiredAttribute.toString()}\n              label={capitalizeFirstLetter(requiredAttribute.toString())}\n              type=\"text\"\n              id={requiredAttribute.toString()}\n              onChange={_handleAttributesTextFieldChange}\n              value={state.requiredAttributesDict.requiredAttribute}\n              onBlur={_handleCantBeNull}\n              helperText={\n                state.requiredAttributesErrorDict[requiredAttribute]\n                  ? `${capitalizeFirstLetter(\n                      requiredAttribute.toString()\n                    )} can't be null`\n                  : \"\"\n              }\n            />\n          )\n        })}\n        <Button\n          onClick={handleCompleteSignUpClick}\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          Complete Sign Up\n        </Button>\n      </form>\n    </Fragment>\n  )\n}\n","import React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Drawer from \"@material-ui/core/Drawer\"\n\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport SignIn from \"./SignIn\"\nimport CompleteSignUp from \"./CompleteSignUp\"\n\nconst useStyles = makeStyles((theme) => ({\n  drawer: {\n    width: 500,\n  },\n  root: {\n    height: \"100vh\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  close: {\n    cursor: \"pointer\",\n    color: theme.palette.secondary.main,\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n}))\n\nexport default ({ authConfig, loginDrawerOpen, onClose, onUserChange }) => {\n  const classes = useStyles()\n\n  const [state, setState] = useState({\n    signingIn: true,\n    completeSignUp: false,\n    user: \"\",\n  })\n\n  const toggleCompleteSignUp = (user) => {\n    setState((prevState) => ({\n      ...prevState,\n      signingIn: false,\n      completeSignUp: true,\n      user: user,\n      requiredAttributes: user.challengeParam.requiredAttributes,\n    }))\n  }\n\n  const drawer = () => (\n    <div className={classes.drawer} role=\"presentation\">\n      <Grid container component=\"main\" className={classes.root}>\n        <Grid\n          item\n          xs={12}\n          sm={12}\n          md={12}\n          component={Paper}\n          elevation={6}\n          square\n        >\n          <div className={classes.paper}>\n            <Grid container>\n              <Grid item xs>\n                <ArrowForwardIcon onClick={onClose} className={classes.close} />\n              </Grid>\n            </Grid>\n            <Avatar className={classes.avatar}>\n              <LockOutlinedIcon />\n            </Avatar>\n            {state.signingIn && (\n              <SignIn\n                authConfig={authConfig}\n                onRequireCompleteSignUp={(user) => toggleCompleteSignUp(user)}\n                onUserChange={onUserChange}\n                onClose={onClose}\n              />\n            )}\n            {state.completeSignUp && (\n              <CompleteSignUp\n                authConfig={authConfig}\n                requiredAttributes={state.requiredAttributes}\n                user={state.user}\n                onClose={onClose}\n                onUserChange={onUserChange}\n              />\n            )}\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  )\n\n  return (\n    <>\n      <Drawer anchor=\"right\" open={loginDrawerOpen} onClose={onClose}>\n        {drawer()}\n      </Drawer>\n    </>\n  )\n}\n","// @flow\n\nexport default () => {\n  if (window.require) {\n    return window.require(\"electron\")\n  }\n  return null\n}\n","import posthog from \"posthog-js\"\nimport useElectron from \"./use-electron\"\n\nwindow.posthogInitialized = false\nexport default () => {\n  const isDesktop = Boolean(useElectron())\n  if (!window.posthogInitialized) {\n    posthog.init(\"dSrx1PbFd02XsxlLd7qNbeTxKZwwao2sclVmapyYlT4\", {\n      api_host: \"https://posthog.universaldatatool.com\",\n      autocapture: false,\n    })\n    window.posthog = posthog\n    const domain = isDesktop ? \"desktop\" : window.location.origin\n    posthog.capture(\"domain\", { domain })\n    posthog.capture(\"is_desktop\", { isDesktop: isDesktop })\n    posthog.people.set({ is_desktop: isDesktop, domain })\n    window.posthogInitialized = true\n  }\n  return posthog\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { useLocalStorage } from \"react-use\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport PeopleIcon from \"@material-ui/icons/People\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport TextField from \"@material-ui/core/TextField\"\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\nimport AddBoxTwoTone from \"@material-ui/icons/AddBoxTwoTone\"\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport usePosthog from \"../../utils/use-posthog\"\n\nconst Container = styled(\"div\")({ position: \"relative\", marginLeft: 8 })\nconst WIDTH = 300\nconst borderColor = colors.grey[500]\nconst popupBoxBeforeAndAfter = {\n  bottom: \"100%\",\n  left: \"25%\",\n  border: \"solid transparent\",\n  content: '\" \"',\n  height: 0,\n  width: 0,\n  position: \"absolute\",\n  pointerEvents: \"none\",\n}\nconst PopupBox = styled(\"div\")({\n  position: \"absolute\",\n  zIndex: 10,\n  top: 45,\n  padding: 16,\n  boxSizing: \"border-box\",\n  borderRadius: 4,\n  left: -WIDTH / 4 + 22,\n  backgroundColor: \"#fff\",\n  border: `1px solid ${borderColor}`,\n  width: WIDTH,\n  minHeight: 200,\n  boxShadow: \"0px 3px 12px rgba(0,0,0,0.3)\",\n  \"&:before\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(0,0,0, 0)\",\n    borderBottomColor: borderColor,\n    borderWidth: 12,\n    marginLeft: -12,\n  },\n  \"&:after\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(255,255,255, 0)\",\n    borderBottomColor: \"#fff\",\n    borderWidth: 10,\n    marginLeft: -10,\n  },\n  \"& h1\": {\n    fontSize: 18,\n    marginTop: 0,\n    color: colors.blue[800],\n  },\n  \"& h2\": {\n    fontSize: 14,\n    color: colors.grey[800],\n  },\n  opacity: 1,\n  transition: \"opacity 200ms linear, transform 200ms ease\",\n  \"&.hidden\": {\n    opacity: 0,\n    transform: \"translate(0, 10px)\",\n    pointerEvents: \"none\",\n  },\n})\nconst ErrorText = styled(\"div\")({\n  color: colors.red[500],\n  padding: 8,\n  fontSize: 14,\n})\n\nconst CreateNewButton = styled(Button)({\n  marginTop: 16,\n  justifyContent: \"flex-start\",\n  color: colors.blue[500],\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n  },\n})\nconst ExitButton = styled(Button)({\n  marginTop: 16,\n  justifyContent: \"flex-start\",\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n    color: colors.red[500],\n  },\n})\n\nexport default ({\n  fileOpen = false,\n  inSession = false,\n  error,\n  onJoinSession,\n  onCreateSession,\n  onLeaveSession,\n  sessionBoxOpen,\n  changeSessionBoxOpen,\n}) => {\n  const [loadingSession, changeLoadingSession] = useState(false)\n  const [sessionUrl, changeSessionUrl] = useState(\"\")\n  const [userName, changeUserName] = useLocalStorage(\"userName\", \"anonymous\")\n  const posthog = usePosthog()\n\n  useEffect(() => {\n    if (loadingSession) {\n      setTimeout(() => {\n        changeLoadingSession(false)\n      }, 10000)\n    }\n  }, [loadingSession])\n\n  return (\n    <Container\n      onMouseEnter={() => changeSessionBoxOpen(true)}\n      onMouseLeave={() => changeSessionBoxOpen(false)}\n    >\n      <IconButton style={{ color: inSession ? colors.blue[500] : undefined }}>\n        <PeopleIcon />\n      </IconButton>\n      <PopupBox className={sessionBoxOpen ? \"\" : \"hidden\"}>\n        <h1>Collaborate</h1>\n        {!inSession ? (\n          <>\n            <h2>Join a Session</h2>\n            <TextField\n              variant=\"outlined\"\n              label=\"URL to Session\"\n              value={sessionUrl}\n              onChange={(e) => changeSessionUrl(e.target.value)}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      color=\"primary\"\n                      onClick={() => {\n                        posthog.capture(\"join_collaborative_session\")\n                        onJoinSession(sessionUrl)\n                      }}\n                      disabled={!sessionUrl}\n                    >\n                      <ArrowForwardIcon />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            {error && <ErrorText>{error}</ErrorText>}\n            <CreateNewButton\n              fullWidth\n              disabled={!fileOpen || loadingSession || error}\n              onClick={() => {\n                posthog.capture(\"create_collaborative_session\")\n                onCreateSession()\n                changeLoadingSession(true)\n              }}\n            >\n              {loadingSession ? (\n                <CircularProgress className=\"icon\" size={24} />\n              ) : (\n                <AddBoxTwoTone className=\"icon\" />\n              )}\n              Create New Session\n            </CreateNewButton>\n          </>\n        ) : (\n          <>\n            <TextField\n              style={{ marginTop: 12 }}\n              variant=\"outlined\"\n              label=\"User Name\"\n              value={userName}\n              onChange={(e) => changeUserName(e.target.value)}\n            />\n            <ExitButton fullWidth onClick={onLeaveSession}>\n              <ExitToAppIcon className=\"icon\" />\n              Leave Session\n            </ExitButton>\n          </>\n        )}\n      </PopupBox>\n    </Container>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst WIDTH = 300\nconst borderColor = colors.grey[500]\nconst popupBoxBeforeAndAfter = {\n  bottom: \"100%\",\n  left: \"25%\",\n  border: \"solid transparent\",\n  content: '\" \"',\n  height: 0,\n  width: 0,\n  position: \"absolute\",\n  pointerEvents: \"none\",\n}\nconst PopupBox = styled(\"div\")({\n  position: \"absolute\",\n  zIndex: 10,\n  top: 45,\n  padding: 16,\n  boxSizing: \"border-box\",\n  borderRadius: 4,\n  left: -WIDTH / 4 + 22,\n  backgroundColor: \"#fff\",\n  border: `1px solid ${borderColor}`,\n  width: WIDTH,\n  minHeight: 200,\n  boxShadow: \"0px 3px 12px rgba(0,0,0,0.3)\",\n  \"&:before\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(0,0,0, 0)\",\n    borderBottomColor: borderColor,\n    borderWidth: 12,\n    marginLeft: -12,\n  },\n  \"&:after\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(255,255,255, 0)\",\n    borderBottomColor: \"#fff\",\n    borderWidth: 10,\n    marginLeft: -10,\n  },\n  \"& h1\": {\n    fontSize: 18,\n    marginTop: 0,\n    color: colors.blue[800],\n  },\n  \"& h2\": {\n    fontSize: 14,\n    color: colors.grey[800],\n  },\n  opacity: 1,\n  transition: \"opacity 200ms linear, transform 200ms ease\",\n  \"&.hidden\": {\n    opacity: 0,\n    transform: \"translate(0, 10px)\",\n    pointerEvents: \"none\",\n  },\n})\n\nexport default ({ open, children }) => {\n  return <PopupBox className={open ? \"\" : \"hidden\"}>{children}</PopupBox>\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport DownloadIcon from \"@material-ui/icons/GetApp\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport HeaderPopupBox from \"../HeaderPopupBox\"\n\nconst Container = styled(\"div\")({ position: \"relative\" })\n\nconst StyledButton = styled(Button)({\n  justifyContent: \"flex-start\",\n  \"& .fakeicon\": {\n    display: \"inline\",\n    marginRight: 8,\n    padding: 4,\n    paddingTop: 5,\n    fontSize: 11,\n    fontWeight: \"bold\",\n    color: \"#fff\",\n    backgroundColor: colors.grey[700],\n    borderRadius: 4,\n    width: 36,\n    \"&.blue\": {\n      backgroundColor: colors.blue[700],\n    },\n    \"&.green\": {\n      backgroundColor: colors.green[700],\n    },\n  },\n})\n\nexport default ({ onDownload }) => {\n  const [open, changeOpen] = useState(false)\n\n  return (\n    <Container\n      onMouseEnter={() => changeOpen(true)}\n      onMouseLeave={() => changeOpen(false)}\n    >\n      <IconButton>\n        <DownloadIcon />\n      </IconButton>\n      <HeaderPopupBox open={open}>\n        <h1>Download</h1>\n        <StyledButton fullWidth onClick={() => onDownload(\"csv\")}>\n          <div className=\"fakeicon green\">CSV</div>\n          Download CSV\n        </StyledButton>\n        <StyledButton fullWidth onClick={() => onDownload(\"json\")}>\n          <div className=\"fakeicon blue\">JSON</div>\n          Download JSON\n        </StyledButton>\n      </HeaderPopupBox>\n    </Container>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nfunction GitHub(props: Object) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z\" />\n    </SvgIcon>\n  )\n}\n\nexport default GitHub\n","// @flow weak\n\nimport seed from \"seed-random\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst fadedGrey = {\n  \"600\": colors.grey[400],\n  \"500\": colors.grey[300],\n  \"400\": colors.grey[200],\n  \"300\": colors.grey[100],\n  isFaded: true,\n}\n\nconst availableColors = [\n  colors.blue,\n  colors.deepOrange,\n  colors.green,\n  colors.purple,\n  colors.pink,\n  colors.cyan,\n  colors.orange,\n  colors.indigo,\n]\n\nconst colorMap = {\n  ...colors,\n  complete: colors.blue,\n  incomplete: fadedGrey,\n  faded: fadedGrey,\n  review: colors.deepOrange,\n}\n\nexport default (brush) => {\n  return (\n    colorMap[brush] || availableColors[seed(brush) * availableColors.length]\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport BrushIcon from \"@material-ui/icons/Brush\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport HeaderPopupBox from \"../HeaderPopupBox\"\nimport useEventCallback from \"use-event-callback\"\nimport memoize from \"lodash/memoize\"\nimport getBrushColorPalette from \"../../utils/get-brush-color-palette.js\"\n\nconst Container = styled(\"div\")({ position: \"relative\" })\nconst BrushCircle = styled(\"div\")(({ color }) => ({\n  display: \"inline\",\n  marginRight: 8,\n  backgroundColor: color[700],\n  width: 24,\n  height: 24,\n  borderRadius: 20,\n}))\n\nconst OtherColorContainers = styled(\"div\")({\n  paddingTop: 10,\n  padding: 4,\n  display: \"flex\",\n  flexWrap: \"wrap\",\n})\n\nconst StyledIconButton = styled(IconButton)(({ iconcolor, selected }) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  backgroundColor: iconcolor[700],\n  border: selected ? `4px solid ${iconcolor[\"A200\"]}` : \"4px solid #fff\",\n  boxSizing: \"content-box\",\n  margin: 4,\n  transition: \"transform 200ms linear\",\n  \"&:hover\": {\n    backgroundColor: iconcolor[800],\n    transform: \"scale(1.2,1.2)\",\n  },\n  \"&:active\": {\n    transition: \"transform 100ms linear\",\n    transform: \"scale(1.4,1.4)\",\n  },\n}))\n\nconst StyledButton = styled(Button)(({ selected, iconcolor }) => ({\n  justifyContent: \"flex-start\",\n  marginTop: 4,\n  marginBottom: 4,\n  paddingTop: 8,\n  paddingBottom: 8,\n  backgroundColor: selected ? iconcolor[50] : \"#fff\",\n  border: selected ? `2px solid ${iconcolor[200]}` : \"2px solid #fff\",\n  \"&:hover\": {\n    backgroundColor: selected ? iconcolor[100] : \"none\",\n  },\n}))\n\nexport default ({ selectedBrush, onChangeSelectedBrush }) => {\n  const [open, changeOpen] = useState(false)\n  const handleClick = useEventCallback((color) =>\n    memoize(() => onChangeSelectedBrush(color))\n  )\n\n  return (\n    <Container\n      onMouseEnter={() => changeOpen(true)}\n      onMouseLeave={() => changeOpen(false)}\n    >\n      <IconButton>\n        <BrushIcon\n          style={{ color: getBrushColorPalette(selectedBrush)[800] }}\n        />\n      </IconButton>\n      <HeaderPopupBox open={open}>\n        <h1>Sample Brushes</h1>\n        <StyledButton\n          selected={selectedBrush === \"complete\" || selectedBrush === \"blue\"}\n          iconcolor={colors.blue}\n          fullWidth\n          onClick={handleClick(\"complete\")}\n        >\n          <BrushCircle color={colors.blue} />\n          Complete\n        </StyledButton>\n        <StyledButton\n          selected={\n            selectedBrush === \"review\" || selectedBrush === \"deepOrange\"\n          }\n          iconcolor={colors.deepOrange}\n          fullWidth\n          onClick={handleClick(\"review\")}\n        >\n          <BrushCircle color={colors.deepOrange} />\n          Review\n        </StyledButton>\n        <OtherColorContainers>\n          <StyledIconButton\n            onClick={handleClick(\"green\")}\n            selected={selectedBrush === \"green\"}\n            iconcolor={colors.green}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"purple\")}\n            selected={selectedBrush === \"purple\"}\n            iconcolor={colors.purple}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"pink\")}\n            selected={selectedBrush === \"pink\"}\n            iconcolor={colors.pink}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"cyan\")}\n            selected={selectedBrush === \"cyan\"}\n            iconcolor={colors.cyan}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"orange\")}\n            selected={selectedBrush === \"orange\"}\n            iconcolor={colors.orange}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"indigo\")}\n            selected={selectedBrush === \"indigo\"}\n            iconcolor={colors.indigo}\n          />\n        </OtherColorContainers>\n      </HeaderPopupBox>\n    </Container>\n  )\n}\n","// @flow weak\n\nimport React, { memo } from \"react\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\nimport StorageIcon from \"@material-ui/icons/Storage\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport CollaborateButton from \"../CollaborateButton\"\nimport DownloadButton from \"../DownloadButton\"\nimport Button from \"@material-ui/core/Button\"\nimport GithubIcon from \"../Header/GithubIcon\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport isEmpty from \"../../utils/isEmpty\"\nimport packageJSON from \"../../../package.json\"\nimport BrushButton from \"../BrushButton\"\n\nconst useStyles = makeStyles((theme) => ({\n  headerButton: {\n    marginLeft: 16,\n    color: \"#888\",\n  },\n  grow: { flexGrow: 1 },\n  list: {\n    width: 300,\n  },\n  tab: {\n    color: \"#000\",\n    \"& .icon\": {},\n  },\n  fullHeightTab: {\n    ...theme.mixins.toolbar,\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: 20,\n    },\n  },\n  tabWrapper: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    textTransform: \"none\",\n    color: \"#000\",\n    \"&&& svg\": {\n      marginBottom: 0,\n      marginRight: 8,\n      width: 18,\n      height: 18,\n    },\n  },\n}))\n\nconst getIcon = (t) => {\n  switch (t) {\n    case \"Setup\":\n      return <SettingsIcon className=\"icon\" />\n    case \"Label\":\n      return <BorderColorIcon className=\"icon\" />\n    case \"Samples\":\n      return <StorageIcon className=\"icon\" />\n    default:\n      return <div></div>\n  }\n}\n\nconst HeaderToolbar = ({\n  tabs,\n  currentTab,\n  onChangeTab,\n  additionalButtons,\n  onOpenDrawer,\n  title = \"Universal Data Tool\",\n  isDesktop,\n  fileOpen,\n  sessionBoxOpen,\n  changeSessionBoxOpen,\n  inSession,\n  onCreateSession,\n  onLeaveSession,\n  onJoinSession,\n  onDownload,\n  selectedBrush,\n  onChangeSelectedBrush,\n  isSmall,\n  authConfig,\n  user,\n  changeLoginDrawerOpen,\n  logoutUser,\n  collaborateError,\n}) => {\n  const c = useStyles()\n  return (\n    <AppBar color=\"default\" position=\"static\">\n      <Toolbar variant=\"dense\">\n        {!isDesktop && (\n          <IconButton onClick={onOpenDrawer} className={c.headerButton}>\n            <MenuIcon />\n          </IconButton>\n        )}\n        {fileOpen ? title : \"Universal Data Tool v\" + packageJSON.version}\n        <CollaborateButton\n          sessionBoxOpen={sessionBoxOpen}\n          changeSessionBoxOpen={changeSessionBoxOpen}\n          fileOpen={fileOpen}\n          inSession={inSession}\n          onCreateSession={onCreateSession}\n          onLeaveSession={onLeaveSession}\n          onJoinSession={onJoinSession}\n          error={collaborateError}\n        />\n        {fileOpen && (\n          <BrushButton\n            selectedBrush={selectedBrush}\n            onChangeSelectedBrush={onChangeSelectedBrush}\n          />\n        )}\n        {!isDesktop && fileOpen && <DownloadButton onDownload={onDownload} />}\n        <div className={c.grow} />\n        {additionalButtons}\n        {tabs.length > 0 && (\n          <Tabs\n            onChange={(e, newTab) => onChangeTab(newTab.toLowerCase())}\n            value={currentTab}\n          >\n            {tabs.map((t) => (\n              <Tab\n                key={t}\n                classes={{ root: c.fullHeightTab, wrapper: c.tabWrapper }}\n                className={c.tab}\n                icon={getIcon(t)}\n                label={isSmall ? \"\" : t}\n                value={t.toLowerCase()}\n              />\n            ))}\n          </Tabs>\n        )}\n        {!isEmpty(authConfig) && isEmpty(user) && (\n          <Button\n            onClick={() => {\n              changeLoginDrawerOpen(true)\n            }}\n            className={c.headerButton}\n          >\n            Login\n          </Button>\n        )}\n        {!isEmpty(authConfig) && !isEmpty(user) && (\n          <Button onClick={logoutUser} className={c.headerButton}>\n            Logout\n          </Button>\n        )}\n        {!isSmall && (\n          <IconButton\n            href=\"https://github.com/openhumanannotation/universal-data-tool\"\n            className={c.headerButton}\n          >\n            <GithubIcon />\n          </IconButton>\n        )}\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default memo(HeaderToolbar)\n","// @flow\n\nimport ImageSearch from \"@material-ui/icons/ImageSearch\"\nimport Image from \"@material-ui/icons/Image\"\nimport CropFree from \"@material-ui/icons/CropFree\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Category from \"@material-ui/icons/Category\"\nimport ThreeDRotation from \"@material-ui/icons/ThreeDRotation\"\nimport OndemandVideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport ContactSupport from \"@material-ui/icons/ContactSupport\"\n\nexport const templates = [\n  {\n    name: \"Empty\",\n    Icon: CropFree,\n    oha: {\n      interface: {},\n      samples: [],\n    },\n  },\n  {\n    name: \"Image Segmentation\",\n    Icon: ImageSearch,\n    oha: {\n      interface: {\n        type: \"image_segmentation\",\n        labels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\n          \"bounding-box\",\n          \"polygon\",\n          // \"full-segmentation\",\n          \"point\",\n          // \"pixel-mask\"\n        ],\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Image Classification\",\n    Icon: Image,\n    oha: {\n      interface: {\n        type: \"image_classification\",\n        labels: [\"valid\", \"invalid\"],\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Video Segmentation\",\n    Icon: OndemandVideoIcon,\n    oha: {\n      interface: {\n        type: \"video_segmentation\",\n        labels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\"bounding-box\", \"polygon\", \"point\"],\n      },\n      samples: [\n        {\n          videoUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/SampleVideo_1280x720_1mb.mp4\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Data Entry\",\n    Icon: Edit,\n    oha: {\n      interface: {\n        type: \"data_entry\",\n        description: \"# Markdown description here\",\n        surveyjs: {\n          questions: [\n            {\n              type: \"text\",\n              name: \"document_title\",\n              title: \"Title of Document\",\n            },\n          ],\n        },\n      },\n      samples: [\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1906.01969.pdf\",\n        },\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1908.07069.pdf\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Named Entity Recognition\",\n    Icon: TextFormat,\n    oha: {\n      interface: {\n        type: \"text_entity_recognition\",\n        overlapAllowed: false,\n        labels: [\n          {\n            id: \"food\",\n            displayName: \"Food\",\n            description: \"Edible item.\",\n          },\n          {\n            id: \"hat\",\n            displayName: \"Hat\",\n            description: \"Something worn on the head.\",\n          },\n        ],\n      },\n      samples: [\n        {\n          document:\n            \"This strainer makes a great hat, I'll wear it while I serve spaghetti!\",\n        },\n        {\n          document: \"Why are all these dumpings covered in butter?!\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Text Classification\",\n    Icon: ContactSupport,\n    oha: {\n      interface: {\n        type: \"text_classification\",\n        labels: [\"positive_sentiment\", \"negative_sentiment\"],\n      },\n      samples: [\n        {\n          document: \"Wow this is terrible. I hated it.\",\n        },\n        {\n          document: \"This has made me so happy. I love this.\",\n        },\n        {\n          document:\n            \"At first I wasn't sure. Then I thought, oh it's not very good.\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Audio Transcription\",\n    Icon: Audiotrack,\n    oha: {\n      interface: {\n        type: \"audio_transcription\",\n        description: \"# Markdown description here\",\n      },\n      samples: [\n        {\n          audioUrl: \"https://html5tutorial.info/media/vincent.mp3\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Composite\",\n    Icon: Category,\n    oha: {\n      description: \"# Markdown description here\",\n      interface: {\n        type: \"composite\",\n        fields: [\n          {\n            fieldName: \"textInfo\",\n            interface: {\n              type: \"data_entry\",\n              surveyjs: {\n                questions: [\n                  {\n                    type: \"text\",\n                    name: \"group_letter\",\n                    title: \"Letter of Group\",\n                  },\n                ],\n              },\n            },\n          },\n          {\n            fieldName: \"segmentation\",\n            interface: {\n              type: \"image_segmentation\",\n              labels: [\"group text\"],\n              regionTypesAllowed: [\"bounding-box\"],\n            },\n          },\n        ],\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"3D Bounding Box\",\n    Icon: ThreeDRotation,\n    oha: {\n      interface: {\n        type: \"3d_bounding_box\",\n        description: \"3D Bounding Box\",\n      },\n      samples: [{}],\n    },\n  },\n]\n\nexport const templateMap = templates.reduce((acc, t) => {\n  acc[t.name] = t\n  acc[t.oha.interface.type] = t\n  return acc\n}, {})\n\nexport default templates\n","//@flow weak\n\nimport React, { useCallback } from \"react\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport { useDropzone } from \"react-dropzone\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport { GoMarkGithub } from \"react-icons/go\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport HomeIcon from \"@material-ui/icons/Home\"\nimport { FaTrashAlt } from \"react-icons/fa\"\nimport templates from \"../StartingPage/templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport NoteAddIcon from \"@material-ui/icons/NoteAdd\"\n\nconst useStyles = makeStyles({})\n\nexport default ({\n  recentItems,\n  changeRecentItems,\n  onClickHome,\n  onCloseDrawer,\n  drawerOpen,\n  onOpenFile,\n  onOpenRecentItem,\n  onClickTemplate,\n}) => {\n  const c = useStyles()\n\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      onOpenFile(acceptedFiles[0])\n    },\n    [onOpenFile]\n  )\n\n  function onDeleteFile(i) {\n    changeRecentItems(\n      recentItems.filter((oneRecentFile) => oneRecentFile.id !== i)\n    )\n  }\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  return (\n    <Drawer open={drawerOpen} onClose={onCloseDrawer}>\n      <List className={c.list}>\n        <ListItem onClick={onClickHome} button>\n          <ListItemIcon>\n            <HomeIcon />\n          </ListItemIcon>\n          <ListItemText>Home</ListItemText>\n        </ListItem>\n        <ListItem {...getRootProps()} button>\n          <ListItemIcon>\n            <NoteAddIcon />\n          </ListItemIcon>\n          <ListItemText>Open File</ListItemText>\n          <input {...getInputProps()} />\n        </ListItem>\n        <ListSubheader>Recent Files</ListSubheader>\n        {recentItems.length === 0 ? (\n          <ListItem>\n            <ListItemText\n              style={{ textAlign: \"center\", color: colors.grey[500] }}\n            >\n              No Recent Items\n            </ListItemText>\n          </ListItem>\n        ) : (\n          recentItems.map((ri, index) => (\n            <ListItem key={ri.fileName} button>\n              <ListItemIcon\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                <FileIcon />\n              </ListItemIcon>\n              <ListItemText\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                {ri.fileName}\n              </ListItemText>\n              <ListItemIcon\n                onClick={() => {\n                  onDeleteFile(ri.id)\n                }}\n              >\n                <FaTrashAlt />\n              </ListItemIcon>\n            </ListItem>\n          ))\n        )}\n        <ListSubheader>Create From Template</ListSubheader>\n        {templates.map((template) => (\n          <ListItem\n            key={template.name}\n            onClick={() => onClickTemplate(template)}\n          >\n            <ListItemIcon>\n              <template.Icon />\n            </ListItemIcon>\n            <ListItemText>{template.name}</ListItemText>\n          </ListItem>\n        ))}\n        <ListSubheader>Explore More</ListSubheader>\n        {/* <ListItem button>\n      <ListItemIcon>\n        <CodeIcon />\n      </ListItemIcon>\n      <ListItemText>Integrate</ListItemText>\n    </ListItem> */}\n        <ListItem\n          button\n          onClick={() => {\n            window.location.href =\n              \"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n          }}\n        >\n          <ListItemIcon>\n            <GoMarkGithub />\n          </ListItemIcon>\n          <ListItemText>Github</ListItemText>\n        </ListItem>\n      </List>\n    </Drawer>\n  )\n}\n","// @flow weak\n\nimport React, { useState, createContext, useContext, useCallback } from \"react\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\"\nimport LoginDrawer from \"../LoginDrawer\"\n\nimport HeaderToolbar from \"../HeaderToolbar\"\nimport HeaderDrawer from \"../HeaderDrawer\"\n\nexport const HeaderContext = createContext({\n  recentItems: [],\n  changeRecentItems: () => null,\n  onClickTemplate: () => null,\n  onClickHome: () => null,\n  onOpenFile: () => null,\n  onOpenRecentItem: () => null,\n  isDesktop: false,\n  inSession: false,\n  onJoinSession: () => null,\n  onCreateSession: () => null,\n  onLeaveSession: () => null,\n  sessionBoxOpen: false,\n  changeSessionBoxOpen: () => null,\n  fileOpen: false,\n  onDownload: () => null,\n  authConfig: null,\n  onUserChange: () => null,\n  user: null,\n  logoutUser: () => null,\n})\n\nconst emptyArray = []\n\nexport default ({\n  additionalButtons = emptyArray,\n  title,\n  currentTab,\n  onChangeTab,\n  tabs = emptyArray,\n}) => {\n  const [drawerOpen, changeDrawerOpen] = useState(false)\n  const [loginDrawerOpen, changeLoginDrawerOpen] = useState(false)\n  let headerContext = useContext(HeaderContext)\n  if (!headerContext.recentItems) headerContext.recentItems = []\n\n  const isSmall = useMediaQuery(\"(max-width: 800px)\")\n\n  const onOpenDrawer = useCallback(() => changeDrawerOpen(true), [])\n  const onCloseDrawer = useCallback(() => changeDrawerOpen(false), [])\n\n  return (\n    <>\n      <HeaderToolbar\n        tabs={tabs}\n        currentTab={currentTab}\n        onChangeTab={onChangeTab}\n        additionalButtons={additionalButtons}\n        onOpenDrawer={onOpenDrawer}\n        isSmall={isSmall}\n        {...headerContext}\n        changeLoginDrawerOpen={changeLoginDrawerOpen}\n        title={title}\n      />\n      <HeaderDrawer\n        drawerOpen={drawerOpen}\n        onCloseDrawer={onCloseDrawer}\n        onClickHome={headerContext.onClickHome}\n        recentItems={headerContext.recentItems}\n        changeRecentItems={headerContext.changeRecentItems}\n        onOpenFile={headerContext.onOpenFile}\n        onClickTemplate={headerContext.onClickTemplate}\n        onOpenRecentItem={headerContext.onOpenRecentItem}\n      />\n      <LoginDrawer\n        authConfig={headerContext.authConfig}\n        loginDrawerOpen={loginDrawerOpen}\n        onClose={() => changeLoginDrawerOpen(false)}\n        onUserChange={headerContext.onUserChange}\n        logoutUser={headerContext.logoutUser}\n      />\n    </>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport FullScreenIcon from \"@material-ui/icons/Fullscreen\"\nimport FullScreenExitIcon from \"@material-ui/icons/FullscreenExit\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Button from \"@material-ui/core/Button\"\nimport { grey, blue, red } from \"@material-ui/core/colors\"\nimport ReactMarkdown from \"react-markdown\"\nimport { styled } from \"@material-ui/core/styles\"\n\nconst StyledDialogTitle = styled(DialogTitle)({\n  backgroundColor: grey[100],\n  borderBottom: `1px solid ${grey[300]}`,\n  paddingBottom: 12,\n  boxShadow: \"0px 2px 3px rgba(0,0,0,0.05)\",\n})\nconst StyledDialogContent = styled(DialogContent)({\n  paddingTop: 16,\n})\nconst StyledDialogActions = styled(DialogActions)({\n  backgroundColor: grey[100],\n  borderTop: `1px solid ${grey[300]}`,\n})\n\nexport default ({\n  open = false,\n  title,\n  children,\n  markdownContent,\n  onClose,\n  red: redOn,\n  noActionBar = false,\n  actions = [],\n}) => {\n  const [fullScreen, changeFullScreen] = useState(false)\n  return (\n    <Dialog open={open} onClose={onClose} fullScreen={fullScreen}>\n      <StyledDialogTitle>\n        <Box display=\"flex\" alignItems=\"center\">\n          <span style={{ color: redOn ? red[700] : undefined }}>{title}</span>\n          <div style={{ flexGrow: 1 }} />\n          <IconButton onClick={() => changeFullScreen(!fullScreen)}>\n            {fullScreen ? <FullScreenExitIcon /> : <FullScreenIcon />}\n          </IconButton>\n          <IconButton onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </StyledDialogTitle>\n      <StyledDialogContent>\n        <Box maxWidth=\"90vw\" minWidth={400} lineHeight={1.5}>\n          {markdownContent ? (\n            <ReactMarkdown source={markdownContent} />\n          ) : (\n            children\n          )}\n        </Box>\n      </StyledDialogContent>\n      {!noActionBar && (\n        <StyledDialogActions>\n          <Button onClick={() => onClose()}>\n            <span style={{ color: grey[700], fontWeight: 500 }}>Close</span>\n          </Button>\n          {actions.map((action, i) => (\n            <Button disabled={action.disabled} key={i} onClick={action.onClick}>\n              <span\n                style={{ color: redOn ? red[700] : blue[700], fontWeight: 500 }}\n              >\n                {action.text}\n              </span>\n            </Button>\n          ))}\n        </StyledDialogActions>\n      )}\n    </Dialog>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport templates from \"../StartingPage/templates\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nconst useStyles = makeStyles({\n  bigButton: {\n    padding: 10,\n    width: 150,\n    height: 120,\n    border: \"1px solid #ccc\",\n    margin: 10,\n  },\n  bigIcon: {\n    width: 48,\n    height: 48,\n  },\n})\n\nexport default ({ open, onClose, onSelect }) => {\n  const c = useStyles()\n  return (\n    <SimpleDialog title=\"Create from Template\" open={open} onClose={onClose}>\n      {templates.map((template) => (\n        <Button\n          key={template.name}\n          onClick={() => onSelect(template)}\n          className={c.bigButton}\n        >\n          <div>\n            <div>{template.name}</div>\n            <div>\n              <template.Icon className={c.bigIcon} />\n            </div>\n          </div>\n        </Button>\n      ))}\n    </SimpleDialog>\n  )\n}\n","// @flow\nimport React from \"react\"\n\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nconst CognitoIcon = (props) => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 75 75\">\n      <g id=\"Reference\">\n        <rect\n          id=\"Red_Light_BG\"\n          data-name=\"Red Light BG\"\n          style={{ fill: \"#d6242d\" }}\n          width=\"75\"\n          height=\"75\"\n        />\n        <g id=\"Product_Icon\" data-name=\"Product Icon\">\n          <path\n            style={{ fill: \"#fff\" }}\n            d=\"M55,15H16.46a3.92,3.92,0,0,0-3.71,4.1v24.8A3.92,3.92,0,0,0,16.46,48H37.75V46H16.46a2,2,0,0,1-1.71-2.1V27h18V42a1,1,0,0,0,1,1h8V41H35.2V40.7a7.74,7.74,0,0,1,5.53-7.43,5.91,5.91,0,0,0,4.92,0,7.82,7.82,0,0,1,4.42,3.42l1.7-1v0a9.8,9.8,0,0,0-4.34-3.82,5.4,5.4,0,0,0,1.27-3.48,5.5,5.5,0,0,0-11,0A5.42,5.42,0,0,0,39,31.8a9.67,9.67,0,0,0-4.22,3.62V22h17v13.7h0V36h2V27h3V37h2l0-17.9A3.92,3.92,0,0,0,55,15ZM43.2,24.87a3.48,3.48,0,0,1,3.5,3.46,3.43,3.43,0,0,1-1.81,3,3.57,3.57,0,0,1-3.39,0,3.44,3.44,0,0,1-1.8-3A3.48,3.48,0,0,1,43.2,24.87ZM53.75,25V21a1,1,0,0,0-1-1h-19a1,1,0,0,0-1,1v4h-18v-5.9A2,2,0,0,1,16.46,17H55a2,2,0,0,1,1.73,2.1V25Z\"\n          />\n          <rect\n            style={{ fill: \"#fff\" }}\n            x=\"16.77\"\n            y=\"31.95\"\n            width=\"10.98\"\n            height=\"2\"\n          />\n          <rect\n            style={{ fill: \"#fff\" }}\n            x=\"16.77\"\n            y=\"36.95\"\n            width=\"6.98\"\n            height=\"2\"\n          />\n          <rect\n            style={{ fill: \"#fff\" }}\n            x=\"25.77\"\n            y=\"36.95\"\n            width=\"2.98\"\n            height=\"2\"\n          />\n          <path style={{ fill: \"#fff\" }} d=\"M51.78,35.65h0v0Z\" />\n          <path\n            style={{ fill: \"#fff\" }}\n            d=\"M52.14,60.05a10.11,10.11,0,1,1,1.22-20.14h0a10.12,10.12,0,0,1,6.46,16.61,10.47,10.47,0,0,1-3.37,2.57A10.19,10.19,0,0,1,52.14,60.05Zm0-18.22a8,8,0,0,0-3.69.9,8.11,8.11,0,0,0,7.16,14.55,8.2,8.2,0,0,0,2.71-2.07,8.11,8.11,0,0,0-5.19-13.32h0A8.22,8.22,0,0,0,52.12,41.83Z\"\n          />\n          <path\n            style={{ fill: \"#fff\" }}\n            d=\"M50.55,54.2h0a1,1,0,0,1-.71-.29l-3.23-3.23L48,49.27l2.52,2.52,5.7-5.71,1.42,1.42-6.42,6.41A1,1,0,0,1,50.55,54.2Z\"\n          />\n          <path style={{ fill: \"#fff\" }} d=\"M51.78,35.65h0v0Z\" />\n        </g>\n      </g>\n    </SvgIcon>\n  )\n}\n\nexport default [\n  {\n    name: \"AWS - Cognito\",\n    provider: \"AWS\",\n    Icon: CognitoIcon,\n    oha: {\n      interface: {},\n      samples: [],\n    },\n  },\n]\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { red } from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n    pointerEvents: \"none\",\n  },\n  errorBox: {\n    display: \"flex\",\n    backgroundColor: red[700],\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4,\n  },\n})\n\nexport default ({ errors }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      {errors.map((err) => (\n        <Collapse key={err.id} in={err.life < 5000}>\n          <Fade in={err.life > 500}>\n            <div className={c.errorBox}>{err.message}</div>\n          </Fade>\n        </Collapse>\n      ))}\n    </div>\n  )\n}\n","// @flow\n\nimport { useState, useEffect } from \"react\"\n\nconst REFRESH_INTERVAL = 100\n\nexport default () => {\n  const [errors, changeErrors] = useState([])\n  useEffect(() => {\n    if (errors.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeErrors(\n        errors\n          .map((err) => ({\n            ...err,\n            life: err.life - REFRESH_INTERVAL,\n          }))\n          .filter((err) => err.life > 0)\n      )\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [errors])\n\n  function addError(message: string) {\n    changeErrors(\n      errors.concat([\n        {\n          id: Math.random().toString().split(\".\")[1],\n          message,\n          life: 5000,\n        },\n      ])\n    )\n  }\n\n  return [errors, addError]\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport authTemplates from \"./authTemplates\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport isEmpty from \"../../utils/isEmpty\"\nimport Survey from \"material-survey/components/Survey\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport Amplify, { Auth } from \"aws-amplify\"\n\nconst useStyles = makeStyles({\n  bigButton: {\n    padding: 10,\n    width: 150,\n    height: 120,\n    border: \"1px solid #ccc\",\n    margin: 10,\n  },\n  bigIcon: {\n    width: 48,\n    height: 48,\n  },\n  cognitoIcon: {\n    width: 48,\n    height: 48,\n  },\n})\n\nconst forms = {\n  AWS: {\n    questions: [\n      {\n        name: \"identityPoolId\",\n        title: \"Amazon Cognito Identity Pool ID\",\n        placeholder: \"XX-XXXX-X:XXXXXXXX-XXXX-1234-abcd-1234567890ab\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"region\",\n        title: \"AWS Region\",\n        placeholder: \"XX-XXXX-X\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"userPoolId\",\n        title: \"Amazon Cognito User Pool ID\",\n        placeholder: \"XX-XXXX-X_12ab34cd9\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"userPoolWebClientId\",\n        title: \"Amazon Cognito Web Client ID\",\n        placeholder: \"26-char alphanumeric string\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"bucket\",\n        title: \"Bucket AWS\",\n        placeholder: \"Name of the bucket\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"regionBucket\",\n        title: \"Region of the bucket\",\n        placeholder: \"XX-XXXX-X\",\n        type: \"text\",\n        isRequired: true,\n      },\n    ],\n  },\n}\n\nexport default ({ open, onClose, onSelect, onFinish, onAuthConfigured }) => {\n  const c = useStyles()\n  const [authProvider, setAuthProvider] = useState(null)\n  const [dialogTitle, setDialogTitle] = useState(\"Add Authentification\")\n  const [errors, addError] = useErrors()\n\n  const validateAuthProvider = (answers) => {\n    if (answers.provider === \"AWS\") {\n      const config = {\n        Auth: {\n          identityPoolId: answers.identityPoolId,\n          region: answers.region,\n          userPoolId: answers.userPoolId,\n          userPoolWebClientId: answers.userPoolWebClientId,\n          mandatorySignIn: true,\n          authenticationFlowType: \"USER_PASSWORD_AUTH\",\n        },\n        Storage: {\n          AWSS3: {\n            bucket: answers.bucket,\n            region: answers.regionBucket,\n          },\n        },\n      }\n      try {\n        Amplify.configure(config)\n        Auth.currentAuthenticatedUser()\n          .then((user) => {\n            onAuthConfigured(config)\n            onClose()\n          })\n          .catch((err) => {\n            onAuthConfigured(config)\n            onClose()\n          })\n      } catch (err) {\n        addError(\"Invalid Cognito config\")\n      }\n    }\n  }\n\n  return (\n    <>\n      <SimpleDialog\n        title={dialogTitle}\n        open={open}\n        onClose={() => {\n          onClose()\n        }}\n        onFinish={onFinish}\n      >\n        {isEmpty(authProvider) &&\n          authTemplates.map((template, i) => (\n            <Button\n              key={template.name}\n              onClick={() => {\n                setAuthProvider(template.provider)\n                setDialogTitle(`Add Authentification for ${template.name}`)\n              }}\n              className={c.bigButton}\n            >\n              <div>\n                <div>{template.name}</div>\n                <div>\n                  <template.Icon className={c.cognitoIcon} />\n                </div>\n              </div>\n            </Button>\n          ))}\n\n        {!isEmpty(authProvider) && forms[authProvider] && (\n          <Survey\n            variant=\"flat\"\n            form={forms[authProvider]}\n            onFinish={(answers) => {\n              answers[\"provider\"] = authProvider\n              validateAuthProvider(answers)\n            }}\n          />\n        )}\n        <ErrorToasts errors={errors} />\n      </SimpleDialog>\n    </>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Header from \"../Header\"\nimport Button from \"@material-ui/core/Button\"\nimport templates from \"./templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { useDropzone } from \"react-dropzone\"\nimport CreateFromTemplateDialog from \"../CreateFromTemplateDialog\"\nimport AddAuthFromTemplateDialog from \"../AddAuthFromTemplateDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport packageInfo from \"../../../package.json\"\nimport useEventCallback from \"use-event-callback\"\n\nconst useStyles = makeStyles({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: colors.grey[900],\n    height: \"100vh\",\n  },\n})\n\nconst ContentContainer = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  flexGrow: 1,\n  color: \"#fff\",\n  overflowY: \"scroll\",\n  padding: 100,\n  [theme.breakpoints.down(\"sm\")]: {\n    padding: 50,\n  },\n}))\nconst Content = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  flexDirection: \"column\",\n  width: \"calc(100% - 32px)\",\n  marginLeft: 16,\n  maxWidth: 1000,\n}))\n\nconst Title = styled(\"div\")({\n  marginTop: 20,\n  fontSize: 36,\n  fontWeight: 600,\n  color: colors.grey[300],\n})\n\nconst Subtitle = styled(\"div\")({\n  fontSize: 18,\n  // fontWeight: \"bold\",\n  marginTop: 8,\n  color: colors.grey[500],\n})\nconst ActionList = styled(\"div\")({ marginTop: 48 })\nconst Action = styled(\"a\")({\n  display: \"block\",\n  color: colors.blue[500],\n  marginTop: 4,\n  cursor: \"pointer\",\n  textDecoration: \"none\",\n})\nconst ActionTitle = styled(\"div\")({\n  // fontWeight: \"bold\",\n  fontSize: 24,\n  marginBottom: 8,\n  color: colors.grey[500],\n})\nconst ActionText = styled(\"div\")({\n  color: colors.grey[300],\n  \"& a\": {\n    cursor: \"pointer\",\n    color: colors.blue[500],\n    textDecoration: \"none\",\n  },\n})\nconst Actionless = styled(\"div\")({\n  color: colors.grey[600],\n  paddingTop: 16,\n})\nconst BottomSpacer = styled(\"div\")({ height: 100 })\n\nexport default ({\n  onFileDrop,\n  onOpenTemplate,\n  showDownloadLink = true,\n  recentItems = [],\n  onOpenRecentItem,\n  onClickOpenSession,\n  onAuthConfigured,\n  user,\n  logoutUser,\n}) => {\n  const c = useStyles()\n  const posthog = usePosthog()\n\n  //const isDesktop = useIsDesktop()\n  const [newVersionAvailable, changeNewVersionAvailable] = useState(false)\n  useEffect(() => {\n    // if (!isDesktop) return\n    async function checkNewVersion() {\n      const newPackage = await fetch(\n        \"https://raw.githubusercontent.com/UniversalDataTool/universal-data-tool/master/package.json\"\n      ).then((r) => r.json())\n      if (newPackage.version !== packageInfo.version) {\n        changeNewVersionAvailable(newPackage.version)\n      }\n    }\n    checkNewVersion()\n  }, [])\n\n  const [\n    createFromTemplateDialogOpen,\n    changeCreateFromTemplateDialogOpen,\n  ] = useState(false)\n  const [addAuthFromDialogOpen, changeAddAuthFromDialogOpen] = useState(false)\n  const onDrop = useEventCallback((acceptedFiles) => {\n    onFileDrop(acceptedFiles[0])\n  })\n\n  let { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  return (\n    <div className={c.container}>\n      <CreateFromTemplateDialog\n        open={createFromTemplateDialogOpen}\n        onSelect={(template) => {\n          posthog.capture(\"template_clicked\", {\n            clicked_template: template.name,\n          })\n          onOpenTemplate(template)\n        }}\n        onClose={() => changeCreateFromTemplateDialogOpen(false)}\n      />\n      <AddAuthFromTemplateDialog\n        open={addAuthFromDialogOpen}\n        onSelect={(template) => onOpenTemplate(template)}\n        onClose={() => changeAddAuthFromDialogOpen(false)}\n        onFinish={(anwsers) => console.log(anwsers)}\n        onAuthConfigured={(config) => {\n          onAuthConfigured(config)\n          logoutUser()\n        }}\n      />\n      <Header\n        additionalButtons={[\n          newVersionAvailable && (\n            <Button\n              key=\"download-latest\"\n              className={c.headerButton}\n              href=\"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n            >\n              Download Version v{newVersionAvailable}\n            </Button>\n          ),\n          !newVersionAvailable && showDownloadLink && (\n            <Button\n              key=\"download\"\n              href=\"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n              className={c.headerButton}\n            >\n              Download\n            </Button>\n          ),\n        ].filter(Boolean)}\n        user={user}\n        logoutUser={logoutUser}\n      />\n      <ContentContainer>\n        <Content>\n          <Grid container>\n            <Grid xs={12} item>\n              <Title>Universal Data Tool</Title>\n              <Subtitle>Open-Source Data Labeling</Subtitle>\n            </Grid>\n            <Grid xs={6} item>\n              <ActionList>\n                <ActionTitle>Start</ActionTitle>\n                <Action\n                  onClick={() => {\n                    posthog.capture(\"template_clicked\", {\n                      clicked_template: \"empty\",\n                    })\n                    onOpenTemplate(templates.find((t) => t.name === \"Empty\"))\n                  }}\n                >\n                  New File\n                </Action>\n                <Action\n                  onClick={() => changeCreateFromTemplateDialogOpen(true)}\n                >\n                  Start from Template\n                </Action>\n                <Action {...getRootProps()}>\n                  <input {...getInputProps()} />\n                  Open File\n                </Action>\n                {onClickOpenSession && (\n                  <Action onClick={onClickOpenSession}>\n                    Open Collaborative Session\n                  </Action>\n                )}\n                <Action onClick={() => changeAddAuthFromDialogOpen(true)}>\n                  Add Authentification\n                </Action>\n                {/* <Action>Open Folder</Action> */}\n              </ActionList>\n              <ActionList>\n                <ActionTitle>Recent</ActionTitle>\n                {recentItems.length === 0 ? (\n                  <Actionless>No Recent Files</Actionless>\n                ) : (\n                  recentItems.map((ri, i) => (\n                    <Action key={i} onClick={() => onOpenRecentItem(ri)}>\n                      {ri.fileName}\n                    </Action>\n                  ))\n                )}\n              </ActionList>\n              <ActionList>\n                <ActionTitle>Help</ActionTitle>\n                <Action href=\"https://github.com/UniversalDataTool/universal-data-tool/releases\">\n                  Downloading and Installing UDT\n                </Action>\n                <Action href=\"https://dev.to/seveibar/make-bounding-boxes-for-artificial-intelligence-with-udt-1kai\">\n                  Labeling Images\n                </Action>\n                {/* <Action>Custom Data Entry</Action> */}\n                <Action href=\"https://github.com/UniversalDataTool/universal-data-tool\">\n                  Github Repository\n                </Action>\n                {/* <Action href=\"#\">\n                  How to Collaborate in Real-Time with UDT\n                </Action> */}\n              </ActionList>\n            </Grid>\n            <Grid xs={6} item>\n              <ActionList>\n                <ActionTitle>About</ActionTitle>\n                <ActionText>\n                  The Universal Data Tool (UDT) is an open-source web or\n                  downloadable tool for labeling data for usage in machine\n                  learning or data processing systems.\n                  <br />\n                  <br />\n                  The Universal Data Tool supports Computer Vision, Natural\n                  Language Processing (including Named Entity Recognition and\n                  Audio Transcription) workflows.\n                  <br />\n                  <br />\n                  The UDT uses an{\" \"}\n                  <a href=\"https://github.com/UniversalDataTool/udt-format\">\n                    open-source data format (.udt.json / .udt.csv)\n                  </a>{\" \"}\n                  that can be easily read by programs as a ground-truth dataset\n                  for machine learning algorithms.\n                  <br />\n                  <br />\n                </ActionText>\n              </ActionList>\n              <ActionList>\n                <ActionTitle>Instant Try Now</ActionTitle>\n                <ActionText>\n                  <Action\n                    onClick={() => changeCreateFromTemplateDialogOpen(true)}\n                  >\n                    Open a template\n                  </Action>{\" \"}\n                  to see how the UDT could work for your data.\n                </ActionText>\n              </ActionList>\n            </Grid>\n            <Grid xs={12} item>\n              <BottomSpacer />\n            </Grid>\n          </Grid>\n        </Content>\n      </ContentContainer>\n    </div>\n  )\n}\n","export default function getTaskDescription(samplesItem) {\n  const { description, imageUrl, url, pdfUrl } = samplesItem\n  if (description) return description\n  if (imageUrl) return `![${imageUrl}](${imageUrl})`\n  if (pdfUrl)\n    return (\n      `[PDF Link](${pdfUrl})` +\n      `<object data=\"${pdfUrl.replace(\n        \"http://\",\n        \"https://\"\n      )}\" type=\"application/pdf\" width=\"100%\" height=\"600px\"></object>`\n    )\n  if (url) return `Use this [Link](${url})`\n  return null\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  linkButtonContainer: {\n    marginLeft: 8,\n    marginRight: 8,\n  },\n  linkButton: {\n    textTransform: \"none\",\n    cursor: \"pointer\",\n    textDecoration: \"underline\",\n  },\n})\n\nexport default ({ onClick, text }: { onClick: Function, text: string }) => {\n  const c = useStyles()\n  return (\n    <span className={c.linkButtonContainer}>\n      (\n      <span onClick={onClick} className={c.linkButton}>\n        {text}\n      </span>\n      )\n    </span>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport ReactMarkdown from \"react-markdown\"\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport LeftIcon from \"@material-ui/icons/KeyboardArrowLeft\"\nimport CircleIcon from \"@material-ui/icons/RadioButtonUnchecked\"\nimport CheckCircle from \"@material-ui/icons/CheckCircle\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport LinkButton from \"./LinkButton\"\nimport range from \"lodash/range\"\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    backgroundColor: \"#fff\",\n    marginTop: 40,\n  },\n  footerContent: {\n    alignItems: \"center\",\n    padding: 20,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  footerBorder: {\n    borderTop: \"1px solid #ccc\",\n    marginLeft: 20,\n    marginRight: 20,\n  },\n  footerCount: {\n    display: \"inline-flex\",\n  },\n  allSamplesButton: {\n    color: \"#fff\",\n    border: \"1px solid rgba(255,255,255,0.5)\",\n    marginRight: 10,\n    paddingLeft: 8,\n  },\n  sampleIcon: {\n    marginRight: 8,\n  },\n  menuButton: {\n    marginRight: 8,\n    color: \"#fff\",\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  buttons: {\n    \"& > *\": {\n      margin: 4,\n    },\n  },\n  description: {\n    padding: 10,\n    \"& img\": {\n      maxWidth: \"calc(100% - 16px)\",\n      marginLeft: 8,\n      marginRight: 8,\n      maxHeight: 600,\n    },\n  },\n  sectionHeader: {\n    fontWeight: 700,\n    fontSize: 12,\n    padding: 10,\n    paddingTop: 16,\n    textTransform: \"uppercase\",\n    color: colors.grey[600],\n  },\n  content: {\n    padding: 10,\n    // minHeight: \"calc(100vh - 200px)\"\n  },\n}))\n\nexport const SampleContainer = ({\n  hideDescription: defaultHideDescription = window.localStorage.getItem(\n    \"hideDescription\"\n  ) === '\"true\"',\n  lastSampleExitText,\n  onExit,\n  requireCompleteToPressNext = false,\n  samples,\n  minContentHeight,\n  currentSampleIndex,\n  totalSamples,\n  onChangeSample,\n  taskOutput = [],\n  description,\n  children,\n}) => {\n  const c = useStyles()\n  const [hideDescription, changeHideDescriptionState] = useState(\n    defaultHideDescription\n  )\n  const changeHideDescription = (hide) => {\n    window.localStorage.setItem(\n      \"hideDescription\",\n      `\"${hide ? \"true\" : \"false\"}\"`\n    )\n    changeHideDescriptionState(hide)\n  }\n\n  const [sampleDrawerOpen, changeSampleDrawerOpen] = useState(false)\n  return (\n    <>\n      <Grid container>\n        {!hideDescription && (\n          <Grid item xs={12} sm={12} md={6}>\n            <div className={c.sectionHeader}>\n              Description\n              <LinkButton\n                onClick={() => changeHideDescription(true)}\n                text=\"hide\"\n              />\n            </div>\n            <div className={c.description}>\n              <ReactMarkdown escapeHtml={false} source={description} />\n            </div>\n          </Grid>\n        )}\n        <Grid item xs={12} sm={12} md={hideDescription ? 12 : 6}>\n          <div className={c.sectionHeader}>\n            Sample {currentSampleIndex + 1}/{totalSamples}\n            {hideDescription && (\n              <LinkButton\n                onClick={() => changeHideDescription(false)}\n                text=\"show description\"\n              />\n            )}\n            {totalSamples > 1 && (\n              <LinkButton\n                onClick={() => changeSampleDrawerOpen(true)}\n                text=\"view all\"\n              />\n            )}\n            {onExit && (\n              <LinkButton onClick={() => onExit()} text=\"exit without saving\" />\n            )}\n          </div>\n          <div style={{ minHeight: minContentHeight }} className={c.content}>\n            {children}\n          </div>\n        </Grid>\n        {totalSamples > 1 && (\n          <Grid item xs={12}>\n            <div className={c.footer}>\n              <div className={c.footerBorder} />\n              <div className={c.footerContent}>\n                <Button\n                  onClick={() =>\n                    onChangeSample(\n                      (currentSampleIndex - 1 + totalSamples) % totalSamples\n                    )\n                  }\n                >\n                  <LeftIcon /> Prev Sample\n                </Button>\n                <Button\n                  onClick={() => changeSampleDrawerOpen(true)}\n                  className={c.footerCount}\n                >\n                  {currentSampleIndex + 1} / {totalSamples}\n                </Button>\n                <Button\n                  disabled={\n                    requireCompleteToPressNext &&\n                    !taskOutput[currentSampleIndex]\n                  }\n                  onClick={() =>\n                    onChangeSample((currentSampleIndex + 1) % totalSamples)\n                  }\n                >\n                  {requireCompleteToPressNext && !taskOutput[currentSampleIndex]\n                    ? \"Save to Continue\"\n                    : \"Next Sample\"}\n                  <RightIcon />\n                </Button>\n              </div>\n            </div>\n          </Grid>\n        )}\n      </Grid>\n      <Drawer\n        open={sampleDrawerOpen}\n        anchor=\"left\"\n        onClose={() => changeSampleDrawerOpen(false)}\n      >\n        <List style={{ minWidth: 300 }}>\n          <ListSubheader>Samples</ListSubheader>\n          {range(0, totalSamples).map((i) => (\n            <ListItem\n              style={{\n                backgroundColor:\n                  i === currentSampleIndex ? colors.grey[200] : undefined,\n              }}\n              button\n              onClick={() => onChangeSample(i)}\n            >\n              <ListItemIcon\n                style={{\n                  color:\n                    i === currentSampleIndex ? colors.blue[500] : undefined,\n                }}\n              >\n                {taskOutput[i] ? <CheckCircle /> : <CircleIcon />}\n              </ListItemIcon>\n              <ListItemText>Sample {i + 1}</ListItemText>\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n    </>\n  )\n}\n\nexport default SampleContainer\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport const TextClassification = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const { annotation } = props.samples[currentSampleIndex]\n  // TODO remove legacy support for availableLabels\n  if (!props.interface.labels && props.interface.availableLabels) {\n    props.interface.labels = props.interface.availableLabels\n  }\n  const initialLabels = annotation\n    ? typeof annotation === \"string\"\n      ? [annotation]\n      : annotation\n    : undefined\n  if (!props.interface.labels) {\n    throw new Error(\"Labels not defined. Try defining some labels in Setup\")\n  }\n  let labels = props.interface.labels\n    .map((l) =>\n      typeof l === \"string\" ? { id: l, description: l, displayName: l } : l\n    )\n    .map((l) => (!l.displayName ? { ...l, displayName: l.id } : l))\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.samples.length}\n      taskOutput={props.samples}\n      description={\n        getTaskDescription(props.samples[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={(props.sampleIndex || 0) + currentSampleIndex}\n        type=\"label-document\"\n        labels={labels}\n        multipleLabels={props.interface.multiple}\n        document={props.samples[currentSampleIndex].document}\n        initialLabels={initialLabels}\n        onFinish={(result) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextClassification\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nconst simpleSequenceToEntitySequence = (simpleSeq) => {\n  const entSeq = []\n  let charsPassed = 0\n  for (const seq of simpleSeq) {\n    if (seq.label) {\n      entSeq.push({\n        text: seq.text,\n        label: seq.label,\n        start: charsPassed,\n        end: charsPassed + seq.text.length,\n      })\n    }\n    charsPassed += seq.text.length\n  }\n  return entSeq\n}\n\nconst entitySequenceToSimpleSeq = (doc, entSeq) => {\n  if (!entSeq) return undefined\n  const simpleSeq = []\n  entSeq = [...entSeq]\n  entSeq.sort((a, b) => a.start - b.start)\n  let nextEntity = 0\n  for (let i = 0; i < doc.length; i++) {\n    if ((entSeq[nextEntity] || {}).start === i) {\n      simpleSeq.push({\n        text: entSeq[nextEntity].text,\n        label: entSeq[nextEntity].label,\n      })\n      i = entSeq[nextEntity].end\n      nextEntity += 1\n    } else {\n      if (simpleSeq.length === 0 || simpleSeq[simpleSeq.length - 1].label) {\n        simpleSeq.push({ text: doc[i] })\n      } else {\n        simpleSeq[simpleSeq.length - 1].text += doc[i]\n      }\n    }\n  }\n  return simpleSeq\n}\n\nexport const TextEntityRecognition = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const initialSequence = props.samples[currentSampleIndex].annotation\n    ? entitySequenceToSimpleSeq(\n        props.samples[currentSampleIndex].document,\n        props.samples[currentSampleIndex].annotation.entities\n      )\n    : undefined\n\n  if (!props.interface.labels && !props.interface.availableLabels) {\n    throw new Error(\"Labels not defined. Try adding some labels in setup.\")\n  }\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.samples.length}\n      taskOutput={props.samples.map((s) => s.annotation)}\n      description={\n        getTaskDescription(props.samples[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"label-sequence\"\n        document={props.samples[currentSampleIndex].document}\n        labels={props.interface.labels || props.interface.availableLabels}\n        initialSequence={initialSequence}\n        onFinish={(result) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            entities: simpleSequenceToEntitySequence(result),\n          })\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextEntityRecognition\n","// @flow\n\n// RIA = React Image Annotate\n\nexport function getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport function getRandomColor() {\n  var h = getRandomInt(0, 360)\n  var s = 100\n  var l = 50\n  return \"hsl(\"\n    .concat(h.toString(), \",\")\n    .concat(s.toString(), \"%,\")\n    .concat(l.toString(), \"%)\")\n}\n\nexport const rid = () => Math.random().toString().split(\".\")[1]\n\nexport const convertToRIARegionFmt = (region) => {\n  switch (region.regionType) {\n    case \"bounding-box\": {\n      return {\n        id: rid(),\n        cls: region.classification,\n        tags: region.labels,\n        color: region.color || getRandomColor(),\n        type: \"box\",\n        x: region.centerX - region.width / 2,\n        y: region.centerY - region.height / 2,\n        w: region.width,\n        h: region.height,\n      }\n    }\n    case \"point\": {\n      return {\n        id: rid(),\n        type: \"point\",\n        tags: region.labels,\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        x: region.x,\n        y: region.y,\n      }\n    }\n    case \"polygon\": {\n      return {\n        id: rid(),\n        type: \"polygon\",\n        tags: region.labels,\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        open: false,\n        points: region.points.map((p) => [p.x, p.y]),\n      }\n    }\n    case \"line\":\n    case \"pixel-mask\": {\n      throw new Error(`Unsupported region \"${JSON.stringify(region)}\"`)\n    }\n    default:\n      return null\n  }\n}\n\nexport const convertFromRIARegionFmt = (riaRegion) => {\n  switch (riaRegion.type) {\n    case \"point\": {\n      return {\n        regionType: \"point\",\n        x: riaRegion.x,\n        y: riaRegion.y,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n      }\n    }\n    case \"box\": {\n      return {\n        regionType: \"bounding-box\",\n        centerX: riaRegion.x + riaRegion.w / 2,\n        centerY: riaRegion.y + riaRegion.h / 2,\n        width: riaRegion.w,\n        height: riaRegion.h,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n      }\n    }\n    case \"polygon\": {\n      return {\n        regionType: \"polygon\",\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n        points: riaRegion.points.map(([x, y]) => ({ x, y })),\n      }\n    }\n    default:\n      throw new Error(`Unsupported riaRegion \"${JSON.stringify(riaRegion)}\"`)\n  }\n}\n\nexport const convertToRIAImageFmt = ({\n  title,\n  taskDatum: td,\n  index: i,\n  output,\n}) => {\n  td = td || {}\n  const regions = !output\n    ? undefined\n    : Array.isArray(output)\n    ? output.map(convertToRIARegionFmt)\n    : [convertToRIARegionFmt(output)]\n\n  if (td.imageUrl) {\n    return {\n      src: td.imageUrl,\n      name: title || `Sample ${i}`,\n      regions,\n    }\n  } else if (td.videoUrl && td.videoFrameAt !== undefined) {\n    return {\n      src: td.videoUrl,\n      frameTime: td.videoFrameAt,\n      name: title || `Sample ${i}`,\n      regions,\n    }\n  }\n  throw new Error(`Task Datum not supported \"${JSON.stringify(td)}\"`)\n}\n\nexport const convertToRIAKeyframes = (keyframes) => {\n  const newKeyframes = {}\n  for (const key in keyframes) {\n    newKeyframes[key] = {\n      regions: keyframes[key].regions.map(convertToRIARegionFmt),\n    }\n  }\n  return newKeyframes\n}\n","// @flow\n\nimport React, { useState, useMemo } from \"react\"\nimport Annotator from \"react-image-annotate\"\nimport useEventCallback from \"use-event-callback\"\nimport {\n  convertFromRIARegionFmt,\n  convertToRIAImageFmt,\n} from \"../../utils/ria-format.js\"\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: \"create-polygon\",\n  \"full-segmentation\": \"create-polygon\",\n  point: \"create-point\",\n}\n\nconst [emptyObj, emptyArr] = [{}, []]\n\nexport default ({\n  sampleIndex: globalSampleIndex,\n  interface: iface,\n  samples = emptyArr,\n  containerProps = emptyObj,\n  onSaveTaskOutputItem,\n}) => {\n  // TODO remove legacy \"availableLabels\" support\n  if (iface.availableLabels && !iface.labels) {\n    iface.labels = iface.availableLabels\n  }\n\n  const [selectedIndex, changeSelectedIndex] = useState(0)\n  const [showTags, changeShowTags] = useState(true)\n  const [selectedTool, changeSelectedTool] = useState(\"select\")\n\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = !Boolean(iface.multipleRegionLabels)\n\n  const saveCurrentIndexAnnotation = useEventCallback((output) => {\n    const img = output.images[selectedIndex]\n    onSaveTaskOutputItem(\n      selectedIndex,\n      multipleRegions\n        ? (img.regions || []).map(convertFromRIARegionFmt)\n        : convertToRIAImageFmt((img.regions || [])[0])\n    )\n  })\n\n  const labelProps = useMemo(\n    () =>\n      isClassification\n        ? {\n            regionClsList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          }\n        : {\n            regionTagList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          },\n    [isClassification, iface.labels]\n  )\n\n  const multipleRegions =\n    iface.multipleRegions || iface.multipleRegions === undefined\n\n  const onExit = useEventCallback((output, nextAction) => {\n    saveCurrentIndexAnnotation(output)\n    changeShowTags(output.showTags)\n    changeSelectedTool(output.selectedTool)\n    if (containerProps.onExit) containerProps.onExit(nextAction)\n  })\n  const onNextImage = useEventCallback((output) => {\n    if (selectedIndex + 1 >= samples.length) {\n      onExit(output, \"go-to-next\")\n    } else {\n      saveCurrentIndexAnnotation(output)\n      changeSelectedIndex(selectedIndex + 1)\n    }\n  })\n  const onPrevImage = useEventCallback((output) => {\n    if (selectedIndex - 1 < 0) {\n      onExit(output, \"go-to-previous\")\n    } else {\n      saveCurrentIndexAnnotation(output)\n      changeSelectedIndex(selectedIndex - 1)\n    }\n  })\n\n  const images = useMemo(\n    () =>\n      samples.map((taskDatum, index) =>\n        convertToRIAImageFmt({\n          title: containerProps.datasetName,\n          taskDatum,\n          output: samples[index].annotation,\n          index,\n        })\n      ),\n    [samples, containerProps.datasetName]\n  )\n\n  const enabledTools = useMemo(\n    () =>\n      [\"select\"].concat(\n        regionTypesAllowed.map((rt) => regionTypeToTool[rt]).filter(Boolean)\n      ),\n    [regionTypesAllowed]\n  )\n\n  return (\n    <div\n      style={{\n        height: containerProps.height || \"calc(100% - 70px)\",\n        minHeight: 600,\n        width: \"100%\",\n      }}\n    >\n      <Annotator\n        key={globalSampleIndex}\n        selectedImage={samples[selectedIndex].imageUrl}\n        taskDescription={iface.description}\n        showTags={showTags}\n        {...labelProps}\n        onNextImage={onNextImage}\n        onPrevImage={onPrevImage}\n        enabledTools={enabledTools}\n        selectedTool={selectedTool}\n        images={images}\n        onExit={onExit}\n      />\n    </div>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect, useMemo } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport without from \"lodash/without\"\n\nconst brightColors = [\n  colors.blue[600],\n  colors.green[600],\n  colors.red[600],\n  colors.deepOrange[600],\n  colors.pink[600],\n  colors.teal[600],\n  colors.deepPurple[600],\n  colors.indigo[600],\n  colors.blue[600],\n  colors.cyan[600],\n  colors.purple[600],\n]\n\nconst letters = \"abcdefghijklmnopqrstuvwxyz1234567890\".split(\"\")\nconst getRandomColor = (label) => {\n  const hashInt = label.id\n    .split(\"\")\n    .reduce((acc, v, i) => acc + (letters.indexOf(v) + 1), 0)\n  return brightColors[hashInt % brightColors.length]\n}\n\nconst Container = styled(\"div\")({\n  maxWidth: \"100vw\",\n  display: \"flex\",\n  flexDirection: \"column\",\n})\n\nconst ImageContainer = styled(\"div\")({\n  position: \"relative\",\n  display: \"flex\",\n  flexGrow: 1,\n})\n\nconst Image = styled(\"img\")({\n  display: \"inline-block\",\n  position: \"absolute\",\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n  objectFit: \"contain\",\n})\n\nconst Nav = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"center\",\n  marginTop: 4,\n  flexShrink: 0,\n})\nconst NavItem = styled(\"div\")({\n  backgroundColor: \"#000\",\n  color: \"#fff\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  \"& > span\": {\n    padding: 16,\n  },\n})\nconst NavButton = styled(Button)({\n  color: \"#fff\",\n  padding: 8,\n  paddingLeft: 16,\n  paddingRight: 16,\n})\n\nconst ButtonsContainer = styled(\"div\")({\n  paddingLeft: 50,\n  paddingRight: 50,\n  marginTop: 8,\n  textAlign: \"center\",\n  flexShrink: 0,\n})\n\nconst CheckButton = styled(Button)({\n  margin: 8,\n  color: \"#fff\",\n  fontSize: 18,\n  paddingRight: 16,\n  transition: \"transform 50ms ease\",\n})\n\nconst [emptyObj, emptyArr] = [{}, []]\n\nexport default ({\n  sampleIndex: globalSampleIndex,\n  interface: iface,\n  samples = emptyArr,\n  containerProps = emptyObj,\n  onSaveTaskOutputItem,\n}) => {\n  // TODO remove legacy \"availableLabels\" support\n  if (iface.availableLabels && !iface.labels) {\n    iface.labels = iface.availableLabels\n  }\n\n  if (!iface.labels)\n    throw new Error(\"No labels defined. Add some labels in Setup to continue.\")\n  const [sampleIndex, changeSampleIndex] = useState(0)\n  const [enlargedLabel, changeEnlargedLabel] = useState(null)\n  const [currentOutput, changeCurrentOutput] = useState(emptyArr)\n  const labels = useMemo(\n    () =>\n      iface.labels.map((l) =>\n        typeof l === \"string\" ? { id: l, description: l } : l\n      ),\n    [iface.labels]\n  )\n\n  const onDone = useEventCallback(() => {\n    if (containerProps.onExit) containerProps.onExit()\n  })\n  const onNextNoSave = useEventCallback(() => {\n    if (containerProps.onExit) {\n      containerProps.onExit(\"go-to-next\")\n    }\n  })\n  const onNext = useEventCallback((newOutput) => {\n    onSaveTaskOutputItem(sampleIndex, newOutput || currentOutput)\n    if (sampleIndex !== samples.length - 1) {\n      changeSampleIndex(sampleIndex + 1)\n    } else {\n      if (containerProps.onExit) containerProps.onExit(\"go-to-next\")\n    }\n  })\n  const onPrev = useEventCallback(() => {\n    if (sampleIndex > 0) {\n      changeSampleIndex(sampleIndex - 1)\n    } else {\n      if (containerProps.onExit) containerProps.onExit(\"go-to-previous\")\n    }\n  })\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      changeEnlargedLabel(null)\n    }, 100)\n    return () => clearTimeout(timeout)\n  }, [enlargedLabel])\n\n  const onClickLabel = useEventCallback((label) => {\n    changeEnlargedLabel(label)\n    let newOutput\n    if ((currentOutput || []).includes(label.id)) {\n      newOutput = without(currentOutput, label.id)\n    } else {\n      if (iface.allowMultiple) {\n        newOutput = currentOutput.concat([label.id])\n      } else {\n        newOutput = label.id\n      }\n    }\n\n    changeCurrentOutput(newOutput)\n    if (!iface.allowMultiple && newOutput.length > 0) {\n      onNext(newOutput)\n    }\n  })\n\n  useEffect(() => {\n    let newOutput = samples[sampleIndex].annotation\n    if (!newOutput) newOutput = []\n    if (typeof newOutput === \"string\") newOutput = [newOutput]\n    changeCurrentOutput(newOutput)\n  }, [sampleIndex, globalSampleIndex, samples])\n\n  const [hotkeyMap, labelKeyMap] = useMemo(() => {\n    const hotkeyMap = {\n      \" \": onNext,\n      backspace: onPrev,\n      enter: onDone,\n      rightarrow: onNext,\n      leftarrow: onPrev,\n    }\n    const labelKeyMap = {}\n    for (let label of labels) {\n      const nextAvailableLetter = label.id\n        .split(\"\")\n        .filter((l) => letters.includes(l))\n        .find((l) => !hotkeyMap[l.toLowerCase()])\n      if (!nextAvailableLetter) continue\n      hotkeyMap[nextAvailableLetter] = () => onClickLabel(label)\n      labelKeyMap[label.id] = nextAvailableLetter\n    }\n    return [hotkeyMap, labelKeyMap]\n  }, [labels, onClickLabel, onDone, onNext, onPrev])\n\n  useEffect(() => {\n    const onKeyDown = (e) => {\n      const key = e.key.toLowerCase()\n      if (hotkeyMap[key]) {\n        hotkeyMap[key]()\n      }\n    }\n    window.addEventListener(\"keydown\", onKeyDown)\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown)\n    }\n  }, [hotkeyMap])\n\n  return (\n    <Container\n      style={{\n        height: containerProps.height || \"calc(100% - 70px)\",\n        minHeight: 600,\n      }}\n    >\n      <ImageContainer>\n        <Image src={samples[sampleIndex].imageUrl} />\n      </ImageContainer>\n      <Nav>\n        <NavItem>\n          <NavButton onClick={onPrev}>Prev (backspace)</NavButton>\n        </NavItem>\n        {samples.length > 1 ? (\n          <NavItem>\n            <span>\n              ({sampleIndex + 1}/{samples.length})\n            </span>\n          </NavItem>\n        ) : globalSampleIndex !== undefined ? (\n          <NavItem>\n            <span>[{globalSampleIndex}]</span>\n          </NavItem>\n        ) : null}\n        <NavItem>\n          <NavButton onClick={onNextNoSave}>Next (space)</NavButton>\n        </NavItem>\n        <NavItem>\n          <NavButton onClick={onDone}>Done (enter)</NavButton>\n        </NavItem>\n      </Nav>\n      <ButtonsContainer>\n        {labels.map((label) => (\n          <CheckButton\n            key={label.id}\n            onClick={() => onClickLabel(label)}\n            style={{\n              backgroundColor: getRandomColor(label),\n              transform: enlargedLabel === label ? \"scale(1.1,1.1)\" : undefined,\n            }}\n          >\n            <Checkbox\n              style={{ color: \"#fff\" }}\n              checked={currentOutput.includes(label.id)}\n            />\n            {label.id}\n            {labelKeyMap[label.id] ? ` (${labelKeyMap[label.id]})` : \"\"}\n          </CheckButton>\n        ))}\n      </ButtonsContainer>\n    </Container>\n  )\n}\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport Annotator from \"react-image-annotate\"\nimport useEventCallback from \"use-event-callback\"\nimport {\n  convertFromRIARegionFmt,\n  convertToRIAKeyframes,\n} from \"../../utils/ria-format.js\"\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: \"create-polygon\",\n  \"full-segmentation\": \"create-polygon\",\n  point: \"create-point\",\n}\n\nconst [emptyObj, emptyArr] = [{}, []]\n\nexport default ({\n  interface: iface,\n  samples = emptyArr,\n  taskOutput = emptyObj,\n  containerProps = emptyObj,\n  onSaveTaskOutputItem,\n}) => {\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = !Boolean(iface.multipleRegionLabels)\n\n  const labelProps = useMemo(\n    () =>\n      isClassification\n        ? {\n            regionClsList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          }\n        : {\n            regionTagList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          },\n    [isClassification, iface.labels]\n  )\n\n  const onExit = useEventCallback((output) => {\n    const newKeyframes = {}\n    for (const key in output.keyframes) {\n      newKeyframes[key] = {\n        regions: output.keyframes[key].regions.map(convertFromRIARegionFmt),\n      }\n    }\n    onSaveTaskOutputItem(0, { keyframes: newKeyframes })\n    if (containerProps.onExit) containerProps.onExit()\n  })\n\n  const enabledTools = useMemo(\n    () =>\n      [\"select\"].concat(\n        regionTypesAllowed.map((rt) => regionTypeToTool[rt]).filter(Boolean)\n      ),\n    [regionTypesAllowed]\n  )\n\n  // TODO fix by adding some way of going to the \"next\" video\n  if (samples.length > 1) {\n    return \"Video segmentation is currently limited to only a single video per selection\"\n  }\n\n  if (samples.length === 0) throw new Error(\"No sample data provided selected\")\n  if (!samples[0].videoUrl) throw new Error(\"Sample must have videoUrl\")\n\n  return (\n    <div\n      style={{\n        height: containerProps.height || \"calc(100vh - 70px)\",\n        width: \"100%\",\n        minHeight: 600,\n      }}\n    >\n      <Annotator\n        taskDescription={iface.description}\n        {...labelProps}\n        enabledTools={enabledTools}\n        keyframes={convertToRIAKeyframes(\n          ((taskOutput || [])[0] || {}).keyframes\n        )}\n        videoName={samples[0].customId || \"\"}\n        videoTime={0}\n        videoSrc={samples[0].videoUrl}\n        onExit={onExit}\n      />\n    </div>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport default (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n\n  const sample = props.samples[currentSampleIndex]\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.samples.length}\n      taskOutput={props.samples.map((s) => s.annotation)}\n      description={\n        getTaskDescription(props.samples[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={(props.sampleIndex || 0) + currentSampleIndex}\n        type=\"transcribe\"\n        audio={sample.audioUrl}\n        phraseBank={props.phraseBank}\n        initialTranscriptionText={sample.annotation || \"\"}\n        onFinish={(result) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n","import React, { useState } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\n\nexport const DataEntry = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const form =\n    props.samples[currentSampleIndex].surveyjs || props.interface.surveyjs\n  if (!form)\n    throw new Error(\"No survey/form created. Try adding some inputs in Setup\")\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.samples.length}\n      taskOutput={props.samples.map((s) => s.annotation)}\n      description={\n        getTaskDescription(props.samples[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Survey\n        key={(props.sampleIndex || 0) + currentSampleIndex}\n        variant=\"flat\"\n        form={form}\n        defaultAnswers={\n          props.samples[currentSampleIndex].annotation || undefined\n        }\n        completeText=\"Save & Next\"\n        onFinish={(answers) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, answers)\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default DataEntry\n","// @flow\n\nimport React from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  root: {\n    padding: 50,\n    textAlign: \"center\",\n  },\n  title: {\n    margin: 50,\n  },\n  explain: {},\n})\n\nexport default ({ title, description, children }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      <Typography variant=\"h4\" component=\"div\" className={c.title}>\n        {title}\n      </Typography>\n      <Typography variant=\"h6\" component=\"div\" className={c.explain}>\n        {description || children}\n      </Typography>\n    </div>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport BadOHA from \"../BadOHA\"\n\nexport default () => {\n  return (\n    <BadOHA title=\"No Samples to Show\">\n      Make sure that <code>samples</code> is defined and not empty.\n      <br />\n      <br />\n      Need help setting up? {/*<a href=\"#\">Check out this tutorial.</a>*/}\n    </BadOHA>\n  )\n}\n","import React from \"react\"\n\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Help from \"@material-ui/icons/Help\"\nimport ThreeDRotation from \"@material-ui/icons/ThreeDRotation\"\n\nexport default ({ type, ...props }) => {\n  switch (type) {\n    case \"image_label\":\n    case \"image_segmentation\":\n      return <RemoveRedEye {...props} />\n    case \"audio_transcription\":\n      return <Audiotrack {...props} />\n    case \"data_entry\":\n      return <Edit {...props} />\n    case \"text_entity_recognition\":\n      return <TextFormat {...props} />\n    case \"3d_bounding_box\":\n      return <ThreeDRotation {...props} />\n    default:\n      return <Help {...props} />\n  }\n}\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport InterfaceIcon from \"../InterfaceIcon\"\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport Box from \"@material-ui/core/Box\"\n\nconst Title = styled(\"div\")({\n  fontSize: 18,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n  borderBottom: `1px solid ${colors.grey[300]}`,\n  paddingBottom: 8,\n  marginBottom: 8,\n  paddingLeft: 8,\n})\nconst StyledButton = styled(Button)({\n  display: \"flex\",\n  textAlign: \"left\",\n  justifyContent: \"flex-start\",\n  marginTop: 8,\n})\n\nexport const Composite = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const {\n    interface: { fields },\n  } = props\n  const [selectedField, changeSelectedField] = useState()\n\n  if (!fields) throw new Error(\"No fields defined. Try adding a field in Setup\")\n\n  const sample = props.samples[currentSampleIndex]\n\n  if (selectedField) {\n    return (\n      <UniversalDataViewer\n        oha={{\n          interface: selectedField.interface,\n          samples: [\n            {\n              ...sample,\n              annotation: (sample.annotation || {})[selectedField.fieldName],\n            },\n          ],\n        }}\n        onSaveTaskOutputItem={(indexZero, output) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            ...sample.annotation,\n            [selectedField.fieldName]: output,\n          })\n          changeSelectedField(null)\n        }}\n      />\n    )\n  }\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.samples.length}\n      taskOutput={props.samples.map((s) => s.annotation)}\n      description={getTaskDescription(sample) || props.interface.description}\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Title>Fields</Title>\n      {fields.map((field, index) => (\n        <StyledButton\n          key={field.fieldName}\n          onClick={() => {\n            changeSelectedField({ ...field, index })\n          }}\n          fullWidth\n          variant=\"outlined\"\n        >\n          <InterfaceIcon\n            style={{ color: colors.grey[500], marginRight: 16 }}\n            type={field.interface.type}\n          />\n          {field.fieldName}\n          <Box flexGrow={1} />\n          <Checkbox\n            checked={Boolean((sample.annotation || {})[field.fieldName])}\n          />\n          <KeyboardArrowRightIcon />\n        </StyledButton>\n      ))}\n      <StyledButton\n        onClick={() => props.containerProps.onExit(\"go-to-next\")}\n        fullWidth\n        variant=\"outlined\"\n      >\n        <KeyboardArrowRightIcon\n          style={{ color: colors.grey[500], marginRight: 16 }}\n        />\n        Next\n        <Box flexGrow={1} />\n        <Box height=\"42px\" />\n        <KeyboardArrowRightIcon />\n      </StyledButton>\n    </SampleContainer>\n  )\n}\n\nexport default Composite\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport TextClassification from \"../TextClassification\"\nimport TextEntityRecognition from \"../TextEntityRecognition\"\nimport ImageSegmentation from \"../ImageSegmentation\"\nimport ImageClassification from \"../ImageClassification\"\nimport VideoSegmentation from \"../VideoSegmentation\"\nimport AudioTranscription from \"../AudioTranscription\"\nimport DataEntry from \"../DataEntry\"\nimport EmptySampleContainer from \"../EmptySampleContainer\"\nimport Composite from \"../Composite\"\nimport BadOHA from \"../BadOHA\"\nimport Button from \"@material-ui/core/Button\"\n\nexport const UniversalDataViewer = ({\n  oha,\n  onExit,\n  hideHeader,\n  hideDescription,\n  datasetName,\n  requireCompleteToPressNext,\n  onSaveTaskOutputItem,\n  height,\n  onClickSetup,\n}) => {\n  // TODO type check w/ superstruct against oha\n  const containerProps = useMemo(\n    () => ({\n      hideHeader,\n      hideDescription,\n      datasetName,\n      requireCompleteToPressNext,\n      onExit,\n      height,\n    }),\n    [\n      hideHeader,\n      hideDescription,\n      requireCompleteToPressNext,\n      datasetName,\n      height,\n      onExit,\n    ]\n  )\n\n  if (!oha || !oha.interface.type) {\n    return (\n      <BadOHA\n        title=\"Set up your project to begin labeling\"\n        description={\n          <p>\n            This interface hasn't been set up properly, try selecting an\n            interface in the \"Setup\" tab.\n            <br />\n            <br />\n            <Button color=\"primary\" variant=\"contained\" onClick={onClickSetup}>\n              Setup Project\n            </Button>\n          </p>\n        }\n      />\n    )\n  }\n\n  if (!oha.samples || oha.samples.length === 0) {\n    return <EmptySampleContainer />\n  }\n\n  switch (oha.interface.type) {\n    case \"data_entry\":\n      return (\n        <DataEntry\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"text_classification\":\n      return (\n        <TextClassification\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"text_entity_recognition\":\n      return (\n        <TextEntityRecognition\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"image_segmentation\":\n      return (\n        <ImageSegmentation\n          containerProps={containerProps}\n          {...oha}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"image_classification\":\n      return (\n        <ImageClassification\n          containerProps={containerProps}\n          {...oha}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"video_segmentation\":\n      return (\n        <VideoSegmentation\n          containerProps={containerProps}\n          {...oha}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"composite\":\n      return (\n        <Composite\n          containerProps={containerProps}\n          {...oha}\n          oha={oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"audio_transcription\":\n      return (\n        <AudioTranscription\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    default:\n      return `\"${oha.interface.type}\" not supported`\n  }\n}\n\nexport default UniversalDataViewer\n","// @flow\nimport React, { useState, useEffect } from \"react\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport isEmpty from \"../../utils/isEmpty\"\n\nconst useStyles = makeStyles({\n  textField: {\n    marginLeft: 8,\n  },\n})\n\nconst SAVE_WAIT = 2000\n\nexport default ({ value, onChange }) => {\n  const c = useStyles()\n  const [{ editing, newValue }, changeEditing] = useState({\n    editing: false,\n    newValue: value || \"\",\n  })\n\n  useEffect(() => {\n    if (!isEmpty(newValue) && newValue !== \"unnamed\") {\n      changeEditing({ editing, newValue: newValue })\n    } else {\n      changeEditing({ editing, newValue: value })\n    }\n  }, [newValue, editing, value])\n\n  useEffect(() => {\n    if (!editing) return\n    let listener = (e) => {\n      if (e.key === \"Enter\") {\n        onChange(newValue)\n        changeEditing({ editing: false })\n      }\n    }\n    window.addEventListener(\"keydown\", listener)\n    return () => {\n      window.removeEventListener(\"keydown\", listener)\n    }\n  }, [editing, newValue, onChange])\n\n  useEffect(() => {\n    if (!newValue) return\n    if (editing) {\n      let timeout = setTimeout(\n        () => {\n          onChange(newValue)\n          changeEditing({ editing: false })\n        },\n        value === newValue ? SAVE_WAIT * 5 : SAVE_WAIT\n      )\n\n      return () => clearTimeout(timeout)\n    } else {\n      return () => {}\n    }\n  }, [editing, newValue, value, onChange])\n\n  return (\n    <TextField\n      className={c.textField}\n      label=\"File Name\"\n      variant=\"outlined\"\n      size=\"small\"\n      InputProps={{\n        inputProps: { style: { color: \"#000\" } },\n      }}\n      onKeyDown={(e) => {\n        if (e.key === \"Enter\") {\n          e.preventDefault()\n          e.stopPropagation()\n          e.target.blur()\n        }\n      }}\n      onKeyPress={(e) => {\n        e.stopPropagation()\n      }}\n      onChange={(e) => {\n        changeEditing({\n          editing: true,\n          newValue: e.target.value,\n        })\n      }}\n      value={newValue || \"\"}\n    />\n  )\n}\n","// @flow weak\n\nimport React, { memo, useCallback, useReducer, useEffect } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport { useLocalStorage } from \"react-use\"\nimport { styled } from \"@material-ui/core/styles\"\nimport range from \"lodash/range\"\nimport * as colors from \"@material-ui/core/colors\"\nimport classNames from \"classnames\"\nimport TablePagination from \"@material-ui/core/TablePagination\"\nimport getBrushColorPalette from \"../../utils/get-brush-color-palette\"\n\nconst Container = styled(\"div\")({\n  flexWrap: \"wrap\",\n})\nconst EmptyState = styled(\"div\")({\n  fontSize: 24,\n  color: colors.grey[500],\n  padding: 30,\n  textAlign: \"center\",\n})\nconst SampleDiv = styled(\"div\")(({ color }) => ({\n  margin: 4,\n  padding: 4,\n  backgroundColor: color[500],\n  display: \"inline-flex\",\n  fontSize: 11,\n  textAlign: \"center\",\n  justifyContent: \"center\",\n  minWidth: \"3em\",\n  borderRadius: 3,\n  cursor: \"pointer\",\n  userSelect: \"none\",\n  transition: \"box-shadow 200ms ease, transform 200ms ease\",\n  color: color.isFaded ? \"#000\" : \"#fff\",\n  \"&.selected\": {\n    boxShadow: `0px 0px 2px 1px ${color[\"A200\"]}`,\n    transform: \"scale(1.05,1.05)\",\n  },\n}))\n\nconst Sample = memo(\n  ({\n    index,\n    onClick,\n    completed,\n    selected,\n    onMouseDown,\n    onMouseUp,\n    onMouseEnter,\n    brush,\n  }) => {\n    return (\n      <SampleDiv\n        className={classNames({ completed, selected })}\n        onClick={() => onClick(index)}\n        onMouseDown={() => onMouseDown(index)}\n        onMouseUp={() => onMouseUp(index)}\n        onMouseEnter={() => onMouseEnter(index)}\n        color={getBrushColorPalette(brush)}\n      >\n        {index}\n      </SampleDiv>\n    )\n  },\n  function (p, n) {\n    return (\n      p.index === n.index &&\n      p.completed === n.completed &&\n      p.selected === n.selected &&\n      p.brush === n.brush\n    )\n  }\n)\n\nexport default ({ count, completed = [], samples, onClick }) => {\n  const [samplesPerPage, changeSamplesPerPage] = useLocalStorage(\n    \"samplesPerPage\",\n    100\n  )\n  const [sampleOffset, changeSampleOffset] = useLocalStorage(\"sampleOffset\", 0)\n\n  useEffect(() => {\n    if (sampleOffset > count) {\n      changeSampleOffset(0)\n    }\n  }, [changeSampleOffset, sampleOffset, count])\n\n  const [selectRange, changeSelectRange] = useReducer((state, newValue) => {\n    if (newValue === null) return null\n    if (typeof newValue === \"number\") {\n      if (!state) return null\n      return [Math.min(newValue, state[0]), Math.max(newValue + 1, state[1])]\n    }\n    return newValue\n  }, null)\n\n  const startSelectRange = useCallback(\n    (index) => changeSelectRange([index, index + 1]),\n    [changeSelectRange]\n  )\n  const moveSelectRange = useCallback((index) => changeSelectRange(index), [\n    changeSelectRange,\n  ])\n  const endSelectRange = useCallback(() => {}, [])\n  const checkAndNullifySelectRange = useCallback(\n    (e) => {\n      if (e.buttons !== 1) {\n        changeSelectRange(null)\n      }\n    },\n    [changeSelectRange]\n  )\n  const onClickMemo = useEventCallback(onClick)\n\n  return (\n    <Container\n      onMouseUp={checkAndNullifySelectRange}\n      onMouseEnter={checkAndNullifySelectRange}\n    >\n      {count === 0 && (\n        <EmptyState>\n          No samples, try using \"Import Toy Dataset\" in Samples > Import\n        </EmptyState>\n      )}\n      {range(sampleOffset, Math.min(count, sampleOffset + samplesPerPage)).map(\n        (i) => (\n          <Sample\n            onClick={onClickMemo}\n            key={i}\n            index={i}\n            completed={completed[i]}\n            brush={completed[i] ? samples[i].brush || \"complete\" : \"incomplete\"}\n            selected={selectRange && i >= selectRange[0] && i < selectRange[1]}\n            onMouseDown={startSelectRange}\n            onMouseEnter={moveSelectRange}\n            onMouseUp={endSelectRange}\n          />\n        )\n      )}\n      <TablePagination\n        rowsPerPageOptions={[100, 250, 500, 1000, 2000, 10000]}\n        component=\"div\"\n        count={count}\n        rowsPerPage={samplesPerPage}\n        page={Math.floor(sampleOffset / samplesPerPage)}\n        labelRowsPerPage=\"Samples per Page:\"\n        onChangePage={(e, newPage) =>\n          changeSampleOffset(newPage * samplesPerPage)\n        }\n        onChangeRowsPerPage={(e) => changeSamplesPerPage(+e.target.value)}\n      />\n    </Container>\n  )\n}\n","// @flow weak\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Select from \"react-select\"\n\nconst SelectContainer = styled(\"div\")({\n  marginTop: 8,\n  marginBottom: 16,\n})\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\n\nconst autoDetectOptions = [\n  {\n    label: \"Auto Detect File Type\",\n    value: \"auto_detect\",\n  },\n  {\n    label: \"Image URLs\",\n    value: \"images\",\n  },\n]\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const [content, changeContent] = useState(\"\")\n  const [urlType, changeURLType] = useState(\"auto_detect\")\n  return (\n    <SimpleDialog\n      title=\"Paste Urls\"\n      open={open}\n      onClose={onClose}\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            onAddSamples(\n              content\n                .split(\"\\n\")\n                .map((l) => l.trim())\n                .filter(Boolean)\n                .map((s) => {\n                  if (urlType === \"images\") {\n                    return { imageUrl: s }\n                  }\n                  let extension = s.replace(/\\?.*/g, \"\").split(\".\").slice(-1)[0]\n                  if (s.includes(\"gstatic.com/images\")) {\n                    extension = \"jpg\"\n                  }\n                  switch (extension.toLowerCase()) {\n                    case \"png\":\n                    case \"jpg\":\n                    case \"gif\":\n                    case \"jpeg\":\n                    case \"bmp\": {\n                      return { imageUrl: s }\n                    }\n                    case \"pdf\": {\n                      return { pdfUrl: s }\n                    }\n                    case \"mp3\":\n                    case \"wav\": {\n                      return { audioUrl: s }\n                    }\n                    default: {\n                      // TODO throw error or toast\n                      console.error(\"extension not recognized\")\n                      return null\n                    }\n                  }\n                })\n                .filter(Boolean)\n            )\n          },\n        },\n      ]}\n    >\n      <SelectContainer>\n        <Select\n          options={autoDetectOptions}\n          defaultValue={autoDetectOptions[0]}\n          onChange={(opt) => {\n            changeURLType(opt.value)\n          }}\n        />\n      </SelectContainer>\n      <TextArea\n        onChange={(e, v) => changeContent(e.target.value)}\n        placeholder={\"Paste URLs here\\nOne URL per line\"}\n      />\n    </SimpleDialog>\n  )\n}\n","import isEmpty from \"./isEmpty\"\nexport default (sample) => {\n  var sampleName\n  if (!isEmpty(sample)) {\n    if (!isEmpty(sample.imageUrl)) {\n      sampleName = decodeURI(sample.imageUrl).match(\n        `.*\\\\/(([^\\\\/\\\\\\\\&\\\\?]*)\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n      )\n    }\n    if (!isEmpty(sample.videoUrl)) {\n      sampleName = decodeURI(sample.videoUrl).match(\n        `.*\\\\/(([^\\\\/\\\\\\\\&\\\\?]*)\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n      )\n    }\n    if (!isEmpty(sample.audioUrl)) {\n      sampleName = decodeURI(sample.audioUrl).match(\n        `.*\\\\/(([^\\\\/\\\\\\\\&\\\\?]*)\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n      )\n    }\n    if (!isEmpty(sample.pdfUrl)) {\n      sampleName = decodeURI(sample.pdfUrl).match(\n        `.*\\\\/(([^\\\\/\\\\\\\\&\\\\?]*)\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n      )\n    }\n  }\n  return sampleName\n}\n","import isEmpty from \"./isEmpty\"\nexport default (UrlOfAFile) => {\n  var typeOfFile = \"File\"\n  var fileExtension = UrlOfAFile.match(\n    `\\\\/?([^\\\\/\\\\\\\\&\\\\?]*\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n  )\n  if (!isEmpty(fileExtension)) {\n    fileExtension = fileExtension[2].toLowerCase()\n  }\n  if (\n    fileExtension === \"jpg\" ||\n    fileExtension === \"jpeg\" ||\n    fileExtension === \"png\" ||\n    fileExtension === \"ico\" ||\n    fileExtension === \"jpe\" ||\n    fileExtension === \"gif\"\n  )\n    typeOfFile = \"Image\"\n  if (fileExtension === \"mp4\" || fileExtension === \"mkv\") typeOfFile = \"Video\"\n  if (fileExtension === \"mp3\") typeOfFile = \"Audio\"\n  if (fileExtension === \"pdf\") typeOfFile = \"PDF\"\n  if (fileExtension === \"txt\") typeOfFile = \"Texte\"\n  return typeOfFile\n}\n","import getSampleNameFromURL from \"../get-sample-name-from-url\"\nimport RecognizeFileExtension from \"../RecognizeFileExtension\"\nimport isEmpty from \"../isEmpty\"\nimport { setIn } from \"seamless-immutable\"\nclass LocalStorageHandler {\n  static getSampleName(sample) {\n    var sampleName\n    if (!isEmpty(sample.sampleName)) {\n      sampleName = sample.sampleName\n    } else {\n      sampleName = getSampleNameFromURL(sample)[1]\n    }\n    return sampleName\n  }\n  static getSampleUrl(sample) {\n    var url\n    if (!isEmpty(sample.imageUrl)) {\n      url = sample.imageUrl\n    }\n    if (!isEmpty(sample.videoUrl)) {\n      url = sample.videoUrl\n    }\n    if (!isEmpty(sample.audioUrl)) {\n      url = sample.audioUrl\n    }\n    if (!isEmpty(sample.pdfUrl)) {\n      url = sample.pdfUrl\n    }\n\n    return url\n  }\n  static createOneNewSample(sampleName, url, annotation) {\n    var sample\n    var type = RecognizeFileExtension(url)\n    if (type === \"Image\") {\n      sample = {\n        annotation: annotation,\n        imageUrl: url,\n        sampleName: sampleName,\n      }\n    }\n    if (type === \"Video\") {\n      sample = {\n        annotation: annotation,\n        videoUrl: url,\n        sampleName: sampleName,\n      }\n    }\n    if (type === \"Audio\") {\n      sample = {\n        annotation: annotation,\n        audioUrl: url,\n        sampleName: sampleName,\n      }\n    }\n    if (type === \"PDF\") {\n      sample = {\n        annotation: annotation,\n        pdfUrl: url,\n        sampleName: sampleName,\n      }\n    }\n    return sample\n  }\n  static getSampleWithThisSampleName(sampleName, samples) {\n    var nameToSearch\n    if (!isEmpty(samples) && !isEmpty(sampleName)) {\n      for (var i = 0; i < samples.length; i++) {\n        if (!isEmpty(samples[i])) {\n          nameToSearch = getSampleNameFromURL(samples[i])\n          if (typeof samples[i].sampleName !== \"undefined\") {\n            nameToSearch[1] = samples[i].sampleName\n          }\n          if (nameToSearch[1] === sampleName) {\n            return samples[i]\n          }\n        }\n      }\n    }\n    return null\n  }\n  static setSamplesName(samples) {\n    if (!isEmpty(samples)) {\n      for (var i = 0; i < samples.length; i++) {\n        if (!isEmpty(samples[i])) {\n          var oldsample = samples[i]\n          var sampleName\n          if (!isEmpty(oldsample.document)) {\n            // Deal with the exception of the text file (they don't have url)\n            sampleName = [\n              oldsample.document,\n              \"sample\" + i.toString() + \".txt\",\n              \"sample\",\n              \"txt\",\n            ]\n          } else {\n            sampleName = getSampleNameFromURL(oldsample)\n            sampleName = this.renameSampleFromUrl(\n              samples,\n              oldsample,\n              sampleName\n            )\n          }\n          oldsample = setIn(oldsample, [\"sampleName\"], sampleName[1])\n          samples = setIn(samples, [i], oldsample)\n        }\n      }\n    }\n    return samples\n  }\n  static renameSampleFromUrl(samples, sampleToChange, sampleName) {\n    var boolName = true\n    var v = 1\n    while (boolName) {\n      var sampletocompare1 = this.getSampleWithThisSampleName(\n        sampleName[1],\n        samples\n      )\n      if (\n        sampletocompare1 !== null &&\n        this.getSampleUrl(sampletocompare1) !==\n          this.getSampleUrl(sampleToChange)\n      ) {\n        if (isEmpty(sampleName[2].match(\"(.*)\\\\([0-9]*\\\\)$\"))) {\n          sampleName[1] =\n            sampleName[2] + \"(\" + v.toString() + \").\" + sampleName[3]\n        } else {\n          sampleName[1] =\n            sampleName[2].match(\"(.*)\\\\([0-9]*\\\\)$\")[1] +\n            \"(\" +\n            v.toString() +\n            \")\" +\n            +\".\" +\n            sampleName[3]\n        }\n        v++\n      } else {\n        boolName = false\n      }\n    }\n    return sampleName\n  }\n  static projectHasDataFile(typeProject) {\n    if (\n      \"text_entity_recognition\" === typeProject ||\n      \"text_classification\" === typeProject\n    )\n      return \"none\"\n    if (\n      \"video_segmentation\" === typeProject ||\n      \"image_classification\" === typeProject ||\n      \"image_segmentation\" === typeProject ||\n      \"audio_transcription\" === typeProject ||\n      \"composite\" === typeProject ||\n      \"data_entry\" === typeProject\n    )\n      return \"file\"\n    return \"\"\n  }\n  static eraseAnnotation(samples) {\n    var Tabsamples = []\n    for (let i = 0; i < samples.length; i++) {\n      let Newsample = samples[i]\n      if (!isEmpty(Newsample.annotation)) {\n        Newsample = setIn(Newsample, [\"annotation\"], null)\n      }\n      Tabsamples.push(Newsample)\n    }\n    return Tabsamples\n  }\n\n  static concatSample(actualSamples, newSamples, annotationToKeep) {\n    var Tabsamples = actualSamples\n    if (annotationToKeep === \"incoming\") {\n      Tabsamples = this.eraseAnnotation(actualSamples)\n    }\n\n    var Tabsamples2 = newSamples\n    if (annotationToKeep === \"current\") {\n      Tabsamples2 = this.eraseAnnotation(newSamples)\n    }\n    var concatSamples = Tabsamples.concat(Tabsamples2)\n    return concatSamples\n  }\n\n  static fileHasChanged(objectOfRef, objectToCheck) {\n    // This class return every change in one item of recentItems and its location\n    var resultSet = {\n      fileName: false,\n      content: {\n        interface: {\n          type: false,\n          labels: false,\n          regionTypesAllowed: false,\n        },\n        samples: false,\n      },\n      id: false,\n      mode: false,\n      any: false,\n    }\n    // Check if the object to check exist if not return false\n    if (isEmpty(objectToCheck)) return resultSet\n\n    // Check if the object of reference exist if not return true\n    if (isEmpty(objectOfRef)) {\n      resultSet.fileName = true\n      resultSet.content.interface.type = true\n      resultSet.content.interface.labels = true\n      resultSet.content.interface.regionTypesAllowed = true\n      resultSet.content.samples = true\n      resultSet.id = true\n      resultSet.mode = true\n      resultSet.any = true\n      return resultSet\n    }\n\n    if (objectOfRef !== objectToCheck) {\n      resultSet.any = true\n    } else {\n      return resultSet\n    }\n\n    // Check if the id doesn't exist or have change\n    if (!isEmpty(objectToCheck.id)) {\n      if (isEmpty(objectOfRef.id)) resultSet.id = true\n      else if (objectToCheck.id !== objectOfRef.id) resultSet.id = true\n    }\n\n    // Check if the content doesn't exist or have change\n    if (!isEmpty(objectToCheck.content)) {\n      if (isEmpty(objectOfRef.content)) {\n        resultSet.content.interface.type = true\n        resultSet.content.interface.labels = true\n        resultSet.content.interface.regionTypesAllowed = true\n        resultSet.content.samples = true\n      } else if (objectToCheck.content !== objectOfRef.content) {\n        //Check if the interface doesn't exist or have change\n        if (!isEmpty(objectToCheck.content.interface)) {\n          if (isEmpty(objectOfRef.content.interface)) {\n            resultSet.content.interface.type = true\n            resultSet.content.interface.labels = true\n            resultSet.content.interface.regionTypesAllowed = true\n          } else if (\n            objectToCheck.content.interface !== objectOfRef.content.interface\n          ) {\n            //Check if the type doesn't exist or have change\n            if (!isEmpty(objectToCheck.content.interface.type)) {\n              if (isEmpty(objectOfRef.content.interface.type)) {\n                resultSet.content.interface.type = true\n              } else if (\n                objectToCheck.content.interface.type !==\n                objectOfRef.content.interface.type\n              ) {\n                resultSet.content.interface.type = true\n              }\n            }\n            //Check if the labels doesn't exist or have change\n            if (!isEmpty(objectToCheck.content.interface.labels)) {\n              if (isEmpty(objectOfRef.content.interface.labels)) {\n                resultSet.content.interface.labels = true\n              } else if (\n                objectToCheck.content.interface.labels !==\n                objectOfRef.content.interface.labels\n              ) {\n                resultSet.content.interface.labels = true\n              }\n            }\n            //Check if the regionsTypesAllowed doesn't exist or have change\n            if (!isEmpty(objectToCheck.content.interface.regionTypesAllowed)) {\n              if (isEmpty(objectOfRef.content.interface.regionTypesAllowed)) {\n                resultSet.content.interface.regionTypesAllowed = true\n              } else if (\n                objectToCheck.content.interface.regionTypesAllowed !==\n                objectOfRef.content.interface.regionTypesAllowed\n              ) {\n                resultSet.content.interface.regionTypesAllowed = true\n              }\n            }\n          }\n        }\n        //Check if the samples doesn't exist or have change\n        if (!isEmpty(objectToCheck.content.samples)) {\n          if (isEmpty(objectOfRef.content.samples)) {\n            resultSet.content.samples = true\n          } else if (\n            objectToCheck.content.samples !== objectOfRef.content.samples\n          ) {\n            resultSet.content.samples = true\n          }\n        }\n      }\n    }\n\n    // Check if the mode doesn't exist or have change\n    if (!isEmpty(objectToCheck.mode)) {\n      if (isEmpty(objectOfRef.mode)) resultSet.mode = true\n      else if (objectToCheck.mode !== objectOfRef.mode) resultSet.mode = true\n    }\n\n    // Check if the fileName doesn't exist or have change\n    if (!isEmpty(objectToCheck.fileName)) {\n      if (isEmpty(objectOfRef.fileName)) resultSet.fileName = true\n      else if (objectToCheck.fileName !== objectOfRef.fileName)\n        resultSet.fileName = true\n    }\n    //Default behavior return false\n    return resultSet\n  }\n}\n\nexport default LocalStorageHandler\n","import isEmpty from \"../../utils/isEmpty\"\nimport Amplify, { Storage } from \"aws-amplify\"\nimport jsonHandler from \"../../utils/file-handlers/udt-helper\"\nfunction CheckIfAnnotationExist(result, folderToFetch) {\n  return result.find(\n    (element) => element.key === `${folderToFetch}/annotations/annotations.json`\n  )\n}\n\nfunction GetSampleFromAnnotation(json, samples) {\n  if (isEmpty(json.content.samples)) return\n  var newSamples = []\n  for (var i = 0; i < json.content.samples.length; i++) {\n    var sampleName = jsonHandler.getSampleName(json.content.samples[i])\n    var annotation = json.content.samples[i].annotation\n    var sampleFound = jsonHandler.getSampleWithThisSampleName(\n      sampleName,\n      samples\n    )\n    var url\n    if (sampleFound === null) {\n      url = jsonHandler.getSampleUrl(samples)\n    } else {\n      url = jsonHandler.getSampleUrl(sampleFound)\n    }\n    newSamples.push(jsonHandler.createOneNewSample(sampleName, url, annotation))\n  }\n  json.content.samples = newSamples\n}\n\nexport default async (result, samples, folderToFetch, authConfig) => {\n  Amplify.configure(authConfig)\n\n  var json = null\n  if (CheckIfAnnotationExist(result, folderToFetch)) {\n    await Storage.get(`${folderToFetch}/annotations/annotations.json`, {\n      expires: 24 * 60 * 60 * 2000,\n      level: \"private\",\n    })\n      .then(async (result) => {\n        await fetch(result).then(async (data) => {\n          return await data.json().then(async (result) => {\n            if (typeof result.content === \"undefined\") return\n            json = result\n            GetSampleFromAnnotation(json, samples)\n          })\n        })\n      })\n      .catch((err) => {\n        console.log(\"error getting link for s3 image\", err)\n        return null\n      })\n  }\n  return json\n}\n","import RecognizeFileExtension from \"../../utils/RecognizeFileExtension\"\nimport Amplify, { Storage } from \"aws-amplify\"\n\nasync function setUrl(result, configImport) {\n  if (configImport.loadProjectIsSelected) {\n    if (RecognizeFileExtension(result) === \"Image\") {\n      return { imageUrl: `${result}` }\n    } else if (RecognizeFileExtension(result) === \"Video\") {\n      return { videoUrl: `${result}` }\n    } else if (RecognizeFileExtension(result) === \"Audio\") {\n      return { audioUrl: `${result}` }\n    } else if (RecognizeFileExtension(result) === \"PDF\") {\n      return { pdfUrl: `${result}` }\n    }\n  } else {\n    if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Image\"\n    ) {\n      return { imageUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Video\"\n    ) {\n      return { videoUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Audio\"\n    ) {\n      return { audioUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"PDF\"\n    ) {\n      return { pdfUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Texte\"\n    ) {\n      var texte = await fetchTextInFile(result)\n      return { document: `${texte}` }\n    }\n  }\n}\nasync function fetchTextInFile(urlSource) {\n  var proxyUrl = \"https://cors-anywhere.herokuapp.com/\"\n  var response\n  var url\n  url = proxyUrl + urlSource\n  response = await fetch(url, {\n    method: \"GET\",\n  }).catch((error) => {\n    console.log(\"Looks like there was a problem: \\n\", error)\n  })\n  const texte = await response.text()\n  return texte\n}\nexport default async (result, folderToFetch, configImport, authConfig) => {\n  Amplify.configure(authConfig)\n  var samples = []\n  for (let i = 0; i < result.length; i++) {\n    if (result[i].key.match(`(${folderToFetch}/data).*(\\\\.).*`)) {\n      await Storage.get(result[i].key, {\n        expires: 24 * 60 * 60 * 2000,\n        level: \"private\",\n      })\n        .then(async (result) => {\n          samples.push(await setUrl(result, configImport))\n        })\n        .catch((err) => {\n          console.log(\"error getting link for s3 image\", err)\n          return null\n        })\n    }\n  }\n  return samples\n}\n","import JAC from \"jac-format\"\n\nconst alternativeSpellings = {\n  imageUrl: [\n    \"image_url\",\n    \"image_urls\",\n    \"image\",\n    \"image_src\",\n    \"img_url\",\n    \"img\",\n    \"img_src\",\n  ],\n  document: [\"text\"],\n}\nconst badSpellingMap = {}\nfor (const [correct, badSpellings] of Object.entries(alternativeSpellings)) {\n  for (const badSpelling of badSpellings) {\n    badSpellingMap[badSpelling] = correct\n  }\n}\n\nconst convertTaskDatumMistakes = (sample) => {\n  for (const key in sample) {\n    const normalizedKey = key.toLowerCase().replace(/ /g, \"_\")\n    const correction = badSpellingMap[normalizedKey]\n    if (correction) {\n      sample[correction] = sample[key]\n      delete sample[key]\n    }\n  }\n  return sample\n}\n\nexport default (csv) => {\n  const json = JAC.fromCSV(csv, { derivePath: () => \"samples.*\" })\n  if (!json.samples) throw new Error(\"No samples\")\n  return {\n    interface: json.interface,\n    taskOutput: json.samples.map((sample) => sample.output),\n    samples: json.samples.map(convertTaskDatumMistakes).map((sample) => {\n      delete sample.output\n      return sample\n    }),\n  }\n}\n","import isEmpty from \"../../utils/isEmpty\"\nexport default (typeAuthorize, file) => {\n  function interfaceFileType(type) {\n    if (\n      type === \"image_classification\" ||\n      type === \"image_segmentation\" ||\n      type === \"composite\"\n    )\n      return \"Image\"\n    if (type === \"video_segmentation\") return \"Video\"\n    if (type === \"audio_transcription\") return \"Audio\"\n    if (type === \"data_entry\") return \"PDF\"\n    if (type === \"text_entity_recognition\" || type === \"text_classification\")\n      return \"Texte\"\n    if (isEmpty(type)) return \"Empty\"\n    return \"File\"\n  }\n\n  function typesamplesSample(samples) {\n    if (isEmpty(samples) || isEmpty(samples[0])) return \"Empty\"\n    if (!isEmpty(samples[0].imageUrl)) return \"Image\"\n    if (!isEmpty(samples[0].videoUrl)) return \"Video\"\n    if (!isEmpty(samples[0].audioUrl)) return \"Audio\"\n    if (!isEmpty(samples[0].pdfUrl)) return \"PDF\"\n    if (!isEmpty(samples[0].document)) return \"Texte\"\n    return \"File\"\n  }\n  var result = [null, null]\n  if (isEmpty(file)) return false\n  result[0] = interfaceFileType(file.content.interface.type)\n  result[1] = typesamplesSample(file.content.samples)\n  if (typeAuthorize.includes(result[0]) && typeAuthorize.includes(result[1]))\n    return true\n  return false\n}\n","import { setIn } from \"seamless-immutable\"\nimport jsonHandler from \"../../utils/file-handlers/udt-helper\"\nimport isEmpty from \"../../utils/isEmpty\"\nexport default (file, json, configImport) => {\n  var contentOldFile = file.content\n  contentOldFile = setIn(\n    contentOldFile,\n    [\"samples\"],\n    jsonHandler.concatSample(\n      file.content.samples,\n      json.content.samples,\n      configImport.annotationToKeep\n    )\n  )\n\n  contentOldFile = setIn(contentOldFile, [\"interface\"], json.content.interface)\n  file = setIn(file, [\"content\"], contentOldFile)\n  if (isEmpty(file.fileName) || file.fileName === \"unnamed\")\n    file = setIn(file, [\"fileName\"], json.fileName)\n  return file\n}\n","// @flow weak\nimport React, { useState, useEffect, useRef, useCallback } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport DataTable from \"react-data-table-component\"\nimport Radio from \"@material-ui/core/Radio\"\nimport FormControl from \"@material-ui/core/FormControl\"\nimport FormLabel from \"@material-ui/core/FormLabel\"\nimport RadioGroup from \"@material-ui/core/RadioGroup\"\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\"\nimport Amplify, { Storage } from \"aws-amplify\"\nimport isEmpty from \"../../utils/isEmpty\"\nimport { useLocalStorage } from \"react-use\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\nimport StorageIcon from \"@material-ui/icons/Storage\"\nimport Button from \"@material-ui/core/Button\"\nimport GetAnnotationFromAFolderAWS from \"./get-annotation-from-aws\"\nimport GetImageFromAFolderAWS from \"./get-images-from-aws\"\nimport setButtonNameAddSample from \"./set-button-add-sample-name\"\nimport jsonHandler from \"../../utils/file-handlers/udt-helper\"\nimport setTypeOfFileToLoadAndDisable from \"./set-type-of-file-to-load-and-disable\"\nimport initConfigImport from \"./init-config-import\"\nimport setAnnotationFromAws from \"./set-annotation-from-aws\"\n\nconst selectedStyle = { color: \"DodgerBlue\" }\nconst tableStyle = {\n  marginLeft: \"auto\",\n  marginRight: \"auto\",\n  width: \"100%\",\n}\nconst expandedDataColumns = [\n  { name: \"Data\", selector: \"data\", sortable: true },\n  { name: \"Last Modified\", selector: \"lastModified\", sortable: true },\n]\n\nconst expandedAnnotationsColumns = [\n  { name: \"Annotations\", selector: \"annotation\" },\n  { name: \"Last Modified\", selector: \"lastModified\", sortable: true },\n]\n\nconst columns = [{ name: \"Projects\", selector: \"folder\", sortable: true }]\n\nconst customStyles = {\n  headCells: {\n    style: {\n      paddingLeft: \"10px\",\n      \"font-weight\": \"bold\",\n    },\n  },\n  cells: {\n    style: {\n      paddingLeft: \"25px\",\n    },\n  },\n}\n\nconst ExpandedRow = ({ data }) => {\n  const { rowData, rowAnnotations } = data\n  return (\n    <>\n      <DataTable\n        style={{\n          boxSizing: \"border-box\",\n          paddingLeft: \"50px\",\n          paddingRight: \"10px\",\n        }}\n        dense\n        striped\n        noHeader\n        columns={expandedAnnotationsColumns}\n        data={rowAnnotations}\n        noDataComponent='Make sure the project has \"annotations\" folder'\n        pagination={rowData.length > 10}\n        paginationPerPage={10}\n        paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n        customStyles={customStyles}\n      />\n      <DataTable\n        style={{\n          boxSizing: \"border-box\",\n          paddingLeft: \"50px\",\n          paddingRight: \"10px\",\n        }}\n        dense\n        striped\n        noHeader\n        columns={expandedDataColumns}\n        data={rowData}\n        noDataComponent={'Make sure the project has \"data\" folder'}\n        pagination={rowData.length > 10}\n        paginationPerPage={10}\n        paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n        customStyles={customStyles}\n      />\n    </>\n  )\n}\n\nexport default ({\n  file,\n  open,\n  onClose,\n  onAddSamples,\n  onChangeFile,\n  authConfig,\n  user,\n}) => {\n  try {\n    Amplify.configure(authConfig)\n  } catch (e) {}\n  const [textButtonAdd, changetextButtonAdd] = useState(\"Add Samples\")\n  const [s3Content, changeS3Content] = useState(null)\n  const [dataForTable, changeDataForTable] = useState(null)\n  const [folderToFetch, setFolderToFetch] = useState(\"\")\n\n  const [configImport, setConfigImport] = useLocalStorage(\n    \"configImport\",\n    initConfigImport(file)\n  )\n  const lastObjectRef = useRef({})\n  const CheckIfProjectIsStarted = useCallback(() => {\n    if (\n      isEmpty(file) ||\n      isEmpty(file.content) ||\n      (isEmpty(file.content.interface) && isEmpty(file.content.samples))\n    )\n      return false\n    return true\n  }, [file])\n\n  useEffect(() => {\n    if (file === lastObjectRef.current) return\n    var configToSet = configImport\n    var changes = jsonHandler.fileHasChanged(lastObjectRef.current, file)\n    if (changes.content.interface.type || changes.content.samples) {\n      if (lastObjectRef.current !== {})\n        configToSet = setTypeOfFileToLoadAndDisable(configToSet, file)\n    }\n    setConfigImport({\n      ...configToSet,\n      projectStarted: CheckIfProjectIsStarted(),\n      loadProjectIsSelected: CheckIfProjectIsStarted()\n        ? false\n        : setConfigImport.loadProjectIsSelected,\n    })\n    lastObjectRef.current = file\n  }, [file, configImport, setConfigImport, CheckIfProjectIsStarted])\n\n  const handleAddSample = async () => {\n    var samples = await GetImageFromAFolderAWS(\n      s3Content,\n      folderToFetch,\n      configImport,\n      authConfig\n    )\n    var json = null\n    if (configImport.loadProjectIsSelected) {\n      json = await GetAnnotationFromAFolderAWS(\n        s3Content,\n        samples,\n        folderToFetch,\n        authConfig\n      )\n    }\n\n    if (\n      isEmpty(json) ||\n      isEmpty(json.content) ||\n      isEmpty(json.content.samples) ||\n      isEmpty(json.fileName)\n    ) {\n      onAddSamples(samples)\n    } else {\n      file = setAnnotationFromAws(file, json, configImport)\n      onChangeFile(file, true)\n      onAddSamples([])\n    }\n  }\n\n  const handleRowSelected = (whatsChanging) => {\n    if (!isEmpty(whatsChanging.selectedRows[0])) {\n      setFolderToFetch(whatsChanging.selectedRows[0].folder)\n      changeDataForTable((prevState) =>\n        prevState.map((row) => {\n          if (whatsChanging.selectedRows[0].id === row.id) {\n            row.isSelected = true\n          } else {\n            row.isSelected = false\n          }\n          return row\n        })\n      )\n    } else {\n      setFolderToFetch(null)\n      changeDataForTable((prevState) =>\n        prevState.map((row) => {\n          row.isSelected = false\n          return row\n        })\n      )\n    }\n  }\n  function changeLoadProjectIsSelected() {\n    setConfigImport({\n      ...configImport,\n      loadProjectIsSelected: !configImport.loadProjectIsSelected,\n    })\n  }\n\n  useEffect(() => {\n    var textToSet = setButtonNameAddSample(\n      configImport.loadProjectIsSelected,\n      configImport.typeOfFileToLoad,\n      dataForTable\n    )\n    changetextButtonAdd(textToSet)\n  }, [\n    configImport.loadProjectIsSelected,\n    configImport.typeOfFileToLoad,\n    dataForTable,\n  ])\n\n  useEffect(() => {\n    if (isEmpty(user)) {\n      changeS3Content(null)\n    } else if (!isEmpty(authConfig)) {\n      Storage.list(\"\", { level: \"private\" })\n        .then((result) => {\n          changeS3Content(result)\n          let _dataForTable = result\n            .filter((obj) => {\n              return obj.key.endsWith(\"/\") & (obj.key.split(\"/\").length === 2)\n            })\n            .map((obj, index) => {\n              const folder = obj.key.split(\"/\")[0]\n              const rowDataContent = result\n                .filter((obj) => {\n                  return (\n                    obj.key.startsWith(`${folder}/data/`) &\n                    !obj.key.endsWith(\"/\")\n                  )\n                })\n                .map((obj) => {\n                  return {\n                    data: obj.key.split(\"/data/\")[1],\n                    lastModified: obj.lastModified.toDateString(),\n                  }\n                })\n              const rowAnnotationsContent = result\n                .filter((obj) => {\n                  return (\n                    obj.key.startsWith(`${folder}/annotations/`) &\n                    !obj.key.endsWith(\"/\")\n                  )\n                })\n                .map((obj) => {\n                  return {\n                    annotation: obj.key.split(\"/annotations/\")[1],\n                    lastModified: obj.lastModified.toDateString(),\n                  }\n                })\n              return {\n                id: `${index}`,\n                folder: folder,\n                rowData: rowDataContent,\n                rowAnnotations: rowAnnotationsContent,\n                isSelected: true,\n              }\n            })\n          changeDataForTable(_dataForTable)\n        })\n        .catch((err) => console.log(err))\n    }\n  }, [user, authConfig])\n  return (\n    <SimpleDialog\n      title=\"Select Project\"\n      open={open}\n      onClose={onClose}\n      actions={[\n        {\n          text: textButtonAdd,\n          onClick: () => {\n            handleAddSample()\n          },\n          disabled: configImport.contentDialogBoxIsSetting,\n        },\n      ]}\n    >\n      <table style={tableStyle}>\n        <tbody>\n          <tr>\n            <th>\n              {configImport.loadProjectIsSelected ? (\n                <Button\n                  style={selectedStyle}\n                  onClick={changeLoadProjectIsSelected}\n                  disabled\n                >\n                  Load Project\n                </Button>\n              ) : (\n                <Button\n                  onClick={changeLoadProjectIsSelected}\n                  disabled={configImport.projectStarted}\n                >\n                  Load Project\n                </Button>\n              )}\n              {configImport.loadProjectIsSelected ? (\n                <Button onClick={changeLoadProjectIsSelected}>\n                  Load Samples\n                </Button>\n              ) : (\n                <Button\n                  style={selectedStyle}\n                  onClick={changeLoadProjectIsSelected}\n                  disabled\n                >\n                  Load Samples\n                </Button>\n              )}\n              <IconButton\n                onClick={() => {\n                  setConfigImport({\n                    ...configImport,\n                    contentDialogBoxIsSetting: !configImport.contentDialogBoxIsSetting,\n                  })\n                }}\n              >\n                {configImport.contentDialogBoxIsSetting ? (\n                  <StorageIcon></StorageIcon>\n                ) : (\n                  <SettingsIcon></SettingsIcon>\n                )}\n              </IconButton>\n            </th>\n          </tr>\n\n          {!configImport.contentDialogBoxIsSetting ? (\n            !isEmpty(dataForTable) && (\n              <tr>\n                <th>\n                  <DataTable\n                    expandableRows\n                    expandableRowsComponent={<ExpandedRow />}\n                    selectableRows\n                    selectableRowsHighlight\n                    selectableRowsNoSelectAll\n                    selectableRowsComponent={Radio}\n                    dense\n                    noHeader\n                    noTableHead\n                    columns={columns}\n                    onSelectedRowsChange={handleRowSelected}\n                    selectableRowSelected={(row) => row.isSelected}\n                    data={dataForTable}\n                    pagination={dataForTable.length > 10}\n                    paginationPerPage={10}\n                    paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n                  />\n                </th>\n              </tr>\n            )\n          ) : (\n            <tr>\n              <th>\n                {configImport.loadProjectIsSelected ? (\n                  <FormControl component=\"fieldset\">\n                    <FormLabel component=\"legend\">\n                      Annotation processing\n                    </FormLabel>\n                    <RadioGroup\n                      aria-label=\"option1\"\n                      onChange={(event) => {\n                        setConfigImport({\n                          ...configImport,\n                          annotationToKeep: event.target.value,\n                        })\n                      }}\n                    >\n                      <FormControlLabel\n                        value=\"both\"\n                        control={<Radio />}\n                        label=\"Keep both annotations\"\n                        checked={configImport.annotationToKeep === \"both\"}\n                      />\n                      <FormControlLabel\n                        value=\"incoming\"\n                        control={<Radio />}\n                        label=\"Keep incoming annotations\"\n                        checked={configImport.annotationToKeep === \"incoming\"}\n                      />\n                      <FormControlLabel\n                        value=\"current\"\n                        control={<Radio />}\n                        label=\"Keep current annotations\"\n                        checked={configImport.annotationToKeep === \"current\"}\n                      />\n                    </RadioGroup>\n                  </FormControl>\n                ) : (\n                  <FormControl component=\"fieldset\">\n                    <FormLabel component=\"legend\">Choose file type</FormLabel>\n                    <RadioGroup\n                      aria-label=\"option2\"\n                      onChange={(event) => {\n                        setConfigImport({\n                          ...configImport,\n                          typeOfFileToLoad: event.target.value,\n                        })\n                      }}\n                    >\n                      <FormControlLabel\n                        value=\"Image\"\n                        control={<Radio />}\n                        label=\"Load image file\"\n                        disabled={configImport.typeOfFileToDisable.Image}\n                        checked={configImport.typeOfFileToLoad === \"Image\"}\n                      />\n                      <FormControlLabel\n                        value=\"Video\"\n                        control={<Radio />}\n                        label=\"Load video file\"\n                        disabled={configImport.typeOfFileToDisable.Video}\n                        checked={configImport.typeOfFileToLoad === \"Video\"}\n                      />\n                      <FormControlLabel\n                        value=\"Audio\"\n                        control={<Radio />}\n                        label=\"Load audio file\"\n                        disabled={configImport.typeOfFileToDisable.Audio}\n                        checked={configImport.typeOfFileToLoad === \"Audio\"}\n                      />\n                      <FormControlLabel\n                        value=\"PDF\"\n                        control={<Radio />}\n                        label=\"Load PDF file\"\n                        disabled={configImport.typeOfFileToDisable.PDF}\n                        checked={configImport.typeOfFileToLoad === \"PDF\"}\n                      />\n                      <FormControlLabel\n                        value=\"Texte\"\n                        control={<Radio />}\n                        label=\"Load texte file\"\n                        disabled={configImport.typeOfFileToDisable.Texte}\n                        checked={configImport.typeOfFileToLoad === \"Texte\"}\n                      />\n                    </RadioGroup>\n                  </FormControl>\n                )}\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </SimpleDialog>\n  )\n}\n","import checkInterfaceAndsamples from \"./check-interface-and-sample-type\"\nexport default (file) => {\n  return {\n    annotationToKeep: \"both\",\n    typeOfFileToLoad: checkInterfaceAndsamples([\"Image\", \"Empty\"], file)\n      ? \"Image\"\n      : checkInterfaceAndsamples([\"Video\", \"Empty\"], file)\n      ? \"Video\"\n      : checkInterfaceAndsamples([\"Audio\", \"Empty\"], file)\n      ? \"Audio\"\n      : checkInterfaceAndsamples([\"PDF\", \"Empty\"], file)\n      ? \"PDF\"\n      : checkInterfaceAndsamples([\"Texte\", \"Empty\"], file)\n      ? \"Texte\"\n      : \"None\",\n    typeOfFileToDisable: {\n      Image: checkInterfaceAndsamples([\"Image\", \"Empty\"], file) ? false : true,\n      Video: checkInterfaceAndsamples([\"Video\", \"Empty\"], file) ? false : true,\n      Audio: checkInterfaceAndsamples([\"Audio\", \"Empty\"], file) ? false : true,\n      PDF: checkInterfaceAndsamples([\"PDF\", \"Empty\"], file) ? false : true,\n      Texte: checkInterfaceAndsamples([\"Texte\", \"Empty\"], file) ? false : true,\n    },\n    loadProjectIsSelected: true,\n    contentDialogBoxIsSetting: false,\n    projectStarted: false,\n  }\n}\n","import isEmpty from \"../../utils/isEmpty\"\nimport checkInterfaceAndsamples from \"./check-interface-and-sample-type\"\nexport default (configImport, file) => {\n  return {\n    ...configImport,\n    typeOfFileToLoad:\n      !isEmpty(configImport) &&\n      !isEmpty(configImport.typeOfFileToLoad) &&\n      checkInterfaceAndsamples([configImport.typeOfFileToLoad, \"Empty\"], file)\n        ? configImport.typeOfFileToLoad\n        : checkInterfaceAndsamples([\"Image\", \"Empty\"], file)\n        ? \"Image\"\n        : checkInterfaceAndsamples([\"Video\", \"Empty\"], file)\n        ? \"Video\"\n        : checkInterfaceAndsamples([\"Audio\", \"Empty\"], file)\n        ? \"Audio\"\n        : checkInterfaceAndsamples([\"PDF\", \"Empty\"], file)\n        ? \"PDF\"\n        : checkInterfaceAndsamples([\"Texte\", \"Empty\"], file)\n        ? \"Texte\"\n        : \"None\",\n    typeOfFileToDisable: {\n      Image: checkInterfaceAndsamples([\"Image\", \"Empty\"], file) ? false : true,\n      Video: checkInterfaceAndsamples([\"Video\", \"Empty\"], file) ? false : true,\n      Audio: checkInterfaceAndsamples([\"Audio\", \"Empty\"], file) ? false : true,\n      PDF: checkInterfaceAndsamples([\"PDF\", \"Empty\"], file) ? false : true,\n      Texte: checkInterfaceAndsamples([\"Texte\", \"Empty\"], file) ? false : true,\n    },\n  }\n}\n","import RecognizeFileExtension from \"../../utils/RecognizeFileExtension\"\nimport isEmpty from \"../../utils/isEmpty\"\nexport default (loadProjectIsSelected, typeOfFileToLoad, dataForTable) => {\n  var numberOfSamples = 0\n  var textToSet = \"\"\n  var folderName\n  if (!isEmpty(dataForTable)) {\n    for (var i = 0; i < dataForTable.length; i++) {\n      if (dataForTable[i].isSelected) {\n        folderName = dataForTable[i].folder\n        if (!isEmpty(dataForTable[i].rowData)) {\n          for (var y = 0; y < dataForTable[i].rowData.length; y++) {\n            if (\n              RecognizeFileExtension(dataForTable[i].rowData[y].data) ===\n              typeOfFileToLoad\n            ) {\n              numberOfSamples++\n            }\n          }\n        }\n      }\n    }\n    if (loadProjectIsSelected) {\n      textToSet = \"Load \" + folderName\n    } else {\n      textToSet = \"Add \" + numberOfSamples + \" \" + typeOfFileToLoad\n    }\n  }\n  return textToSet\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useEventCallback from \"use-event-callback\"\nimport { useDropzone } from \"react-dropzone\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\n\nconst UploadHover = styled(\"div\")({\n  fontSize: 24,\n  color: colors.grey[600],\n  textAlign: \"center\",\n  padding: 48,\n})\n\nconst emptyFunc = () => null\n\nexport default ({ content, onChangeContent, placeholder }) => {\n  const onDrop = useEventCallback((acceptedFiles) => {\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      const fileContent = e.target.result\n      onChangeContent(fileContent)\n    }\n    reader.readAsText(acceptedFiles[0])\n  })\n\n  const [lastClickTime, changeLastClickTime] = useState(0)\n  const onClick = useEventCallback((e) => {\n    if (Date.now() - lastClickTime < 400) {\n      getRootProps().onClick(e)\n    }\n    changeLastClickTime(Date.now())\n  })\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  return (\n    <div {...getRootProps()} onClick={emptyFunc}>\n      <input {...getInputProps()} />\n      {isDragActive ? (\n        <UploadHover>Drop the text or csv file here.</UploadHover>\n      ) : (\n        <TextArea\n          value={content}\n          onChange={(e, v) => onChangeContent(e.target.value)}\n          onClick={onClick}\n          placeholder={placeholder}\n        />\n      )}\n    </div>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport TextAreaWithUpload from \"../TextAreaWithUpload\"\n\nconst ImportTextSnippetsDialog = ({ open, onClose, onAddSamples }) => {\n  const [content, changeContent] = useState(\"\")\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Import Text Snippets\"\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            onAddSamples(\n              content\n                .split(\"\\n\")\n                .map((l) => l.trim())\n                .filter(Boolean)\n                .map((s) => ({ document: s }))\n            )\n          },\n        },\n      ]}\n    >\n      <TextAreaWithUpload\n        content={content}\n        onChangeContent={changeContent}\n        placeholder={\n          \"Paste Snippets here\\nOne snippet per line.\\n\\nYou can also drag a text or csv file here (double click to open file dialog)\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n\nexport default ImportTextSnippetsDialog\n","import React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nexport default (props) => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 50 50\">\n      <g id=\"Working\">\n        <path\n          style={props.color}\n          d=\"M21.17,42.88H13.76a1,1,0,0,1-1-1v-7.5a1,1,0,0,1,1-1h7.41a1,1,0,0,1,1,1v7.5A1,1,0,0,1,21.17,42.88Zm-6.41-2h5.41v-5.5H14.76Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M31,39.17a5.24,5.24,0,1,1,5.22-5.24A5.23,5.23,0,0,1,31,39.17Zm0-8.48a3.24,3.24,0,1,0,3.22,3.24A3.23,3.23,0,0,0,31,30.69Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M20.22,29.75H10.85a1,1,0,0,1-.87-.51,1,1,0,0,1,0-1l4.69-7.82a1,1,0,0,1,1.71,0l4.69,7.82a1,1,0,0,1,0,1A1,1,0,0,1,20.22,29.75Zm-7.61-2h5.85l-2.92-4.87Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M23.67,48.5c-6.39,0-16.5-1.45-16.63-5.34L2.51,9.55a1,1,0,0,1,2-.39c.5,1.93,8.05,4.63,19.2,4.63s18.69-2.7,19.19-4.63a1,1,0,0,1,2,.39L40.29,43.16c0,1.32-1.22,2.45-3.51,3.36a22.87,22.87,0,0,1-3.12.94A46,46,0,0,1,23.67,48.5ZM4.9,12.27,9,43s0,.09,0,.13c0,1.18,5.69,3.42,14.63,3.42a43.75,43.75,0,0,0,9.54-1A21,21,0,0,0,36,44.66c1.85-.73,2.26-1.39,2.26-1.58V43l4.14-30.68c-3.86,2.3-11.64,3.52-18.77,3.52S8.75,14.57,4.9,12.27Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M23.67,15.79c-9.47,0-20.1-2.15-21.14-6.12,0-.05,0-.09,0-.13l0-.41a.62.62,0,0,1,0-.13c0-4.42,11.18-7.5,21.22-7.5S44.88,4.58,44.88,9v.13l-.06.41a.69.69,0,0,1,0,.13C43.76,13.64,33.13,15.79,23.67,15.79ZM4.48,9.21c.62,1.93,8.14,4.58,19.19,4.58s18.56-2.65,19.18-4.58l0-.27C42.75,7,34.86,3.5,23.67,3.5S4.59,7,4.45,8.94Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M44.93,29.62c-4.76,0-15.18-4.71-21.7-7.91l.88-1.8c9,4.42,19.6,8.52,21.41,7.75-.14-.29-.81-1.19-4-2.92l-.16-.1,1-1.74.15.09c3.21,1.77,4.74,3.13,5,4.41a1.82,1.82,0,0,1-.4,1.52A2.77,2.77,0,0,1,44.93,29.62Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M23.67,23a2.17,2.17,0,1,1,2.17-2.17A2.18,2.18,0,0,1,23.67,23Zm0-2.34a.17.17,0,0,0-.18.17c0,.19.35.19.35,0A.17.17,0,0,0,23.67,20.64Z\"\n        />\n      </g>\n    </SvgIcon>\n  )\n}\n","import React, { useState, useEffect, useCallback } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Button from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\n\nconst ExplainText = styled(\"div\")({\n  marginTop: 8,\n  marginBottom: 8,\n})\nconst GoogleDriveScreenshot = styled(\"img\")({\n  width: \"100%\",\n  boxSizing: \"border-box\",\n})\n\n// Example for Google OAuth\n// https://developers.google.com/drive/api/v3/picker\n\nconst credentials = {\n  web: {\n    client_id:\n      process.env.REACT_APP_GOOGLE_DRIVE_CLIENT_ID ||\n      \"294393711342-h5aqqt3pvn8othepvsmi16iakdhi7m6j.apps.googleusercontent.com\",\n    app_id: process.env.REACT_APP_GOOGLE_DRIVE_APP_ID || \"294393711342\",\n    developer_key:\n      process.env.REACT_APP_GOOGLE_DRIVE_DEVELOPER_KEY ||\n      \"AIzaSyCoNoDnfzDBSXpt84Q75LU9UMTzvyLkRhg\",\n  },\n}\n\nconst scope = \"https://www.googleapis.com/auth/drive.readonly\"\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const [googleScriptLoaded, setGoogleScriptLoaded] = useState(false)\n  const [pickerApiLoaded, setPickerApiLoaded] = useState(false)\n  const [oauthToken, setOAuthToken] = useState(null)\n  const [userSelectedItemsFromDrive, setUserSelectedItemsFromDrive] = useState(\n    []\n  )\n  const [isPickerOpen, setIsPickerOpen] = useState(false)\n\n  useEffect(() => {\n    const scriptElement = document.createElement(\"script\")\n    scriptElement.src = \"https://apis.google.com/js/api.js\"\n    scriptElement.async = true\n\n    scriptElement.onload = () => {\n      setGoogleScriptLoaded(true)\n    }\n\n    document.body.appendChild(scriptElement)\n    return () => {\n      scriptElement.remove()\n    }\n  }, [])\n\n  const googlePickerActionCallback = useCallback(\n    (data) => {\n      if (data.action === window.google.picker.Action.PICKED) {\n        setUserSelectedItemsFromDrive(\n          data.docs.map((googleDriveDocument) => ({\n            url: googleDriveDocument.url,\n            mimeType: googleDriveDocument.mimeType,\n            name: googleDriveDocument.name,\n            id: googleDriveDocument.id,\n          }))\n        )\n        setIsPickerOpen(false)\n      } else if (data.action === \"cancel\") {\n        onClose()\n      }\n    },\n    [onClose]\n  )\n\n  const createPicker = useCallback(() => {\n    if (pickerApiLoaded && oauthToken) {\n      const view = new window.google.picker.View(\n        window.google.picker.ViewId.Docs\n      )\n\n      view.setMimeTypes(\n        \"image/png\",\n        \"image/jpeg\",\n        \"image/jpg\",\n        \"image/gif\",\n        \"video/mp4\",\n        \"video/mpeg\"\n      )\n      const picker = new window.google.picker.PickerBuilder()\n        .enableFeature(window.google.picker.Feature.NAV_HIDDEN)\n        .enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED)\n        .setAppId(credentials.web.app_id)\n        .setOAuthToken(oauthToken)\n        .addView(view)\n        .addView(window.google.picker.ViewId.DOCS)\n        .setDeveloperKey(credentials.web.developer_key)\n        .setCallback(googlePickerActionCallback)\n        .build()\n      picker.setVisible(true)\n      setIsPickerOpen(true)\n    }\n  }, [googlePickerActionCallback, oauthToken, pickerApiLoaded])\n\n  useEffect(() => {\n    createPicker()\n  }, [pickerApiLoaded, oauthToken, createPicker])\n\n  const handleAuthenticationResponse = useCallback(\n    (authenticationResponse) => {\n      if (authenticationResponse && !authenticationResponse.error) {\n        setOAuthToken(authenticationResponse.access_token)\n        createPicker()\n      }\n    },\n    [createPicker]\n  )\n\n  const onAuthApiLoad = useCallback(() => {\n    window.gapi.auth.authorize(\n      {\n        client_id: credentials.web.client_id,\n        scope: scope,\n        immediate: false,\n      },\n      handleAuthenticationResponse\n    )\n  }, [handleAuthenticationResponse])\n\n  const onPickerApiLoad = useCallback(() => {\n    setPickerApiLoaded(true)\n    createPicker()\n  }, [createPicker])\n\n  const onLoadPicker = useCallback(() => {\n    if (googleScriptLoaded === true) {\n      window.gapi.load(\"auth\", { callback: onAuthApiLoad })\n      window.gapi.load(\"picker\", { callback: onPickerApiLoad })\n    }\n  }, [googleScriptLoaded, onAuthApiLoad, onPickerApiLoad])\n\n  const onAddSamplesClicked = () => {\n    const samples = []\n    for (const item of userSelectedItemsFromDrive) {\n      if (item.mimeType.includes(\"image/\")) {\n        samples.push({ imageUrl: `https://drive.google.com/uc?id=${item.id}` })\n      } else if (item.mimeType.includes(\"video/\")) {\n        samples.push({ videoUrl: `https://drive.google.com/uc?id=${item.id}` })\n      }\n    }\n    onAddSamples(samples)\n  }\n\n  useEffect(() => {\n    if (open) {\n      onLoadPicker()\n    }\n  }, [open, googleScriptLoaded, onLoadPicker])\n\n  return (\n    <SimpleDialog\n      open={open && !isPickerOpen}\n      onClose={onClose}\n      title=\"Import from Google Drive\"\n      actions={[\n        userSelectedItemsFromDrive &&\n          userSelectedItemsFromDrive.length > 0 && {\n            text: `Add ${userSelectedItemsFromDrive.length} Samples`,\n            onClick: onAddSamplesClicked,\n          },\n      ].filter(Boolean)}\n    >\n      <Button variant=\"outlined\" onClick={onLoadPicker}>\n        Reopen Google Drive Picker\n      </Button>\n      <ExplainText>\n        Make sure your Google Drive files are available via a link.{\" \"}\n        <b>If you don't, the files will not appear when you're labeling!</b>\n      </ExplainText>\n      <GoogleDriveScreenshot\n        src={\n          \"https://s3.amazonaws.com/asset.workaround.online/google-share-screenshot.png\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport TextAreaWithUpload from \"../TextAreaWithUpload\"\nimport * as colors from \"@material-ui/core/colors\"\nimport fromUDTCSV from \"../../utils/from-udt-csv.js\"\n\nconst InfoText = styled(\"div\")({\n  fontFamily: \"Inter\",\n  marginBottom: 20,\n  \"& a\": {\n    color: colors.blue[500],\n  },\n})\n\nconst Error = styled(\"div\")({\n  color: colors.red[500],\n  whiteSpace: \"pre-wrap\",\n  marginBottom: 20,\n})\n\nconst ImportUDTFileDialog = ({ open, onClose, onAddSamples }) => {\n  const [error, changeError] = useState(null)\n  const [content, setContent] = useState(\"\")\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Import JSON/CSV Samples\"\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            changeError(null)\n            let samples, taskOutput\n            try {\n              ;[samples, taskOutput] = JSON.parse(content).samples\n            } catch (e1) {\n              try {\n                const udt = fromUDTCSV(content)\n                ;({ samples, taskOutput } = udt)\n              } catch (e2) {\n                console.log({\n                  message: \"CSV/JSON Error Stacks\",\n                  jsonError: e1.stack,\n                  csvError: e2.stack,\n                })\n                changeError(\n                  `JSON did not parse. CSV did not parse.\\n\\nJSON Error: ${e1.toString()}\\nCSV Error: ${e2.toString()}`\n                )\n                return\n              }\n            }\n            if (!samples || samples.length === 0) {\n              changeError(\"No task data found\")\n              return\n            }\n            onAddSamples(samples, taskOutput)\n          },\n        },\n      ]}\n    >\n      <InfoText>\n        See the{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format\">\n          UDT JSON format\n        </a>{\" \"}\n        or the{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format\">\n          UDT CSV format\n        </a>{\" \"}\n        for formatting details. Or take a look at a{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format/blob/master/SAMPLE.udt.json\">\n          sample JSON\n        </a>{\" \"}\n        or{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format/blob/master/SAMPLE.udt.csv\">\n          sample CSV\n        </a>{\" \"}\n        file.\n      </InfoText>\n      <Error>{error}</Error>\n      <TextAreaWithUpload\n        content={content}\n        onChangeContent={setContent}\n        placeholder={\n          \"Paste CSV/JSON here. The file should be in the UDT JSON/CSV format.\\n\\nYou can also drag a json or csv file here (double click to open file dialog)\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n\nexport default ImportUDTFileDialog\n","// @flow weak\n\nimport React from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport Table from \"@material-ui/core/Table\"\nimport TableBody from \"@material-ui/core/TableBody\"\nimport TableCell from \"@material-ui/core/TableCell\"\nimport TableContainer from \"@material-ui/core/TableContainer\"\nimport TableHead from \"@material-ui/core/TableHead\"\nimport TableRow from \"@material-ui/core/TableRow\"\n\nconst datasets = [\n  { name: \"Elon Musk Tweets\", type: \"text\", size: 2800 },\n  { name: \"Cats\", type: \"image\", size: 360 },\n  { name: \"VR Hand Pinching\", type: \"image\", size: 20517 },\n  { name: \"AI Generated Faces\", type: \"image\", size: 1999 },\n  { name: \"Text to Speech Audio\", type: \"audio\", size: 200 },\n]\n\nasync function getSamples(dataset) {\n  const datasetName =\n    dataset.name.toLowerCase().replace(/ /g, \"_\") + \".udt.json\"\n\n  const datasetUrl = `https://s3.amazonaws.com/datasets.workaround.online/${datasetName}`\n\n  return await fetch(datasetUrl)\n    .then((r) => r.json())\n    .then((r) => r.samples || r.taskData)\n}\n\nconst StyledButton = styled(Button)({})\n\nconst ImportToyDatasetDialog = ({ onClose, onAddSamples, open }) => {\n  return (\n    <SimpleDialog onClose={onClose} open={open} title=\"Import Toy Dataset\">\n      <TableContainer>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell>Type</TableCell>\n              <TableCell>Size</TableCell>\n              <TableCell>Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {datasets.map((dataset) => (\n              <TableRow key={dataset.name}>\n                <TableCell>{dataset.name}</TableCell>\n                <TableCell>{dataset.type}</TableCell>\n                <TableCell>{dataset.size}</TableCell>\n                <TableCell>\n                  <StyledButton\n                    onClick={async () => {\n                      onAddSamples(await getSamples(dataset))\n                    }}\n                    variant=\"outlined\"\n                  >\n                    Import\n                  </StyledButton>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </SimpleDialog>\n  )\n}\n\nexport default ImportToyDatasetDialog\n","const idify = (s) =>\n  s\n    .toLowerCase()\n    .replace(/[^a-z0-9]/g, \"_\")\n    .replace(/_+/g, \"_\")\n\nexport default ({\n  youtubeUrl,\n  title: videoTitle,\n  remote,\n  videoQuality,\n  downloadPath,\n  onProgress,\n  onComplete,\n  onChangeOverallProgress,\n}) => {\n  //let starttime = Date.now()\n\n  const ytdl = remote.require(\"ytdl-core\")\n  const path = remote.require(\"path\")\n\n  const videoName = videoQuality.includes(\"audio\")\n    ? `${idify(videoTitle) + \".mp3\"}`\n    : `${idify(videoTitle) + \".mp4\"}`\n\n  const fullVideoPath = path.join(downloadPath, videoName)\n  const writableVideoFile = remote\n    .require(\"fs\")\n    .createWriteStream(fullVideoPath)\n\n  const videoFormat = videoName.endsWith(\".mp3\") ? \"audio/mp3\" : \"video/mp4\"\n\n  const youtubeVideoWithOptions = ytdl(youtubeUrl, {\n    format: videoFormat,\n    quality: videoQuality !== null ? videoQuality : \"highest\",\n  })\n\n  youtubeVideoWithOptions.pipe(writableVideoFile)\n\n  /*youtubeVideoWithOptions.once(\"response\", () => {\n    starttime = Date.now()\n  })*/\n\n  youtubeVideoWithOptions.on(\"progress\", (chunkLength, downloaded, total) => {\n    const percent = downloaded / total\n    // const downloadedMinutes = (Date.now() - starttime) / 1000 / 60\n\n    // const downloadedPercentage = (percent * 100).toFixed(2)\n    // const downloadedSize = (downloaded / 1024 / 1024).toFixed(2)\n    // const downloadedMBs = (\n    //   downloaded /\n    //   1024 /\n    //   1024\n    // ).toFixed(2)\n    // const totalSize = (total / 1024 / 1024).toFixed(2)\n    // const informationText = `${downloadedPercentage}% downloaded (${downloadedMBs}MB of ${totalSize}MB)\\nestimated time left: ${(downloadedMinutes / percent -downloadedMinutes).toFixed(2)}minutes`\n\n    onProgress({\n      progress: percent * 100,\n    })\n\n    onChangeOverallProgress(percent * 100)\n  })\n\n  youtubeVideoWithOptions.on(\"end\", () => onComplete(fullVideoPath))\n\n  return {\n    cancel: () => {\n      youtubeVideoWithOptions.destroy()\n    },\n  }\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  height: 36,\n  width: \"100%\",\n  boxSizing: \"border-box\",\n  position: \"relative\",\n  marginTop: 8,\n  marginBottom: 8,\n  backgroundColor: colors.blue[50],\n})\nconst Text = styled(\"div\")({\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  paddingTop: 4,\n  fontSize: 18,\n  textAlign: \"center\",\n  fontWeight: \"bold\",\n})\nconst Bar = styled(\"div\")({\n  position: \"absolute\",\n  left: 0,\n  bottom: 0,\n  top: 0,\n  backgroundColor: colors.blue[300],\n})\n\nexport default ({ progress }) => {\n  return (\n    <Container>\n      <Bar style={{ right: 100 - progress + \"%\" }} />\n      <Text>{Math.floor(progress)}%</Text>\n    </Container>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ProgressBar from \"../ProgressBar\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\n\nconst ProgressContainer = styled(\"div\")({\n  width: \"100%\",\n  height: \"100%\",\n})\n\nconst TotalPercentageWrapper = styled(\"div\")({\n  flexDirection: \"row\",\n  width: \"100%\",\n  display: \"flex\",\n  justifyContent: \"space-between\",\n})\n\nconst Progress = ({ unitProgress, overallProgress, completedVideoTitles }) => {\n  return (\n    <ProgressContainer>\n      <ProgressBar progress={overallProgress} />\n      <ProgressBar progress={unitProgress.progress} />\n\n      <h3>Downloading: {unitProgress.title}</h3>\n      <ExpansionPanel>\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n          <TotalPercentageWrapper>\n            <h3>Downloaded Video Titles</h3>\n          </TotalPercentageWrapper>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <ul>\n            {completedVideoTitles && completedVideoTitles.length > 0\n              ? completedVideoTitles\n              : null}\n          </ul>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    </ProgressContainer>\n  )\n}\n\nexport default Progress\n","const getYoutubeVideoInformation = async (\n  remote,\n  splittedURLsArray,\n  progressCallback = () => null\n) => {\n  const ytdl = remote.require(\"ytdl-core\")\n  const checkedVideos = []\n  if (splittedURLsArray.length > 0) {\n    for (let i = 0; i < splittedURLsArray.length; i++) {\n      const url = splittedURLsArray[i]\n      const video = await new Promise((resolve, reject) => {\n        ytdl.getBasicInfo(url, (err, info) => {\n          if (info && !err) {\n            resolve({\n              url,\n              title: info.title,\n            })\n          } else {\n            const errorText = `Error with video at \"${url}\"\\n\\n${err.toString()}`\n            reject(new Error(errorText))\n          }\n        })\n      })\n      checkedVideos.push(video)\n      progressCallback({\n        progress: (i / (splittedURLsArray.length - 1)) * 100,\n        text: \"Inspecting Video Information...\",\n      })\n    }\n  }\n  return checkedVideos\n}\n\nexport default getYoutubeVideoInformation\n","const splitURLsFromTextArea = (stringURLs) => {\n  const urlsHasHTTPS = []\n  const splittedURLsByNewLines = stringURLs.split(\"\\n\")\n  for (const url of splittedURLsByNewLines) {\n    if (url.includes(\"https://\")) {\n      urlsHasHTTPS.push(url)\n    }\n  }\n  return urlsHasHTTPS\n}\n\nexport default splitURLsFromTextArea\n","import React, { useState, useRef } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport useElectron from \"../../utils/use-electron\"\nimport Select from \"react-select\"\nimport downloadYoutubeVideo from \"./download-youtube-video\"\nimport Progress from \"./progress\"\nimport getYoutubeVideoInformation from \"./get-youtube-video-information\"\nimport splitURLsFromTextArea from \"./split-urls-from-text-area\"\n\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\n\nconst SelectVideoQualityHeader = styled(\"h3\")({\n  lineHeight: 0,\n  textAlign: \"center\",\n})\n\nconst SelectVideoQuality = styled(\"div\")({\n  width: \"100%\",\n  marginBottom: 8,\n  paddingBottom: 4,\n})\n\nconst ErrorText = styled(\"pre\")({\n  whiteSpace: \"pre-wrap\",\n  color: \"#f00\",\n})\n\nconst LoadingText = styled(\"h2\")({\n  width: \"100%\",\n  height: \"100%\",\n  margin: \"auto auto\",\n  textAlign: \"center\",\n})\n\nconst CompletedVideoTitle = styled(\"h3\")({\n  textDecoration: \"line-through\",\n  lineHeight: 0,\n})\n\nconst qualityOptions = [\n  { value: \"136\", label: \"720p\" },\n  { value: \"135\", label: \"480p\" },\n  { value: \"lowestvideo\", label: \"Lowest Video Only\" },\n  // TODO these did not seem to work in a local test (missing video)\n  // { value: \"lowest\", label: \"lowest\" },\n  // { value: \"highest\", label: \"Highest\" },\n  { value: \"highestvideo\", label: \"Highest Video Only\" },\n  { value: \"lowestaudio\", label: \"Lowest Audio Only\" },\n  { value: \"highestaudio\", label: \"Highest Audio Only\" },\n]\n\nconst ImportFromYoutubeUrls = ({ open, onClose, onAddSamples }) => {\n  const { remote } = useElectron() || {}\n\n  const [urlsFromTextArea, setUrlsFromTextArea] = useState([])\n  const [videoQuality, setVideoQuality] = useState(qualityOptions[0].value)\n  const [error, setError] = useState(null)\n\n  const [unitProgress, setUnitProgress] = useState({ progress: 0 })\n  const [overallProgress, setOverallProgress] = useState(0)\n  const [isDownloading, setIsDownloading] = useState(false)\n  const [completedVideoTitles, setCompletedVideoTitles] = useState(null)\n\n  const cancelRef = useRef()\n\n  const setDefaultState = async () => {\n    setUnitProgress({ progress: 0, title: \"\" })\n    setOverallProgress(0)\n    setIsDownloading(false)\n  }\n\n  const closeDialog = async () => {\n    await setDefaultState()\n    onClose()\n  }\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={closeDialog}\n      title=\"Import from Youtube URLs\"\n      actions={[\n        {\n          text: \"Cancel Downloads\",\n          disabled: !isDownloading,\n          onClick: () => {\n            cancelRef.current()\n            setIsDownloading(false)\n          },\n        },\n        {\n          text: \"Download Youtube URLs\",\n          onClick: async () => {\n            setIsDownloading(true)\n            const { canceled, filePaths } = await remote.dialog.showOpenDialog({\n              title: \"Directory to download files to\",\n              buttonLabel: \"Download Files Here\",\n              properties: [\n                \"createDirectory\",\n                \"openDirectory\",\n                \"promptToCreate\",\n              ],\n            })\n\n            if (canceled || !filePaths) return setIsDownloading(false)\n\n            const downloadPath = filePaths[0]\n\n            const youtubeVideoInfos = await getYoutubeVideoInformation(\n              remote,\n              urlsFromTextArea,\n              ({ progress, text }) => {\n                setUnitProgress({ progress })\n              }\n            ).catch((errorMessage) => {\n              console.error(errorMessage.stack)\n              setError(errorMessage.toString())\n              return null\n            })\n            if (!youtubeVideoInfos) return setIsDownloading(false)\n\n            const completedVideoPaths = []\n            const completedVideoTitlesArray = []\n\n            const youtubeVideosCount = youtubeVideoInfos.length\n\n            for (let i = 0; i < youtubeVideosCount; i++) {\n              const youtubeVideoInfo = youtubeVideoInfos[i]\n              const videoPath = await new Promise((resolve, reject) => {\n                const { cancel } = downloadYoutubeVideo({\n                  remote,\n                  downloadPath,\n                  youtubeUrl: youtubeVideoInfo.url,\n                  title: youtubeVideoInfo.title,\n                  videoQuality,\n                  onChangeOverallProgress: (currentProgress) =>\n                    setOverallProgress(\n                      ((completedVideoTitlesArray.length * 100 +\n                        currentProgress) /\n                        (youtubeVideosCount * 100)) *\n                        100\n                    ),\n                  onProgress: ({ progress, text }) =>\n                    setUnitProgress({\n                      progress,\n                      title: youtubeVideoInfo.title,\n                      progressText: text,\n                    }),\n                  onComplete: (filePath) => resolve(filePath),\n                })\n                cancelRef.current = cancel\n              })\n\n              completedVideoTitlesArray.push(\n                <li key={i + youtubeVideoInfo.title}>\n                  <CompletedVideoTitle>\n                    {youtubeVideoInfo.title}\n                  </CompletedVideoTitle>\n                </li>\n              )\n              setCompletedVideoTitles(completedVideoTitlesArray)\n\n              completedVideoPaths.push(videoPath)\n            }\n\n            onAddSamples(\n              completedVideoPaths.map((videoPath) => ({\n                videoUrl: `file://${videoPath}`,\n              }))\n            )\n\n            setIsDownloading(false)\n          },\n          disabled: isDownloading,\n        },\n      ]}\n    >\n      {error && <ErrorText>{error}</ErrorText>}\n      {isDownloading &&\n      ((unitProgress && unitProgress.progress && unitProgress.progress > 0) ||\n        (completedVideoTitles &&\n          Array.isArray(completedVideoTitles) === true &&\n          completedVideoTitles.length > 0)) ? (\n        <Progress\n          unitProgress={unitProgress}\n          completedVideoTitles={completedVideoTitles}\n          overallProgress={overallProgress}\n        />\n      ) : isDownloading === true ? (\n        <LoadingText>Information is Loading</LoadingText>\n      ) : null}\n      {!isDownloading && (\n        <React.Fragment>\n          <SelectVideoQuality>\n            <SelectVideoQualityHeader>\n              Select Video Quality\n            </SelectVideoQualityHeader>\n            <Select\n              defaultValue={qualityOptions[0]}\n              options={qualityOptions}\n              onChange={({ value }) => setVideoQuality(value)}\n            />\n          </SelectVideoQuality>\n          <TextArea\n            onChange={(e, v) => {\n              setUrlsFromTextArea(splitURLsFromTextArea(e.target.value))\n            }}\n            placeholder={\"Paste Youtube URLs here\\nOne URL per line\"}\n          />\n        </React.Fragment>\n      )}\n    </SimpleDialog>\n  )\n}\n\nexport default ImportFromYoutubeUrls\n","// @flow weak\n\nconst convertToSamplesObject = (fp) => {\n  const ext = fp.split(\".\").slice(-1)[0].toLowerCase()\n  if ([\"png\", \"jpg\", \"jpeg\"].includes(ext)) {\n    return { imageUrl: `file://${fp}` }\n  }\n  if ([\"pdf\"].includes(ext)) {\n    return { pdfUrl: `file://${fp}` }\n  }\n  if ([\"mp4\", \"webm\", \"mkv\"].includes(ext)) {\n    return { videoUrl: `file://${fp}` }\n  }\n  return null\n}\n\nasync function promptAndGetSamplesLocalDirectory({ electron }) {\n  const {\n    canceled,\n    filePaths: dirPaths,\n  } = await electron.remote.dialog.showOpenDialog({\n    title: \"Select Directory to Import Files\",\n    properties: [\"openDirectory\"],\n  })\n  if (canceled) return\n  const dirPath = dirPaths[0]\n  const fs = electron.remote.require(\"fs\")\n  const path = electron.remote.require(\"path\")\n  return (await fs.promises.readdir(dirPath))\n    .filter((fn) => fn.includes(\".\"))\n    .map((fileName) => path.join(dirPath, fileName))\n    .map(convertToSamplesObject)\n    .filter(Boolean)\n}\n\nexport default promptAndGetSamplesLocalDirectory\n","// @flow weak\n\nimport React, { useState, createContext } from \"react\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport AssignmentReturnedIcon from \"@material-ui/icons/AssignmentReturned\"\nimport CreateNewFolderIcon from \"@material-ui/icons/CreateNewFolder\"\nimport TextFieldsIcon from \"@material-ui/icons/TextFields\"\nimport DescriptionIcon from \"@material-ui/icons/Description\"\nimport PetsIcon from \"@material-ui/icons/Pets\"\nimport * as colors from \"@material-ui/core/colors\"\nimport PasteUrlsDialog from \"../PasteUrlsDialog\"\nimport ImportFromS3Dialog from \"../ImportFromS3Dialog\"\nimport ImportTextSnippetsDialog from \"../ImportTextSnippetsDialog\"\nimport useElectron from \"../../utils/use-electron\"\nimport classnames from \"classnames\"\nimport S3Icon from \"./S3Icon\"\nimport isEmpty from \"../../utils/isEmpty\"\nimport { setIn } from \"seamless-immutable\"\nimport useEventCallback from \"use-event-callback\"\nimport ImportFromGoogleDriveDialog from \"../ImportFromGoogleDriveDialog\"\nimport ImportUDTFileDialog from \"../ImportUDTFileDialog\"\nimport ImportToyDataset from \"../ImportToyDatasetDialog\"\nimport ImportFromYoutubeUrls from \"../ImportFromYoutubeUrls\"\nimport { FaGoogleDrive, FaYoutube } from \"react-icons/fa\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport promptAndGetSamplesFromLocalDirectory from \"./prompt-and-get-samples-from-local-directory.js\"\n\nconst ButtonBase = styled(MuiButton)({\n  width: 240,\n  height: 140,\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  \"&.disabled\": {\n    backgroundColor: colors.grey[200],\n  },\n  margin: 8,\n  \"& .icon\": {\n    width: 48,\n    height: 48,\n    color: colors.grey[600],\n    \"&.disabled\": {\n      color: colors.grey[400],\n    },\n  },\n})\n\nconst DesktopOnlyText = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  \"&.disabled\": {\n    color: colors.grey[500],\n  },\n})\n\nconst SelectDialogContext = createContext()\n\nconst Button = ({\n  Icon,\n  desktopOnly,\n  isDesktop,\n  children,\n  dialog,\n  authConfiguredOnly,\n  authConfig,\n  signedInOnly,\n  user,\n}) => {\n  const posthog = usePosthog()\n  const disabled = desktopOnly\n    ? !isDesktop\n    : authConfiguredOnly\n    ? signedInOnly\n      ? isEmpty(user)\n      : isEmpty(authConfig)\n    : false\n  return (\n    <SelectDialogContext.Consumer>\n      {({ onChangeDialog }) => {\n        return (\n          <ButtonBase\n            onClick={() => {\n              posthog.capture(\"import_button_clicked\", {\n                import_button: dialog,\n              })\n              onChangeDialog(dialog)\n            }}\n            className={classnames({ disabled })}\n            variant=\"outlined\"\n            disabled={disabled}\n          >\n            <div>\n              <Icon className={classnames(\"icon\", { disabled })} />\n              <div>{children}</div>\n              {desktopOnly && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  DESKTOP ONLY\n                </DesktopOnlyText>\n              )}\n              {authConfiguredOnly && isEmpty(authConfig) && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  AUTH MUST BE CONFIGURED\n                </DesktopOnlyText>\n              )}\n              {signedInOnly && isEmpty(user) && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  MUST BE SIGNED IN\n                </DesktopOnlyText>\n              )}\n            </div>\n          </ButtonBase>\n        )\n      }}\n    </SelectDialogContext.Consumer>\n  )\n}\n\nexport default ({\n  file,\n  oha,\n  onChangeFile,\n  onChangeOHA,\n  isDesktop,\n  authConfig,\n  user,\n}) => {\n  const [selectedDialog, changeDialog] = useState()\n  const electron = useElectron()\n  const onChangeDialog = async (dialog) => {\n    switch (dialog) {\n      case \"upload-directory\": {\n        if (!electron) return\n        const localSamples = await promptAndGetSamplesFromLocalDirectory({\n          electron,\n        })\n        onChangeOHA(\n          setIn(oha, [\"samples\"], (oha.samples || []).concat(localSamples)),\n          true\n        )\n        return\n      }\n      default: {\n        return changeDialog(dialog)\n      }\n    }\n  }\n\n  const closeDialog = () => changeDialog(null)\n\n  const onAddSamples = useEventCallback(async (samplesToAdd) => {\n    onChangeOHA(\n      setIn(oha, [\"samples\"], (oha.samples || []).concat(samplesToAdd))\n    )\n    closeDialog()\n  })\n\n  return (\n    <SelectDialogContext.Provider value={{ onChangeDialog }}>\n      <div>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"paste-image-urls\"\n          Icon={AssignmentReturnedIcon}\n          authConfig={authConfig}\n          signedInOnly={false}\n          user={user}\n        >\n          Paste URLs\n        </Button>\n        <Button\n          desktopOnly\n          isDesktop={isDesktop}\n          dialog=\"upload-directory\"\n          Icon={CreateNewFolderIcon}\n          authConfig={authConfig}\n          signedInOnly={false}\n          user={user}\n        >\n          Files from Directory\n        </Button>\n        <Button dialog=\"import-text-snippets\" Icon={TextFieldsIcon}>\n          Import Text Snippets\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"import-toy-dataset\"\n          Icon={PetsIcon}\n        >\n          Import Toy Dataset\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"youtube-urls\"\n          Icon={FaYoutube}\n          desktopOnly\n        >\n          Import from Youtube URLs\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"import-from-s3\"\n          Icon={S3Icon}\n          authConfiguredOnly={true}\n          authConfig={authConfig}\n          signedInOnly={true}\n          user={user}\n        >\n          Import from S3\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"google-drive-file-picker\"\n          Icon={FaGoogleDrive}\n          onAddSamples={onAddSamples}\n        >\n          Import from Google Drive\n        </Button>\n        <Button dialog=\"import-csv-json\" Icon={DescriptionIcon}>\n          Import from CSV / JSON\n        </Button>\n        <ImportTextSnippetsDialog\n          open={selectedDialog === \"import-text-snippets\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <PasteUrlsDialog\n          open={selectedDialog === \"paste-image-urls\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportFromS3Dialog\n          file={file}\n          authConfig={authConfig}\n          open={selectedDialog === \"import-from-s3\"}\n          onChangeFile={onChangeFile}\n          onClose={closeDialog}\n          user={user}\n          onAddSamples={onAddSamples}\n        />\n        <ImportFromGoogleDriveDialog\n          open={selectedDialog === \"google-drive-file-picker\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportToyDataset\n          open={selectedDialog === \"import-toy-dataset\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportFromYoutubeUrls\n          open={selectedDialog === \"youtube-urls\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportUDTFileDialog\n          open={selectedDialog === \"import-csv-json\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n      </div>\n    </SelectDialogContext.Provider>\n  )\n}\n","// @flow\n\nexport default () => {\n  if (window.require) {\n    return Boolean(window.require(\"electron\"))\n  }\n  return false\n}\n","// @flow weak\n\nimport React from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Box from \"@material-ui/core/Box\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport immutable from \"seamless-immutable\"\n\nconst Code = styled(\"pre\")({\n  fontSize: 8,\n})\n\nconst StyledExpansionPanel = styled(ExpansionPanel)({\n  backgroundColor: colors.grey[100],\n  border: `1px solid ${colors.grey[500]}`,\n  marginTop: 16,\n  marginBottom: 16,\n})\n\nconst StyledExpansionPanelSummary = styled(ExpansionPanelSummary)({\n  fontWeight: \"bold\",\n})\n\nexport default ({ open, onChangeOHA, onClose, oha }) => {\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Transform Video Keyframes\"\n      actions={[\n        {\n          text: \"Transform Video Keyframes\",\n          disabled: !oha.samples,\n          onClick: () => {\n            const samples = oha.samples.flatMap((item, index) => {\n              if (!item.videoUrl) return { data: item, output: item.annotation }\n              if (item.videoUrl && !item.videoFrameAt) {\n                if (!item.annotation) return []\n                if (!item.annotation.keyframes) return []\n                const { keyframes } = item[index].annotation\n                return Object.keys(keyframes).map((kf) => ({\n                  videoUrl: item.videoUrl,\n                  videoFrameAt: parseInt(kf),\n                  annotation: keyframes[kf].regions || [],\n                }))\n              }\n            })\n\n            onChangeOHA(\n              immutable(oha)\n                .setIn(\n                  [\"samples\"],\n                  samples.map((s) => s.data)\n                )\n                .setIn([\"interface\", \"type\"], \"image_segmentation\")\n            )\n          },\n        },\n      ]}\n    >\n      This operation will convert keyframes set on a video into individual image\n      segmentation frames. Your interface type will change from\n      \"video_segmentation\" into \"image_segmentation\". This is sometimes helpful\n      when preparing video data for a computer vision model.\n      {!oha.samples && (\n        <b>\n          <br />\n          <br />\n          You need to label some keyframes to use this.\n        </b>\n      )}\n      <StyledExpansionPanel>\n        <StyledExpansionPanelSummary>Details</StyledExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <Box display=\"flex\">\n            <Box>\n              <Code>\n                {`{\n  \"interface\": { \"type\": \"video_segmentation\" },\n  samples: [\n    {\n      videoUrl: \"https://example.com/video1.mp4\"\n    }\n  ],\n  taskOutput: [\n    {\n      keyframes: {\n        \"0\": { /* labels */ },\n        \"1000\": { /* labels */ },\n        \"2000\": { /* labels */ }\n      }\n    }\n  ]\n}`}\n              </Code>\n            </Box>\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <ArrowForwardIcon\n                style={{ color: colors.grey[500], width: 48, height: 48 }}\n              />\n            </Box>\n            <Box>\n              <Code>\n                {`{\n  \"interface\": { \"type\": \"image_segmentation\" },\n  samples: [\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 0\n    },\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 1000\n    },\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 2000\n    }\n  ],\n  taskOutput: [\n    { /* labels */ },\n    { /* labels */ },\n    { /* labels */ }\n  ]\n}`}\n              </Code>\n            </Box>\n          </Box>\n        </ExpansionPanelDetails>\n      </StyledExpansionPanel>\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useElectron from \"../../utils/use-electron\"\nimport ProgressBar from \"../ProgressBar\"\nimport md5 from \"js-md5\"\nimport path from \"path\"\nimport { setIn } from \"seamless-immutable\"\n\nconst ErrorBox = styled(\"pre\")({\n  color: \"red\",\n  whiteSpace: \"prewrap\",\n  fontSize: 11,\n})\n\nfunction downloadFile(urlToDownload, directoryPath, remote) {\n  const fileName = `sample_${md5(urlToDownload).slice(0, 6)}__${urlToDownload\n    .split(\"/\")\n    .slice(-1)[0]\n    .replace(/[^a-zA-Z0-9_\\-.]/g, \"\")}`\n  const downloadPath = path.join(directoryPath, fileName)\n  if (remote.require(\"fs\").existsSync(downloadPath)) return downloadPath\n  return new Promise((resolve, reject) => {\n    remote.require(\"download-file\")(\n      urlToDownload,\n      {\n        directory: directoryPath,\n        filename: fileName,\n      },\n      (err) => {\n        if (err) return reject(err)\n        return resolve(downloadPath)\n      }\n    )\n  })\n}\n\nexport default ({ open, onChangeOHA, onClose, oha }) => {\n  const { remote } = useElectron() || {}\n  const [progress, changeProgress] = useState(null)\n  const [errors, changeErrors] = useState(\"\")\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Download URLs\"\n      actions={[\n        {\n          text: \"Download URLs\",\n          disabled: progress !== null,\n          onClick: async () => {\n            changeProgress(0)\n            const {\n              cancelled,\n              filePaths: [directoryPath] = [null],\n            } = await remote.dialog.showOpenDialog({\n              title: \"Directory to download files to\",\n              buttonLabel: \"Download Files Here\",\n              properties: [\n                \"createDirectory\",\n                \"openDirectory\",\n                \"promptToCreate\",\n              ],\n            })\n            if (cancelled || !directoryPath) {\n              changeProgress(null)\n              return\n            }\n\n            const newSamples = [...oha.samples]\n            let errors = \"\"\n\n            // Iterate over each task datum and download the url, then convert\n            // the path to a filesystem path\n            for (let i = 0; i < oha.samples.length; i++) {\n              const td = oha.samples[i]\n              let urlKey\n              if (td.imageUrl) urlKey = \"imageUrl\"\n              if (td.videoUrl) urlKey = \"videoUrl\"\n              if (!urlKey || !td[urlKey].startsWith(\"http\")) continue\n              const urlToDownload = td[urlKey]\n              try {\n                const pathToFile = await downloadFile(\n                  urlToDownload,\n                  directoryPath,\n                  remote\n                )\n                newSamples[i] = {\n                  ...td,\n                  [urlKey]: `file://${pathToFile}`,\n                }\n              } catch (e) {\n                errors += `Skipping sample, error downloading samples[${i}] (${urlToDownload}): ${e.toString()} \\n`\n              }\n              changeProgress((i / oha.samples.length) * 100)\n            }\n\n            onChangeOHA(setIn(oha, [\"samples\"], newSamples))\n\n            changeErrors(errors)\n            changeProgress(100)\n          },\n        },\n      ]}\n    >\n      This transformation will download all the urls from your samples to your\n      computer, and change the paths to filenames. This is usually not a good\n      idea if you're collaborating with others, but is very useful if you're\n      about to build a model.\n      <ProgressBar progress={progress || 0} />\n      {errors && <ErrorBox>{errors}</ErrorBox>}\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useElectron from \"../../utils/use-electron\"\nimport ProgressBar from \"../ProgressBar\"\nimport { setIn, without } from \"seamless-immutable\"\n\nconst ErrorBox = styled(\"pre\")({\n  color: \"red\",\n  whiteSpace: \"prewrap\",\n  fontSize: 11,\n})\n\nconst getFfmpegTimeCode = (ms) => {\n  const cs = Math.floor(ms / 10) % 100\n  const ss = Math.floor(ms / 1000) % 60\n  const mn = Math.floor(ms / 1000 / 60) % 60\n  const hr = Math.floor(ms / 1000 / 60 / 60)\n  return [hr, \":\", mn, \":\", ss, \".\", cs]\n    .map((n) => (typeof n === \"number\" ? n.toString().padStart(2, \"0\") : n))\n    .join(\"\")\n}\n\nexport default ({ open, onChangeOHA, onClose, oha }) => {\n  const { remote } = useElectron() || {}\n  const [progress, changeProgress] = useState(null)\n  const [errors, changeErrors] = useState(\"\")\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Convert Video Frames to Images\"\n      actions={[\n        {\n          text: \"Convert Video Frames to Images\",\n          disabled: progress !== null,\n          onClick: async () => {\n            changeProgress(0)\n            let errors = \"\"\n            const pathToFfmpeg = remote.require(\"ffmpeg-static\")\n            if (!pathToFfmpeg) {\n              changeErrors(\n                \"There was an issue using ffmpeg. Please create an issue on the github repository.\"\n              )\n            }\n\n            const shell = remote.require(\"any-shell-escape\")\n            const { exec } = remote.require(\"child_process\")\n            const newsamples = [...oha.samples]\n            let transformsPerformed = 0\n\n            for (let i = 0; i < oha.samples.length; i++) {\n              const td = oha.samples[i]\n              if (td.videoUrl && td.videoFrameAt !== undefined) {\n                if (td.videoUrl.startsWith(\"http\")) {\n                  errors += `Sample ${i} has a url to a video, videos must be downloaded before extracting frames.`\n                  continue\n                }\n                transformsPerformed++\n\n                const videoPath = td.videoUrl.replace(/^file:\\/\\//, \"\")\n                const imageOutputPath =\n                  videoPath + \"__frameat__\" + td.videoFrameAt + \".jpg\"\n                const ffmpegCommand = shell([\n                  pathToFfmpeg,\n                  \"-y\",\n                  \"-ss\",\n                  getFfmpegTimeCode(td.videoFrameAt),\n                  \"-i\",\n                  videoPath,\n                  \"-frames:v\",\n                  1,\n                  imageOutputPath,\n                ])\n                await new Promise((resolve, reject) => {\n                  exec(ffmpegCommand, { timeout: 5000 }, (err) => {\n                    if (err) return reject(err)\n                    resolve()\n                  })\n                })\n                newsamples[i] = {\n                  ...without(\n                    without(oha.samples[i], \"videoUrl\"),\n                    \"videoFrameAt\"\n                  ),\n                  imageUrl: `file://${imageOutputPath}`,\n                }\n              }\n              changeProgress((i / oha.samples.length) * 100)\n            }\n\n            if (transformsPerformed === 0) {\n              errors +=\n                \"No transforms were performed, do all of your video samples have frames specified? You may need to convert the keyframes to samples.\"\n            }\n\n            onChangeOHA(setIn(oha, [\"samples\"], newsamples))\n\n            changeErrors(errors)\n            changeProgress(100)\n          },\n        },\n      ]}\n    >\n      This transformation will convert samples that reference a video frame into\n      an image. This is a useful step before creating a model. You can only\n      convert videos that are downloaded on your computer. Note: This can take a\n      little while.\n      <ProgressBar progress={progress || 0} />\n      {errors && <ErrorBox>{errors}</ErrorBox>}\n    </SimpleDialog>\n  )\n}\n","const uploadFileToTransferSh = async ({ fileName, fileURL, remote }) => {\n  window.remote = remote // TODO remove\n  const remoteURL = `https://files.universaldatatool.com/${fileName}` ///${hashedFileName}\n\n  const axios = remote.require(\"axios\")\n  const exactFilePath = fileURL.split(\"file://\")[1]\n\n  const fsFileBuffer = remote.require(\"fs\").readFileSync(exactFilePath)\n\n  const uploadedFileURL = await axios\n    .put(remoteURL, fsFileBuffer)\n    .then((response) => {\n      if (response.status === 200) {\n        return response.data\n      }\n    })\n\n  return uploadedFileURL.replace(\n    \"universaldatatool.com/\",\n    \"universaldatatool.com/get/\"\n  )\n}\n\nexport default uploadFileToTransferSh\n","const splitFileNameFromFileURL = (fileURL) => {\n  if (fileURL.startsWith(\"file://\")) {\n    const splittedFullFileName = fileURL.split(\"/\")\n    const fullFileName = splittedFullFileName[splittedFullFileName.length - 1]\n    return fullFileName\n  }\n}\n\nexport default splitFileNameFromFileURL\n","const getFileURLKey = (item) => {\n  if (item.imageUrl) return \"imageUrl\"\n  if (item.videoUrl) return \"videoUrl\"\n  if (item.audioUrl) return \"audioUrl\"\n  return null\n}\n\nexport default getFileURLKey\n","import uploadFileToTransferSh from \"./upload-file-to-transfersh\"\nimport splitFileNameFromFileURL from \"./split-file-name-from-file-url\"\nimport getFileURLKey from \"./get-file-url-key\"\nimport { setIn } from \"seamless-immutable\"\n\n// TODO move to utils directory\nconst idify = (s) =>\n  s\n    .toLowerCase()\n    .replace(/[^a-z0-9]/g, \"_\")\n    .replace(/_+/g, \"_\")\n\nconst transformFileURLsToWebURLs = async ({\n  oha,\n  onChangeOHA,\n  setProgress,\n  remote,\n}) => {\n  const newsamples = []\n\n  const progressUnit = 100 / oha.samples.length\n  for (\n    let samplesIndex = 0;\n    samplesIndex < oha.samples.length;\n    samplesIndex++\n  ) {\n    const samplesItem = oha.samples[samplesIndex]\n\n    const fileURLKey = getFileURLKey(samplesItem)\n\n    if (!fileURLKey) {\n      newsamples.push(samplesItem)\n      continue\n    }\n\n    const fileURL = samplesItem[fileURLKey]\n\n    if (!fileURL.startsWith(\"file://\")) {\n      newsamples.push(samplesItem)\n      continue\n    }\n\n    const halfProgressOfUnit = progressUnit * samplesIndex\n    setProgress(halfProgressOfUnit)\n\n    const fileName = idify(splitFileNameFromFileURL(fileURL))\n\n    const webURLOfUploadedFile = await uploadFileToTransferSh({\n      fileName,\n      fileURL,\n      remote,\n    }).catch((e) => console.warn(e))\n\n    if (!webURLOfUploadedFile) {\n      newsamples.push(samplesItem)\n      continue\n    }\n\n    newsamples.push({\n      ...samplesItem,\n      [fileURLKey]: webURLOfUploadedFile,\n    })\n  }\n  setProgress(100)\n  onChangeOHA(setIn(oha, [\"samples\"], newsamples))\n}\n\nexport default transformFileURLsToWebURLs\n","import React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport transformFileURLsToWebURLs from \"./functions/transform-file-urls-to-web-urls\"\nimport ProgressBar from \"../ProgressBar\"\nimport useElectron from \"../../utils/use-electron\"\n\nconst TransformLocalFilesToWebURLs = ({ open, onClose, oha, onChangeOHA }) => {\n  const [progress, setProgress] = useState(0)\n  const { remote } = useElectron() || {}\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Convert Local Files to Web URLs\"\n      actions={[\n        {\n          text: \"Convert Local Files to Web URLs\",\n          onClick: async () =>\n            await transformFileURLsToWebURLs({\n              oha,\n              onChangeOHA,\n              setProgress,\n              remote,\n            }),\n        },\n      ]}\n    >\n      This transformation will upload your local samples to the cloud Note: This\n      can take a little while.\n      <ProgressBar progress={progress} />\n    </SimpleDialog>\n  )\n}\n\nexport default TransformLocalFilesToWebURLs\n","// @flow weak\n\nimport React, { useState, createContext } from \"react\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ImageIcon from \"@material-ui/icons/Image\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport * as colors from \"@material-ui/core/colors\"\nimport useIsDesktop from \"../../utils/use-is-desktop\"\nimport classnames from \"classnames\"\nimport OndemandVideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport TransformVideoKeyframesDialog from \"../TransformVideoKeyframesDialog\"\nimport DownloadURLsDialog from \"../DownloadURLsDialog\"\nimport GetAppIcon from \"@material-ui/icons/GetApp\"\nimport CollectionsIcon from \"@material-ui/icons/Collections\"\nimport TransformVideoFramesToImagesDialog from \"../TransformVideoFramesToImagesDialog\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport TransformLocalFilesToWebURLs from \"../TransformLocalFilesToWebURLs\"\n\nimport ComputerIcon from \"@material-ui/icons/Computer\"\nimport LanguageIcon from \"@material-ui/icons/Language\"\n\nconst ButtonBase = styled(MuiButton)({\n  width: 240,\n  height: 140,\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  \"&.disabled\": {\n    backgroundColor: colors.grey[200],\n  },\n  margin: 8,\n  \"& .icon\": {\n    width: 36,\n    height: 36,\n    color: colors.grey[600],\n    \"&.disabled\": {\n      color: colors.grey[400],\n    },\n  },\n})\n\nconst DesktopOnlyText = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  \"&.disabled\": {\n    color: colors.grey[500],\n  },\n})\n\nconst SelectDialogContext = createContext()\n\nconst Button = ({ Icon1, Icon2, desktopOnly, children, dialog, disabled }) => {\n  const isDesktop = useIsDesktop()\n  const posthog = usePosthog()\n  disabled =\n    disabled === undefined ? (desktopOnly ? !isDesktop : false) : disabled\n  return (\n    <SelectDialogContext.Consumer>\n      {({ onChangeDialog }) => {\n        return (\n          <ButtonBase\n            onClick={() => {\n              onChangeDialog(dialog)\n              posthog.capture(\"transform_button_clicked\", {\n                transform_button: dialog,\n              })\n            }}\n            className={classnames({ disabled })}\n            variant=\"outlined\"\n            disabled={disabled}\n          >\n            <div>\n              {Icon1 && Icon2 ? (\n                <>\n                  <Icon1 className={classnames(\"icon\", { disabled })} />\n                  <ArrowForwardIcon\n                    className={classnames(\"icon\", { disabled })}\n                  />\n                  <Icon2 className={classnames(\"icon\", { disabled })} />\n                </>\n              ) : (\n                <Icon1 className={classnames(\"icon\", { disabled })} />\n              )}\n              <div>{children}</div>\n              {desktopOnly && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  DESKTOP ONLY\n                </DesktopOnlyText>\n              )}\n            </div>\n          </ButtonBase>\n        )\n      }}\n    </SelectDialogContext.Consumer>\n  )\n}\n\nexport default ({ oha, onChangeOHA }) => {\n  const [selectedDialog, changeDialog] = useState()\n  const onChangeDialog = async (dialog) => {\n    switch (dialog) {\n      case \"convert-keyframes-to-samples\": {\n        break\n      }\n      default: {\n        return changeDialog(dialog)\n      }\n    }\n  }\n  const closeDialog = () => changeDialog(null)\n  return (\n    <SelectDialogContext.Provider value={{ onChangeDialog }}>\n      <div>\n        <Button\n          disabled={oha.interface.type !== \"video_segmentation\"}\n          dialog=\"convert-keyframes-to-samples\"\n          Icon1={OndemandVideoIcon}\n          Icon2={CollectionsIcon}\n        >\n          Convert Video Keyframes to Samples\n        </Button>\n        <Button\n          desktopOnly\n          dialog=\"convert-local-files-to-web-urls\"\n          Icon1={ComputerIcon}\n          Icon2={LanguageIcon}\n        >\n          Transform Local Files to Web URLs\n        </Button>\n        <Button desktopOnly dialog=\"download-urls\" Icon1={GetAppIcon}>\n          Download URLs\n        </Button>\n        <Button\n          desktopOnly\n          dialog=\"convert-video-frames-to-images\"\n          Icon1={OndemandVideoIcon}\n          Icon2={ImageIcon}\n        >\n          Convert Video Frames to Images\n        </Button>\n        <TransformVideoKeyframesDialog\n          open={selectedDialog === \"convert-keyframes-to-samples\"}\n          onClose={closeDialog}\n          oha={oha}\n          onChangeOHA={(...args) => {\n            onChangeOHA(...args)\n            closeDialog()\n          }}\n        />\n        <DownloadURLsDialog\n          open={selectedDialog === \"download-urls\"}\n          onClose={closeDialog}\n          oha={oha}\n          desktopOnly\n          onChangeOHA={onChangeOHA}\n        ></DownloadURLsDialog>\n        <TransformLocalFilesToWebURLs\n          oha={oha}\n          onClose={closeDialog}\n          onChangeOHA={onChangeOHA}\n          desktopOnly\n          open={selectedDialog === \"convert-local-files-to-web-urls\"}\n        ></TransformLocalFilesToWebURLs>\n        <TransformVideoFramesToImagesDialog\n          open={selectedDialog === \"convert-video-frames-to-images\"}\n          onClose={closeDialog}\n          oha={oha}\n          desktopOnly\n          onChangeOHA={onChangeOHA}\n        ></TransformVideoFramesToImagesDialog>\n      </div>\n    </SelectDialogContext.Provider>\n  )\n}\n","// @flow weak\n\nimport React, { useMemo, useState } from \"react\"\nimport DataTable from \"react-data-table-component\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport SampleGrid from \"../SampleGrid\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport AppsIcon from \"@material-ui/icons/Apps\"\nimport SlideshowIcon from \"@material-ui/icons/Slideshow\"\nimport TableChartIcon from \"@material-ui/icons/TableChart\"\nimport Box from \"@material-ui/core/Box\"\nimport ImportIcon from \"@material-ui/icons/Publish\"\nimport ImportPage from \"../ImportPage\"\nimport TransformPage from \"../TransformPage\"\nimport useIsDesktop from \"../../utils/use-is-desktop.js\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  padding: 16,\n})\n\nconst SampleCounter = styled(\"div\")({\n  fontSize: 14,\n  color: colors.grey[600],\n  display: \"flex\",\n  justifyContent: \"flex-end\",\n  alignItems: \"center\",\n  flexGrow: 1,\n})\n\nconst ExpandedRowContainer = styled(\"div\")({\n  padding: 8,\n  border: \"#888 solid 1px\",\n  borderTop: \"none\",\n  borderRadius: 4,\n  borderTopLeftRadius: 0,\n  borderTopRightRadius: 0,\n  boxShadow: \"inset 0 3px 3px rgba(0,0,0,0.2)\",\n})\nconst ExpandedRowTitle = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n})\nconst ExpandedRowCode = styled(\"pre\")({ whiteSpace: \"pre-wrap\", fontSize: 11 })\n\nconst ExpandedRow = ({ data }) => {\n  const { annotation, ...input } = data\n\n  return (\n    <ExpandedRowContainer>\n      <Grid spacing={2} container>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>samples[{data.index}]:</ExpandedRowTitle>\n          <ExpandedRowCode>{JSON.stringify(input, null, \"  \")}</ExpandedRowCode>\n        </Grid>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>samples[{data.index}].annotation:</ExpandedRowTitle>\n          <ExpandedRowCode>\n            {JSON.stringify(annotation, null, \"  \")}\n          </ExpandedRowCode>\n        </Grid>\n      </Grid>\n    </ExpandedRowContainer>\n  )\n}\n\nexport default ({\n  file,\n  oha,\n  openSampleInputEditor,\n  openSampleLabelEditor,\n  deleteSample,\n  onChangeOHA,\n  onChangeFile,\n  authConfig,\n  user,\n}) => {\n  const isDesktop = useIsDesktop()\n  const [currentTab, changeTabState] = useState(\n    (oha.samples || []).length === 0\n      ? \"import\"\n      : window.localStorage.lastSampleTab || \"grid\"\n  )\n  const changeTab = (tab) => {\n    changeTabState(tab)\n    window.localStorage.lastSampleTab = tab\n  }\n  const columns = useMemo(() => {\n    if (!oha.samples) return []\n    const columns = [\n      {\n        name: \"Index\",\n        selector: \"index\",\n        sortable: true,\n      },\n    ]\n    const knownKeys = new Set()\n    for (const td of oha.samples) {\n      for (const key in td) {\n        if (!knownKeys.has(key)) {\n          columns.push({\n            name: key,\n            selector: key,\n          })\n          knownKeys.add(key)\n        }\n      }\n    }\n    columns.push({\n      name: \"Edit\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised onClick={() => openSampleInputEditor(row.index)}>\n          <EditIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    columns.push({\n      name: \"Label\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised onClick={() => openSampleLabelEditor(row.index)}>\n          <BorderColorIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    columns.push({\n      name: \"Delete\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised primary onClick={() => deleteSample(row.index)}>\n          <DeleteIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    return columns\n  }, [oha.samples, deleteSample, openSampleInputEditor, openSampleLabelEditor])\n\n  const data = useMemo(() => {\n    if (!oha.samples) return []\n    return oha.samples.map((td, i) => ({\n      ...td,\n      index: i,\n    }))\n  }, [oha.samples])\n  return (\n    <Container>\n      <Box display=\"flex\">\n        <Tabs value={currentTab} onChange={(e, newTab) => changeTab(newTab)}>\n          <Tab icon={<ImportIcon />} label=\"Import\" value=\"import\" />\n          <Tab icon={<SlideshowIcon />} label=\"Transform\" value=\"transform\" />\n          <Tab icon={<AppsIcon />} label=\"Grid\" value=\"grid\" />\n          <Tab icon={<TableChartIcon />} label=\"Table\" value=\"table\" />\n        </Tabs>\n        <SampleCounter>\n          {(oha.samples || []).length} Samples\n          <br />\n          {(oha.samples || []).filter((s) => s.annotation).length} Labels\n        </SampleCounter>\n      </Box>\n      <Box paddingTop={2} />\n      {currentTab === \"import\" && (\n        <ImportPage\n          file={file}\n          isDesktop={isDesktop}\n          onChangeFile={(file) => onChangeFile(file)}\n          onImportPageShouldExit={() => changeTab(\"grid\")}\n          onChangeOHA={(newOHA) => onChangeOHA(newOHA)}\n          oha={oha}\n          authConfig={authConfig}\n          user={user}\n        />\n      )}\n      {currentTab === \"transform\" && (\n        <TransformPage\n          isDesktop={isDesktop}\n          oha={oha}\n          onChangeOHA={(oha, shouldViewChange) => {\n            onChangeOHA(oha)\n            if (shouldViewChange) {\n              changeTab(\"grid\")\n            }\n          }}\n        />\n      )}\n      {currentTab === \"grid\" && (\n        <SampleGrid\n          count={(oha.samples || []).length}\n          samples={oha.samples || []}\n          completed={(oha.samples || []).filter((s) => s.annotation)}\n          onClick={(sampleIndex) => {\n            openSampleLabelEditor(sampleIndex)\n          }}\n        />\n      )}\n      {currentTab === \"table\" && (\n        <DataTable\n          title=\"Samples\"\n          expandableRowsComponent={<ExpandedRow />}\n          expandableRows\n          dense\n          columns={columns}\n          data={data}\n          pagination\n          paginationPerPage={10}\n          paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n        />\n      )}\n    </Container>\n  )\n}\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"regionTypesAllowed\",\n      title: \"Region Types Allowed\",\n      description: \"What types of regions can be drawn on the image.\",\n      type: \"multiple-dropdown\",\n      choices: [\"bounding-box\", \"polygon\", \"point\"],\n    },\n    {\n      name: \"multipleRegions\",\n      title: \"Can multiple regions be created?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"multipleRegionLabels\",\n      title: \"Multiple Region Labels Allowed?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Available Labels\",\n      description:\n        \"If you're labeling regions on an image, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multipleRegions: Boolean(\n        iface.multipleRegions || iface.multipleRegions === undefined\n      ),\n      multipleRegionLabels: Boolean(iface.multipleRegionLabels),\n      regionTypesAllowed: iface.regionTypesAllowed,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n    }),\n    [iface]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"multiple\",\n      title: \"Allow multiple classifications per image?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      description: \"Classifications or tags to be labeled.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      allowMultiple: false,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n    }),\n    [iface.labels]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"multiple\",\n      title: \"Allow Multiple Classifications\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      description: \"Classifications or tags to be labeled.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        { cellType: \"text\", name: \"displayName\", title: \"Display Name\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multiple: false,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, displayName: a, description: a } : a\n        ) || [],\n    }),\n    [iface.labels]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","import React from \"react\"\nimport Survey from \"material-survey/components/Survey\"\n\n// https://gist.github.com/DimazzzZ/4e2a5a6c8c6f67900091#gistcomment-2021620\nconst languages = [\n  { value: \"ab\", text: \"Abkhazian\" },\n  { value: \"aa\", text: \"Afar\" },\n  { value: \"af\", text: \"Afrikaans\" },\n  { value: \"ak\", text: \"Akan\" },\n  { value: \"sq\", text: \"Albanian\" },\n  { value: \"am\", text: \"Amharic\" },\n  { value: \"ar\", text: \"Arabic\" },\n  { value: \"an\", text: \"Aragonese\" },\n  { value: \"hy\", text: \"Armenian\" },\n  { value: \"as\", text: \"Assamese\" },\n  { value: \"av\", text: \"Avaric\" },\n  { value: \"ae\", text: \"Avestan\" },\n  { value: \"ay\", text: \"Aymara\" },\n  { value: \"az\", text: \"Azerbaijani\" },\n  { value: \"bm\", text: \"Bambara\" },\n  { value: \"ba\", text: \"Bashkir\" },\n  { value: \"eu\", text: \"Basque\" },\n  { value: \"be\", text: \"Belarusian\" },\n  { value: \"bn\", text: \"Bengali\" },\n  { value: \"bh\", text: \"Bihari languages\" },\n  { value: \"bi\", text: \"Bislama\" },\n  { value: \"bs\", text: \"Bosnian\" },\n  { value: \"br\", text: \"Breton\" },\n  { value: \"bg\", text: \"Bulgarian\" },\n  { value: \"my\", text: \"Burmese\" },\n  { value: \"ca\", text: \"Catalan, Valencian\" },\n  { value: \"km\", text: \"Central Khmer\" },\n  { value: \"ch\", text: \"Chamorro\" },\n  { value: \"ce\", text: \"Chechen\" },\n  { value: \"ny\", text: \"Chichewa, Chewa, Nyanja\" },\n  { value: \"zh\", text: \"Chinese\" },\n  { value: \"cu\", text: \"Church Slavonic, Old Bulgarian, Old Church Slavonic\" },\n  { value: \"cv\", text: \"Chuvash\" },\n  { value: \"kw\", text: \"Cornish\" },\n  { value: \"co\", text: \"Corsican\" },\n  { value: \"cr\", text: \"Cree\" },\n  { value: \"hr\", text: \"Croatian\" },\n  { value: \"cs\", text: \"Czech\" },\n  { value: \"da\", text: \"Danish\" },\n  { value: \"dv\", text: \"Divehi, Dhivehi, Maldivian\" },\n  { value: \"nl\", text: \"Dutch, Flemish\" },\n  { value: \"dz\", text: \"Dzongkha\" },\n  { value: \"en\", text: \"English\" },\n  { value: \"eo\", text: \"Esperanto\" },\n  { value: \"et\", text: \"Estonian\" },\n  { value: \"ee\", text: \"Ewe\" },\n  { value: \"fo\", text: \"Faroese\" },\n  { value: \"fj\", text: \"Fijian\" },\n  { value: \"fi\", text: \"Finnish\" },\n  { value: \"fr\", text: \"French\" },\n  { value: \"ff\", text: \"Fulah\" },\n  { value: \"gd\", text: \"Gaelic, Scottish Gaelic\" },\n  { value: \"gl\", text: \"Galician\" },\n  { value: \"lg\", text: \"Ganda\" },\n  { value: \"ka\", text: \"Georgian\" },\n  { value: \"de\", text: \"German\" },\n  { value: \"ki\", text: \"Gikuyu, Kikuyu\" },\n  { value: \"el\", text: \"Greek (Modern)\" },\n  { value: \"kl\", text: \"Greenlandic, Kalaallisut\" },\n  { value: \"gn\", text: \"Guarani\" },\n  { value: \"gu\", text: \"Gujarati\" },\n  { value: \"ht\", text: \"Haitian, Haitian Creole\" },\n  { value: \"ha\", text: \"Hausa\" },\n  { value: \"he\", text: \"Hebrew\" },\n  { value: \"hz\", text: \"Herero\" },\n  { value: \"hi\", text: \"Hindi\" },\n  { value: \"ho\", text: \"Hiri Motu\" },\n  { value: \"hu\", text: \"Hungarian\" },\n  { value: \"is\", text: \"Icelandic\" },\n  { value: \"io\", text: \"Ido\" },\n  { value: \"ig\", text: \"Igbo\" },\n  { value: \"id\", text: \"Indonesian\" },\n  {\n    value: \"ia\",\n    text: \"Interlingua (International Auxiliary Language Association)\",\n  },\n  { value: \"ie\", text: \"Interlingue\" },\n  { value: \"iu\", text: \"Inuktitut\" },\n  { value: \"ik\", text: \"Inupiaq\" },\n  { value: \"ga\", text: \"Irish\" },\n  { value: \"it\", text: \"Italian\" },\n  { value: \"ja\", text: \"Japanese\" },\n  { value: \"jv\", text: \"Javanese\" },\n  { value: \"kn\", text: \"Kannada\" },\n  { value: \"kr\", text: \"Kanuri\" },\n  { value: \"ks\", text: \"Kashmiri\" },\n  { value: \"kk\", text: \"Kazakh\" },\n  { value: \"rw\", text: \"Kinyarwanda\" },\n  { value: \"kv\", text: \"Komi\" },\n  { value: \"kg\", text: \"Kongo\" },\n  { value: \"ko\", text: \"Korean\" },\n  { value: \"kj\", text: \"Kwanyama, Kuanyama\" },\n  { value: \"ku\", text: \"Kurdish\" },\n  { value: \"ky\", text: \"Kyrgyz\" },\n  { value: \"lo\", text: \"Lao\" },\n  { value: \"la\", text: \"Latin\" },\n  { value: \"lv\", text: \"Latvian\" },\n  { value: \"lb\", text: \"Letzeburgesch, Luxembourgish\" },\n  { value: \"li\", text: \"Limburgish, Limburgan, Limburger\" },\n  { value: \"ln\", text: \"Lingala\" },\n  { value: \"lt\", text: \"Lithuanian\" },\n  { value: \"lu\", text: \"Luba-Katanga\" },\n  { value: \"mk\", text: \"Macedonian\" },\n  { value: \"mg\", text: \"Malagasy\" },\n  { value: \"ms\", text: \"Malay\" },\n  { value: \"ml\", text: \"Malayalam\" },\n  { value: \"mt\", text: \"Maltese\" },\n  { value: \"gv\", text: \"Manx\" },\n  { value: \"mi\", text: \"Maori\" },\n  { value: \"mr\", text: \"Marathi\" },\n  { value: \"mh\", text: \"Marshallese\" },\n  { value: \"ro\", text: \"Moldovan, Moldavian, Romanian\" },\n  { value: \"mn\", text: \"Mongolian\" },\n  { value: \"na\", text: \"Nauru\" },\n  { value: \"nv\", text: \"Navajo, Navaho\" },\n  { value: \"nd\", text: \"Northern Ndebele\" },\n  { value: \"ng\", text: \"Ndonga\" },\n  { value: \"ne\", text: \"Nepali\" },\n  { value: \"se\", text: \"Northern Sami\" },\n  { value: \"no\", text: \"Norwegian\" },\n  { value: \"nb\", text: \"Norwegian Bokml\" },\n  { value: \"nn\", text: \"Norwegian Nynorsk\" },\n  { value: \"ii\", text: \"Nuosu, Sichuan Yi\" },\n  { value: \"oc\", text: \"Occitan (post 1500)\" },\n  { value: \"oj\", text: \"Ojibwa\" },\n  { value: \"or\", text: \"Oriya\" },\n  { value: \"om\", text: \"Oromo\" },\n  { value: \"os\", text: \"Ossetian, Ossetic\" },\n  { value: \"pi\", text: \"Pali\" },\n  { value: \"pa\", text: \"Panjabi, Punjabi\" },\n  { value: \"ps\", text: \"Pashto, Pushto\" },\n  { value: \"fa\", text: \"Persian\" },\n  { value: \"pl\", text: \"Polish\" },\n  { value: \"pt\", text: \"Portuguese\" },\n  { value: \"qu\", text: \"Quechua\" },\n  { value: \"rm\", text: \"Romansh\" },\n  { value: \"rn\", text: \"Rundi\" },\n  { value: \"ru\", text: \"Russian\" },\n  { value: \"sm\", text: \"Samoan\" },\n  { value: \"sg\", text: \"Sango\" },\n  { value: \"sa\", text: \"Sanskrit\" },\n  { value: \"sc\", text: \"Sardinian\" },\n  { value: \"sr\", text: \"Serbian\" },\n  { value: \"sn\", text: \"Shona\" },\n  { value: \"sd\", text: \"Sindhi\" },\n  { value: \"si\", text: \"Sinhala, Sinhalese\" },\n  { value: \"sk\", text: \"Slovak\" },\n  { value: \"sl\", text: \"Slovenian\" },\n  { value: \"so\", text: \"Somali\" },\n  { value: \"st\", text: \"Sotho, Southern\" },\n  { value: \"nr\", text: \"South Ndebele\" },\n  { value: \"es\", text: \"Spanish, Castilian\" },\n  { value: \"su\", text: \"Sundanese\" },\n  { value: \"sw\", text: \"Swahili\" },\n  { value: \"ss\", text: \"Swati\" },\n  { value: \"sv\", text: \"Swedish\" },\n  { value: \"tl\", text: \"Tagalog\" },\n  { value: \"ty\", text: \"Tahitian\" },\n  { value: \"tg\", text: \"Tajik\" },\n  { value: \"ta\", text: \"Tamil\" },\n  { value: \"tt\", text: \"Tatar\" },\n  { value: \"te\", text: \"Telugu\" },\n  { value: \"th\", text: \"Thai\" },\n  { value: \"bo\", text: \"Tibetan\" },\n  { value: \"ti\", text: \"Tigrinya\" },\n  { value: \"to\", text: \"Tonga (Tonga Islands)\" },\n  { value: \"ts\", text: \"Tsonga\" },\n  { value: \"tn\", text: \"Tswana\" },\n  { value: \"tr\", text: \"Turkish\" },\n  { value: \"tk\", text: \"Turkmen\" },\n  { value: \"tw\", text: \"Twi\" },\n  { value: \"ug\", text: \"Uighur, Uyghur\" },\n  { value: \"uk\", text: \"Ukrainian\" },\n  { value: \"ur\", text: \"Urdu\" },\n  { value: \"uz\", text: \"Uzbek\" },\n  { value: \"ve\", text: \"Venda\" },\n  { value: \"vi\", text: \"Vietnamese\" },\n  { value: \"vo\", text: \"Volap_k\" },\n  { value: \"wa\", text: \"Walloon\" },\n  { value: \"cy\", text: \"Welsh\" },\n  { value: \"fy\", text: \"Western Frisian\" },\n  { value: \"wo\", text: \"Wolof\" },\n  { value: \"xh\", text: \"Xhosa\" },\n  { value: \"yi\", text: \"Yiddish\" },\n  { value: \"yo\", text: \"Yoruba\" },\n  { value: \"za\", text: \"Zhuang, Chuang\" },\n  { value: \"zu\", text: \"Zulu\" },\n]\n\nconst form = {\n  questions: [\n    {\n      name: \"transcriptionType\",\n      title: \"Transcription Type\",\n      type: \"dropdown\",\n      choices: [\"simple\", \"proper\"],\n    },\n    {\n      name: \"phraseBank\",\n      title: \"Phrase Bank\",\n      description: \"URL of single-column CSV or TXT file with allowed phrases\",\n      type: \"text\",\n    },\n    {\n      name: \"onlyUseWordsInPhraseBank\",\n      title: \"Only Use Words In Phrase Bank\",\n      type: \"boolean\",\n    },\n    {\n      name: \"language\",\n      title: \"Language\",\n      type: \"dropdown\",\n      // https://gist.github.com/DimazzzZ/4e2a5a6c8c6f67900091#gistcomment-2858621\n      choices: languages,\n    },\n    {\n      name: \"description\",\n      title: \"Description\",\n      type: \"multiline-text\",\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      onQuestionChange={(questionId, newValue, answers) => {\n        if (newValue.value) {\n          onChange({ ...iface, [questionId]: newValue.value })\n        } else {\n          onChange({ ...iface, [questionId]: newValue })\n        }\n      }}\n      form={form}\n    />\n  )\n}\n","import React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    // TODO uncomment when description can be seen in the interface somewhere\n    // {\n    //   name: \"description\",\n    //   title: \"Description\",\n    //   type: \"multiline-text\",\n    // },\n    // TODO enable when we support overlap\n    // {\n    //   name: \"overlapAllowed\",\n    //   title: \"Overlap Allowed\",\n    //   type: \"boolean\",\n    // },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      type: \"matrixdynamic\",\n      hasOther: true,\n      columns: [\n        {\n          cellType: \"text\",\n          name: \"id\",\n          title: \"ID\",\n        },\n        {\n          cellType: \"text\",\n          name: \"displayName\",\n          title: \"Display Name\",\n        },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      description: iface.description,\n      overlapAllowed: Boolean(\n        iface.overlapAllowed || iface.overlapAllowed === undefined\n      ),\n      labels: (iface.labels || []).map((column) =>\n        typeof column === \"string\"\n          ? {\n              id: column,\n              displayName: column,\n              description: column,\n            }\n          : column\n      ),\n    }),\n    [iface]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n      defaultAnswers={defaultAnswers}\n    />\n  )\n}\n","// @flow\n\nimport React, { useRef, useState } from \"react\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Menu from \"@material-ui/core/Menu\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Survey from \"material-survey/components/Survey\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { setIn } from \"seamless-immutable\"\n\nconst ButtonsContainer = styled(\"div\")({\n  textAlign: \"right\",\n})\nconst NoQuestions = styled(\"div\")({\n  fontSize: 18,\n  color: colors.grey[500],\n  fontWeight: \"bold\",\n  textAlign: \"center\",\n  padding: 16,\n})\n\nconst Question = styled(\"div\")({\n  position: \"relative\",\n  padding: 16,\n  margin: 16,\n  borderLeft: `4px solid ${colors.blue[400]}`,\n  // backgroundColor: colors.grey[50],\n  borderRadius: 4,\n  paddingRight: 64,\n  \"& .quitButton\": {\n    position: \"absolute\",\n    right: 4,\n    top: 4,\n  },\n  \"& > *\": {\n    margin: 8,\n  },\n})\nconst PreviewHeader = styled(\"div\")({\n  fontSize: 12,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  textTransform: \"uppercase\",\n  margin: 16,\n  marginBottom: 32,\n})\n\nconst StyledButton = styled(Button)({\n  position: \"relative\",\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n  },\n})\n\nexport default ({ iface, onChange }) => {\n  const anchorEl = useRef()\n  const [menuOpen, changeMenuOpen] = useState(false)\n  const { questions = [] } = iface.surveyjs || {}\n  return (\n    <div>\n      {questions.length === 0 ? (\n        <NoQuestions>No Inputs, Click Add Input Below</NoQuestions>\n      ) : (\n        questions.map((q, i) => (\n          <Question key={i}>\n            <div style={{ display: \"flex\" }}>\n              <TextField\n                variant=\"outlined\"\n                label=\"Name / Identifier\"\n                value={q.name || \"\"}\n                onChange={(e) => {\n                  onChange(\n                    setIn(\n                      iface,\n                      [\"surveyjs\", \"questions\", i, \"name\"],\n                      e.target.value\n                    )\n                  )\n                }}\n              />\n              <TextField\n                style={{ marginLeft: 8, flexGrow: 1 }}\n                variant=\"outlined\"\n                label=\"Title / Instruction\"\n                value={q.title || \"\"}\n                onChange={(e) => {\n                  onChange(\n                    setIn(\n                      iface,\n                      [\"surveyjs\", \"questions\", i, \"title\"],\n                      e.target.value\n                    )\n                  )\n                }}\n              />\n            </div>\n            <Grid container>\n              <Grid item xs={6}>\n                {q.choices && (\n                  <TextField\n                    style={{\n                      marginTop: 8,\n                      paddingRight: 8,\n                      boxSizing: \"border-box\",\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    label=\"Choices (One per Line)\"\n                    defaultValue={q.choices.join(\"\\n\") || \"\"}\n                    onChange={(e) => {\n                      onChange(\n                        setIn(\n                          iface,\n                          [\"surveyjs\", \"questions\", i, \"choices\"],\n                          e.target.value.split(\"\\n\")\n                        )\n                      )\n                    }}\n                    multiline\n                    rows={6}\n                  />\n                )}\n              </Grid>\n              <Grid item xs={6}>\n                <PreviewHeader>Preview</PreviewHeader>\n                <Survey\n                  noActions\n                  variant=\"flat\"\n                  key={q}\n                  form={{ questions: [q] }}\n                />\n              </Grid>\n            </Grid>\n            <IconButton\n              className=\"quitButton\"\n              onClick={() => {\n                onChange(\n                  setIn(\n                    iface,\n                    [\"surveyjs\", \"questions\"],\n                    [...questions.slice(0, i), ...questions.slice(i + 1)]\n                  )\n                )\n              }}\n            >\n              <CancelIcon />\n            </IconButton>\n          </Question>\n        ))\n      )}\n      <ButtonsContainer>\n        <StyledButton onClick={(e) => changeMenuOpen(true)} ref={anchorEl}>\n          <AddCircleIcon className=\"icon\" />\n          Add Input\n        </StyledButton>\n      </ButtonsContainer>\n      <Menu\n        anchorEl={anchorEl && anchorEl.current}\n        open={menuOpen}\n        onClose={() => changeMenuOpen(false)}\n      >\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                ((iface.surveyjs || {}).questions || []).concat([\n                  {\n                    name: \"input\" + questions.length,\n                    type: \"text\",\n                    title: \"New Text Input\",\n                  },\n                ])\n              )\n            )\n          }}\n        >\n          Text Input\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.surveyjs.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"radiogroup\",\n                  title: \"New Exclusive Choice Input\",\n                  choices: [\"Yes\", \"Maybe\", \"No\"],\n                })\n              )\n            )\n          }}\n        >\n          Exclusive Choice\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.surveyjs.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"checkbox\",\n                  title: \"New Checkbox Input\",\n                  choices: [\"A\", \"B\", \"C\"],\n                })\n              )\n            )\n          }}\n        >\n          Checkboxes\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                iface.surveyjs.questions.concat({\n                  name: \"input\" + questions.length,\n                  type: \"boolean\",\n                  title: \"New Boolean Input\",\n                })\n              )\n            )\n          }}\n        >\n          Boolean\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"dropdown\",\n                  title: \"New Dropdown Input\",\n                  choices: [\"A\", \"B\", \"C\"],\n                })\n              )\n            )\n          }}\n        >\n          Dropdown / Autocomplete\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                iface.surveyjs.questions.concat([\n                  {\n                    name: \"input\" + questions.length,\n                    type: \"multiple-dropdown\",\n                    title: \"New Multiple Dropdown Input\",\n                    choices: [\"A\", \"B\", \"C\"],\n                  },\n                ])\n              )\n            )\n          }}\n        >\n          Multiple Item Dropdown / Autocomplete\n        </MenuItem>\n      </Menu>\n    </div>\n  )\n}\n","import React from \"react\"\nimport ConfigureInterface from \"../ConfigureInterface\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\"\nimport Button from \"@material-ui/core/Button\"\nimport Box from \"@material-ui/core/Box\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { setIn } from \"seamless-immutable\"\n\nconst Fields = styled(\"div\")({})\nconst StyledExpansionPanel = styled(ExpansionPanel)({\n  marginTop: 16,\n  border: \"2px solid #000\",\n})\nconst StyledButton = styled(Button)({\n  width: \"100%\",\n  margin: 16,\n  marginLeft: 0,\n})\n\nexport default ({ iface, onChange }) => {\n  return (\n    <React.Fragment>\n      <Fields>\n        {(iface.fields || []).map((f, fieldIndex) => (\n          <StyledExpansionPanel key={fieldIndex}>\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n              {f.fieldName}\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>\n              <Box display=\"flex\" flexDirection=\"column\">\n                <TextField\n                  label=\"Field Name\"\n                  value={f.fieldName}\n                  onChange={(e) => {\n                    onChange(\n                      setIn(\n                        [\"fields\", fieldIndex, \"fieldName\"],\n                        e.target.value,\n                        iface\n                      )\n                    )\n                  }}\n                />\n                <ConfigureInterface\n                  isNested\n                  iface={f.interface}\n                  onChange={(newFieldInterface) => {\n                    onChange({\n                      ...iface,\n                      fields: iface.fields.map((field) =>\n                        field.fieldName === f.fieldName\n                          ? { ...f, interface: newFieldInterface }\n                          : field\n                      ),\n                    })\n                  }}\n                />\n                <Button\n                  onClick={() => {\n                    onChange({\n                      ...iface,\n                      fields: iface.fields.filter(\n                        ({ fieldName }) => fieldName !== f.fieldName\n                      ),\n                    })\n                  }}\n                >\n                  Remove Field\n                </Button>\n              </Box>\n            </ExpansionPanelDetails>\n          </StyledExpansionPanel>\n        ))}\n        <StyledButton\n          onClick={() => {\n            onChange(\n              setIn(\n                iface,\n                [\"fields\"],\n                (iface.fields || []).concat({\n                  fieldOrder: (iface.fields || []).length,\n                  fieldName: \"New Field\",\n                  interface: {\n                    type: \"empty\",\n                  },\n                })\n              )\n            )\n          }}\n        >\n          Add New Field\n        </StyledButton>\n      </Fields>\n    </React.Fragment>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst ExplanationTextHeader = styled(\"div\")({\n  textAlign: \"center\",\n  paddingTop: 30,\n  paddingBottom: 50,\n  userSelect: \"none\",\n})\n\nconst ExplanationText = styled(\"h3\")({\n  fontWeight: \"bold\",\n  color: colors.grey[500],\n})\n\nconst GithubLink = styled(\"a\")({\n  color: colors.blue[500],\n})\n\nconst Configure3D = () => {\n  return (\n    <ExplanationTextHeader>\n      <ExplanationText>\n        Hey, this isn't currently available, but if you'd like this\n        functionality please let us know by leaving a thumbs up on{\" \"}\n        <GithubLink\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://github.com/UniversalDataTool/universal-data-tool/issues/20\"\n        >\n          this\n        </GithubLink>{\" \"}\n        github issue.\n      </ExplanationText>\n    </ExplanationTextHeader>\n  )\n}\n\nexport default Configure3D\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"regionTypesAllowed\",\n      title: \"Region Types Allowed\",\n      description: \"What types of regions can be drawn on the image.\",\n      type: \"multiple-dropdown\",\n      choices: [\"bounding-box\", \"polygon\", \"point\"],\n    },\n    {\n      name: \"multipleRegions\",\n      title: \"Can multiple regions be created?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"multipleRegionLabels\",\n      title: \"Multiple Region Labels Allowed?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      description:\n        \"If you're labeling regions on an video frames, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multipleRegions: Boolean(\n        iface.multipleRegions || iface.multipleRegions === undefined\n      ),\n      multipleRegionLabels: Boolean(iface.multipleRegionLabels),\n      regionTypesAllowed: iface.regionTypesAllowed,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n    }),\n    [iface]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","import * as Sentry from \"@sentry/browser\"\n\nSentry.init({\n  dsn: \"https://bc19fbac222243f08f0abaf6d66f2034@sentry.io/5182632\",\n  whitelistUrls: [\"https://universaldatatool.com\", \"^file:?:\"],\n})\n\nexport default Sentry\n","// @flow weak\n\nimport React from \"react\"\nimport Sentry from \"../../utils/sentry.js\"\nimport BadOHA from \"../BadOHA\"\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    console.error(\n      \"The following error occurred when loading a labeling interface:\",\n      error\n    )\n    return {\n      hasError: true,\n      errorString: error.toString(),\n    }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    Sentry.withScope((scope) => {\n      scope.setExtras(errorInfo)\n      const eventId = Sentry.captureException(error)\n      this.setState({ eventId })\n    })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <BadOHA\n          title=\"An error occurred loading the labeling interface\"\n          description={this.state.errorString}\n        />\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","// @flow weak\n\nimport React, { useState, useEffect } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport templates, { templateMap } from \"../StartingPage/templates\"\nimport Button from \"@material-ui/core/Button\"\nimport Box from \"@material-ui/core/Box\"\nimport * as colors from \"@material-ui/core/colors\"\nimport ConfigureImageSegmentation from \"../ConfigureImageSegmentation\"\nimport ConfigureImageClassification from \"../ConfigureImageClassification\"\nimport ConfigureTextClassification from \"../ConfigureTextClassification\"\nimport ConfigureAudioTranscription from \"../ConfigureAudioTranscription\"\nimport ConfigureNLP from \"../ConfigureNLP\"\nimport ConfigureDataEntry from \"../ConfigureDataEntry\"\nimport ConfigureComposite from \"../ConfigureComposite\"\nimport Configure3D from \"../Configure3D\"\nimport ConfigureVideoSegmentation from \"../ConfigureVideoSegmentation\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LabelErrorBoundary from \"../LabelErrorBoundary\"\nimport useEventCallback from \"use-event-callback\"\n\nconst noop = () => {}\n\nconst Container = styled(\"div\")({ padding: 24 })\n\nconst NoOptions = styled(\"div\")({\n  fontSize: 18,\n  textAlign: \"center\",\n  fontWeight: \"bold\",\n  color: colors.grey[500],\n  paddingTop: 30,\n  paddingBottom: 50,\n})\n\nconst TypeButton = styled(Button)({\n  margin: 8,\n  \"& .icon\": {\n    marginRight: 8,\n    color: \"#888\",\n  },\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  \"&.selected\": {\n    backgroundColor: colors.blue[500],\n    color: \"#fff\",\n    \"& .icon\": {\n      color: \"#fff\",\n    },\n  },\n})\n\nexport const Heading = styled(\"div\")({\n  fontWeight: \"bold\",\n  textTransform: \"uppercase\",\n  fontSize: 12,\n  paddingLeft: 8,\n  marginBottom: 8,\n  marginTop: 16,\n  color: colors.grey[700],\n})\n\nconst PreviewContainer = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"space-around\",\n  mouseEvents: \"none\",\n  padding: 16,\n})\nconst PreviewContent = styled(\"div\")({\n  display: \"flex\",\n  width: \"100%\",\n  height: 600,\n})\n\nconst SelectType = ({ currentlySelected, onChange }) => {\n  return templates.map((t) => (\n    <TypeButton\n      key={t.oha.interface.type || \"empty\"}\n      className={currentlySelected === t.oha.interface.type ? \"selected\" : \"\"}\n      variant=\"outlined\"\n      onClick={() => {\n        if (currentlySelected !== t.oha.interface.type) {\n          onChange(t.oha.interface.type)\n        }\n      }}\n    >\n      <t.Icon className=\"icon\" />\n      {t.name}\n    </TypeButton>\n  ))\n}\n\nexport const ConfigureInterface = ({\n  iface = {},\n  onChange: onChangeProp,\n  onClickEditJSON,\n  isNested = false,\n}) => {\n  const [previewChangedTime, changePreviewChangedTime] = useState(0)\n  const [previewLoading, changePreviewLoading] = useState(false)\n  const onChange = useEventCallback((...args) => {\n    changePreviewChangedTime(Date.now())\n    onChangeProp(...args)\n  })\n  useEffect(() => {\n    if (Date.now() - previewChangedTime > 1000) return\n    changePreviewLoading(true)\n    let timeout = setTimeout(() => {\n      changePreviewLoading(false)\n    }, 1000)\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [previewChangedTime])\n  return (\n    <Container>\n      <Heading>Interface Type</Heading>\n      <SelectType\n        currentlySelected={iface.type}\n        onChange={(type) => {\n          onChange(\n            templates\n              .map((t) => t.oha.interface)\n              .find((t) => t.type === type) || {}\n          )\n        }}\n      />\n      <Grid container>\n        <Grid item hidden={isNested} xs={12} lg={6}>\n          <Heading>Preview</Heading>\n          <PreviewContainer>\n            <PreviewContent style={{ opacity: previewLoading ? 0.5 : 1 }}>\n              <LabelErrorBoundary key={previewChangedTime}>\n                <UniversalDataViewer\n                  key={previewChangedTime}\n                  height={600}\n                  onExit={noop}\n                  onSaveTaskOutputItem={noop}\n                  oha={{\n                    interface: iface,\n                    samples: [templateMap[iface.type].oha.samples[0]],\n                  }}\n                />\n              </LabelErrorBoundary>\n            </PreviewContent>\n          </PreviewContainer>\n        </Grid>\n        <Grid item xs={12} lg={isNested ? 12 : 6}>\n          <Heading>Options</Heading>\n          <Box paddingTop={2} />\n          {!iface.type && <NoOptions>Select a Type</NoOptions>}\n          {iface.type === \"image_segmentation\" && (\n            <ConfigureImageSegmentation iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"image_classification\" && (\n            <ConfigureImageClassification iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"composite\" && (\n            <ConfigureComposite iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"data_entry\" && (\n            <ConfigureDataEntry iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"audio_transcription\" && (\n            <ConfigureAudioTranscription iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"text_entity_recognition\" && (\n            <ConfigureNLP iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"text_classification\" && (\n            <ConfigureTextClassification iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"video_segmentation\" && (\n            <ConfigureVideoSegmentation iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"3d_bounding_box\" && (\n            <Configure3D iface={iface} onChange={onChange} />\n          )}\n        </Grid>\n      </Grid>\n    </Container>\n  )\n}\n\nexport default ConfigureInterface\n","// @flow\n\nimport { styled } from \"@material-ui/core/styles\"\n\nexport const PaperContainer = styled(\"div\")({\n  margin: 16,\n  padding: 16,\n  border: \"1px solid #ccc\",\n  borderRadius: 4,\n  boxShadow: \"0px 2px 2px rgba(0,0,0,0.1)\",\n})\n\nexport default PaperContainer\n","// @flow weak\n\nimport React from \"react\"\nimport ConfigureInterface, { Heading } from \"../ConfigureInterface\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport PaperContainer from \"../PaperContainer\"\nimport Box from \"@material-ui/core/Box\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { useUpdate } from \"react-use\"\n\nconst Button = styled(MuiButton)({\n  margin: 8,\n})\n\nexport default ({ oha, onChange, onClickEditJSON, onClearLabelData }) => {\n  const { interface: iface } = oha\n  const forceUpdate = useUpdate()\n  const posthog = usePosthog()\n\n  return (\n    <div>\n      <ConfigureInterface\n        iface={iface}\n        onChange={onChange}\n        onClickEditJSON={onClickEditJSON}\n        isNotNested\n      />\n      <PaperContainer>\n        <Heading>Advanced</Heading>\n        <Box padding={2}>\n          <Button onClick={onClickEditJSON} variant=\"outlined\">\n            Edit JSON\n          </Button>\n          <Button\n            onClick={() => {\n              if (\n                window.confirm(\n                  \"Are you sure you want to delete all your label data? Click OK to delete.\"\n                )\n              ) {\n                onClearLabelData()\n              }\n            }}\n            variant=\"outlined\"\n          >\n            Clear All Labels\n          </Button>\n          <Button\n            variant=\"outlined\"\n            onClick={() => {\n              if (posthog.has_opted_out_capturing()) {\n                posthog.opt_in_capturing()\n              } else {\n                posthog.opt_out_capturing()\n              }\n              forceUpdate()\n            }}\n          >\n            {posthog.has_opted_out_capturing() ? \"Enable\" : \"Disable\"} Telemetry\n          </Button>\n          <Button\n            variant=\"outlined\"\n            onClick={() => {\n              const response = window.prompt(\n                \"Input URL for new collaboration server (empty to use universaldatatool.com):\",\n                window.localStorage.getItem(\"CUSTOM_COLLABORATION_SERVER\") || \"\"\n              )\n              if (response === null) return\n              window.localStorage.setItem(\n                \"CUSTOM_COLLABORATION_SERVER\",\n                response\n              )\n              window.location.reload()\n            }}\n          >\n            Custom Collaboration Server\n          </Button>\n        </Box>\n      </PaperContainer>\n    </div>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport AceEditor from \"react-ace\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nexport default ({ open, sampleIndex, sampleInput, onChange, onClose }) => {\n  const [text, changeText] = useState()\n  const [error, changeError] = useState()\n  useEffect(() => {\n    const newText = JSON.stringify(sampleInput, null, \"  \")\n    if (newText !== text) {\n      changeText(newText)\n      changeError(null)\n    }\n  }, [sampleIndex, sampleInput, text])\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title={`samples[${sampleIndex}]`}\n    >\n      <AceEditor\n        theme=\"github\"\n        mode=\"javascript\"\n        width=\"100%\"\n        value={text}\n        editorProps={{ $blockScrolling: Infinity }}\n        onChange={(t) => {\n          changeText(t)\n          changeError(null)\n          try {\n            onChange(JSON.parse(t))\n          } catch (e) {\n            changeError(e.toString())\n          }\n        }}\n      />\n      <Box color=\"red\">{error}</Box>\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({})\nconst Stat = styled(\"div\")({\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  margin: 16,\n})\nconst Label = styled(\"div\")({\n  fontSize: 14,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n})\nconst Value = styled(\"div\")({\n  fontSize: 32,\n  marginTop: 8,\n})\n\nexport default ({ stats }) => {\n  return (\n    <Container>\n      {stats.map((s) => (\n        <Stat key={s.name}>\n          <Label>{s.name}</Label>\n          <Value>{s.value}</Value>\n        </Stat>\n      ))}\n    </Container>\n  )\n}\n","// @flow\nimport React, { createContext, useContext, useEffect, useReducer } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\nimport classNames from \"classnames\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"flex-start\",\n    pointerEvents: \"none\",\n  },\n  msgBox: {\n    display: \"flex\",\n    backgroundColor: colors.blue[700],\n    fontSize: 12,\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4,\n    boxShadow: \"0px 3px 8px rgba(0,0,0,0.5)\",\n    \"&.warning\": {\n      backgroundColor: colors.orange[700],\n    },\n    \"&.error\": {\n      backgroundColor: colors.red[700],\n    },\n  },\n})\n\nconst REFRESH_INTERVAL = 100\n\nconst ToastContext = createContext()\n\nexport const useToasts = () => {\n  const { addToast } = useContext(ToastContext)\n\n  return { addToast }\n}\n\nexport const ToastProvider = ({ children }) => {\n  const [toasts, changeToasts] = useReducer((state = [], action) => {\n    if (action.type === \"add\") {\n      const fullLife =\n        action.messageType === \"info\"\n          ? 2000\n          : action.messageType === \"warning\"\n          ? 5000\n          : 5000\n\n      return state.concat([\n        {\n          id: Math.random().toString().split(\".\")[1],\n          message: action.message,\n          type: action.messageType,\n          life: fullLife,\n          fullLife,\n        },\n      ])\n    } else if (action.type === \"tick\") {\n      return state\n        .map((msg) => ({\n          ...msg,\n          life: msg.life - REFRESH_INTERVAL,\n        }))\n        .filter((msg) => msg.life > 0)\n    }\n    return state\n  }, [])\n  const c = useStyles()\n\n  useEffect(() => {\n    if (toasts.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeToasts({ type: \"tick\" })\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [toasts])\n\n  const addToast = (message: string, messageType: string = \"info\") =>\n    changeToasts({ type: \"add\", message, messageType })\n\n  return (\n    <>\n      <ToastContext.Provider value={{ toasts, addToast }}>\n        {children}\n      </ToastContext.Provider>\n      <div className={c.root}>\n        {toasts.map((msg) => (\n          <Collapse key={msg.id} in={msg.life < msg.fullLife}>\n            <Fade in={msg.life > 600}>\n              <div className={classNames(c.msgBox, msg.type)}>\n                {msg.message}\n              </div>\n            </Fade>\n          </Collapse>\n        ))}\n      </div>\n    </>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nimport Header from \"../Header\"\nimport AceEditor from \"react-ace\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport EditableTitleText from \"./EditableTitleText.js\"\nimport SamplesView from \"../SamplesView\"\nimport InterfacePage from \"../InterfacePage\"\nimport EditSampleDialog from \"../EditSampleDialog\"\nimport SampleGrid from \"../SampleGrid\"\nimport PaperContainer from \"../PaperContainer\"\nimport Stats from \"../Stats\"\nimport useElectron from \"../../utils/use-electron\"\nimport duration from \"duration\"\nimport useTimeToCompleteSample from \"../../utils/use-time-to-complete-sample.js\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { useToasts } from \"../Toasts\"\nimport { setIn, without } from \"seamless-immutable\"\nimport useEventCallback from \"use-event-callback\"\nimport LabelErrorBoundary from \"../LabelErrorBoundary\"\nimport usePosthog from \"../../utils/use-posthog\"\n\nimport \"brace/mode/javascript\"\nimport \"brace/theme/github\"\n\nconst useStyles = makeStyles({\n  headerButton: {\n    color: \"#fff\",\n  },\n  saveIcon: {\n    marginRight: 4,\n  },\n  editIcon: {\n    marginLeft: 4,\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n})\n\nconst headerTabs = [\"Setup\", \"Samples\", \"Label\"]\n\nexport default ({\n  file,\n  datasetName = \"Universal Data Tool\",\n  oha,\n  content,\n  inSession,\n  url,\n  fileName = \"unnamed\",\n  onChangeOHA = () => null,\n  onChangeFile,\n  onFileDrop,\n  initialMode = \"setup\",\n  authConfig,\n  user,\n  recentItems,\n  selectedBrush = \"complete\",\n}) => {\n  var [valueDisplay, setValueDisplay] = useState(fileName)\n  const c = useStyles()\n  const { addToast } = useToasts()\n  const [mode, changeMode] = useState(initialMode)\n  const [singleSampleOHA, changeSingleSampleOHA] = useState()\n  const [sampleInputEditor, changeSampleInputEditor] = useState({})\n  const [jsonText, changeJSONText] = useState()\n  const { ipcRenderer } = useElectron() || {}\n  const posthog = usePosthog()\n\n  const [\n    timeToCompleteSample,\n    changeSampleTimeToComplete,\n  ] = useTimeToCompleteSample()\n\n  useEffect(() => {\n    if (!ipcRenderer) return\n    const onOpenSettingsPage = () => changeMode(\"settings\")\n    const onOpenSamplesPage = () => changeMode(\"samples\")\n    const onOpenLabelPage = () => changeMode(\"label\")\n    ipcRenderer.on(\"open-settings-page\", onOpenSettingsPage)\n    ipcRenderer.on(\"open-samples-page\", onOpenSamplesPage)\n    ipcRenderer.on(\"open-label-page\", onOpenLabelPage)\n    return () => {\n      ipcRenderer.removeListener(\"open-settings-page\", onOpenSettingsPage)\n      ipcRenderer.removeListener(\"open-samples-page\", onOpenSamplesPage)\n      ipcRenderer.removeListener(\"open-label-page\", onOpenLabelPage)\n    }\n  }, [ipcRenderer])\n\n  useEffect(() => {\n    if (mode === \"json\") {\n      changeJSONText(JSON.stringify(oha, null, \"  \"))\n    }\n    if (mode !== \"label\") {\n      changeSingleSampleOHA(null)\n    }\n    posthog.capture(\"open_editor_tab\", { tab: mode })\n  }, [mode, posthog, changeJSONText, oha])\n\n  useEffect(() => {\n    if (!jsonText || mode !== \"json\") return\n    try {\n      // TODO schema validation etc.\n      onChangeOHA(JSON.parse(jsonText))\n    } catch (e) {}\n  }, [jsonText, mode, onChangeOHA])\n\n  const onChangeTab = useEventCallback((tab) => changeMode(tab.toLowerCase()))\n\n  let percentComplete = 0\n  if (oha.samples && oha.samples.length > 0) {\n    percentComplete =\n      oha.samples\n        .map((s) => s.annotation !== undefined && s.annotation !== null)\n        .filter(Boolean).length / oha.samples.length\n  }\n\n  return (\n    <div className={c.container}>\n      <Header\n        title={\n          inSession ? (\n            <TextField\n              label=\"Share Link\"\n              value={url}\n              variant=\"outlined\"\n              size=\"small\"\n            />\n          ) : (\n            <EditableTitleText\n              label=\"File Name\"\n              onChange={(newName) => {\n                onChangeFile(setIn(file, [\"fileName\"], newName))\n                setValueDisplay(newName)\n              }}\n              value={valueDisplay || \"\"}\n            />\n          )\n        }\n        onChangeTab={onChangeTab}\n        currentTab={mode}\n        tabs={headerTabs}\n      />\n      <div style={{ height: \"100%\", overflowY: \"scroll\" }}>\n        {mode === \"json\" && (\n          <AceEditor\n            theme=\"github\"\n            mode=\"javascript\"\n            width=\"100%\"\n            value={jsonText || \"\"}\n            editorProps={{ $blockScrolling: Infinity }}\n            onChange={(t) => changeJSONText(t)}\n          />\n        )}\n        {mode === \"setup\" && (\n          <InterfacePage\n            onClickEditJSON={() => changeMode(\"json\")}\n            oha={oha}\n            onClearLabelData={() => {\n              onChangeOHA(\n                setIn(\n                  oha,\n                  [\"samples\"],\n                  oha.samples.map((s) => without(s, \"annotation\"))\n                )\n              )\n            }}\n            onChange={(iface) => {\n              if (\n                iface.type !== oha.interface.type &&\n                oha.interface.type !== \"empty\" &&\n                oha.samples.map((s) => s.annotation).some(Boolean)\n              ) {\n                addToast(\n                  \"Changing label types can cause label data issues. You must clear all label data first.\",\n                  \"error\"\n                )\n                return\n              }\n              onChangeOHA({\n                ...oha,\n                interface: iface,\n              })\n            }}\n          />\n        )}\n        {mode === \"samples\" && (\n          <SamplesView\n            file={file}\n            oha={oha}\n            openSampleLabelEditor={(sampleIndex) => {\n              changeSingleSampleOHA({\n                ...oha,\n                samples: [oha.samples[sampleIndex]],\n                sampleIndex,\n                annotationStartTime: Date.now(),\n              })\n              posthog.capture(\"open_sample\", {\n                interface_type: oha.interface.type,\n              })\n              changeMode(\"label\")\n            }}\n            openSampleInputEditor={(sampleIndex) => {\n              changeSampleInputEditor({ open: true, sampleIndex })\n            }}\n            deleteSample={(sampleIndex) => {\n              const newSamples = [...oha.samples]\n              newSamples.splice(sampleIndex, 1)\n              onChangeOHA({\n                ...oha,\n                samples: newSamples,\n              })\n            }}\n            onChangeFile={(file) => {\n              onChangeFile(file)\n              setValueDisplay(file.fileName)\n            }}\n            onChangeOHA={onChangeOHA}\n            authConfig={authConfig}\n            user={user}\n          />\n        )}\n        {mode === \"label\" && singleSampleOHA ? (\n          <LabelErrorBoundary>\n            <UniversalDataViewer\n              datasetName={`Sample ${singleSampleOHA.sampleIndex}`}\n              onSaveTaskOutputItem={(relativeIndex, output) => {\n                let newOHA = oha\n                newOHA = setIn(\n                  newOHA,\n                  [\"samples\", singleSampleOHA.sampleIndex, \"annotation\"],\n                  output\n                )\n\n                if (\n                  singleSampleOHA.samples[0].brush !== selectedBrush &&\n                  !(\n                    singleSampleOHA.samples[0].brush === undefined &&\n                    selectedBrush === \"complete\"\n                  )\n                ) {\n                  newOHA = setIn(\n                    newOHA,\n                    [\"samples\", singleSampleOHA.sampleIndex, \"brush\"],\n                    selectedBrush\n                  )\n                }\n                changeSingleSampleOHA(\n                  setIn(\n                    singleSampleOHA,\n                    [\"samples\", relativeIndex, \"annotation\"],\n                    output\n                  )\n                )\n                onChangeOHA(newOHA)\n              }}\n              onExit={(nextAction = \"nothing\") => {\n                if (singleSampleOHA.startTime) {\n                  changeSampleTimeToComplete(\n                    Date.now() - singleSampleOHA.startTime\n                  )\n                }\n                const { sampleIndex } = singleSampleOHA\n                switch (nextAction) {\n                  case \"go-to-next\":\n                    if (sampleIndex !== oha.samples.length - 1) {\n                      posthog.capture(\"next_sample\", {\n                        interface_type: oha.interface.type,\n                      })\n                      changeSingleSampleOHA({\n                        ...oha,\n                        samples: [oha.samples[sampleIndex + 1]],\n                        sampleIndex: sampleIndex + 1,\n                        startTime: Date.now(),\n                      })\n                      return\n                    }\n                    break\n                  case \"go-to-previous\":\n                    if (sampleIndex !== 0) {\n                      changeSingleSampleOHA({\n                        ...oha,\n                        samples: [oha.samples[sampleIndex - 1]],\n                        sampleIndex: sampleIndex - 1,\n                        startTime: Date.now(),\n                      })\n                      return\n                    }\n                    break\n                  default:\n                    break\n                }\n                changeSingleSampleOHA(null)\n              }}\n              oha={singleSampleOHA}\n              onClickSetup={() => changeMode(\"setup\")}\n            />\n          </LabelErrorBoundary>\n        ) : (\n          mode === \"label\" && (\n            <PaperContainer>\n              <Stats\n                stats={[\n                  {\n                    name: \"Percent Complete\",\n                    value: Math.floor(percentComplete * 100) + \"%\",\n                  },\n                  {\n                    name: \"Time per Sample\",\n                    value: duration(\n                      new Date(Date.now() - timeToCompleteSample)\n                    ).toString(1, 1),\n                  },\n                  {\n                    name: \"Estimated Remaining\",\n                    value: duration(\n                      new Date(\n                        Date.now() -\n                          timeToCompleteSample *\n                            (1 - percentComplete) *\n                            (oha.samples || []).length\n                      )\n                    ).toString(1, 2),\n                  },\n                ]}\n              />\n              <SampleGrid\n                count={(oha.samples || []).length}\n                samples={oha.samples || []}\n                completed={(oha.samples || []).map((s) =>\n                  Boolean(s.annotation)\n                )}\n                onClick={(sampleIndex) => {\n                  posthog.capture(\"open_sample\", {\n                    interface_type: oha.interface.type,\n                  })\n                  changeSingleSampleOHA({\n                    ...oha,\n                    samples: [oha.samples[sampleIndex]],\n                    sampleIndex,\n                    startTime: Date.now(),\n                  })\n                }}\n              />\n            </PaperContainer>\n          )\n        )}\n      </div>\n      <EditSampleDialog\n        {...sampleInputEditor}\n        sampleInput={\n          sampleInputEditor.sampleIndex !== undefined\n            ? oha.samples[sampleInputEditor.sampleIndex]\n            : null\n        }\n        onClose={() => {\n          changeSampleInputEditor({ open: false })\n        }}\n        onChange={(newInput) => {\n          onChangeOHA(\n            setIn(oha, [\"samples\", sampleInputEditor.sampleIndex], newInput)\n          )\n        }}\n      />\n    </div>\n  )\n}\n","import { useReducer } from \"react\"\n\nexport default () => {\n  const [{ timeToCompleteSample }, changeSampleTimeToComplete] = useReducer(\n    (state, newTimeToComplete) => {\n      const newSamplesInWindow = state.samplesInWindow\n        .slice(-10)\n        .concat([newTimeToComplete])\n      return {\n        timeToCompleteSample:\n          newSamplesInWindow.reduce((acc, a) => acc + a, 0) /\n          newSamplesInWindow.length,\n        samplesInWindow: newSamplesInWindow,\n      }\n    },\n    { timeToCompleteSample: 0, samplesInWindow: [] }\n  )\n  return [timeToCompleteSample, changeSampleTimeToComplete]\n}\n","// @flow weak\n\nexport default (changeLog) => {\n  const humanReadableChangeLog = []\n  for (const { userName, op, path } of changeLog) {\n    if (path.startsWith(\"/interface\")) {\n      humanReadableChangeLog.push({\n        type: \"warning\",\n        message: `${userName} changed the project settings`,\n      })\n    } else if (path.startsWith(\"/taskOutput\")) {\n      const sampleMatch = path.match(/\\/samples\\/([^/]+)/)\n      humanReadableChangeLog.push({\n        type: \"info\",\n        message: `${userName} changed sample ${sampleMatch[1]}`,\n      })\n    } else {\n      humanReadableChangeLog.push({\n        message: `${userName} did a ${op} at ${path}`,\n        type: \"info\",\n      })\n    }\n  }\n  return humanReadableChangeLog\n}\n","/*\nThis doesn't handle a fair number of edge cases, for the full specification\nfor what it should implement, see https://tools.ietf.org/html/rfc6902\n\nWhen applySeamlessPatch is called, it usually is accompanied by a object hash\ncheck to make sure that the patch applied correctly, and if not, perform\na download of the latest version. Because of this, we can safely ignore the\ntricky edge cases.\n*/\n\nimport seamless from \"seamless-immutable\"\n\nconst { setIn, getIn, updateIn, without } = seamless\n\nfunction addToArray(a, newValue) {\n  return a.concat([newValue])\n}\n\nfunction withoutIn(obj, path) {\n  if (path.length === 0) return without(obj, path[0])\n  const parentPath = path.slice(0, -1)\n  const key = path[path.length - 1]\n  const parentObj = getIn(obj, parentPath)\n  if (Array.isArray(parentObj)) {\n    const index = parseInt(key)\n    return setIn(obj, parentPath, [\n      ...parentObj.slice(0, index),\n      ...parentObj.slice(index + 1),\n    ])\n  } else {\n    return setIn(obj, parentPath, without(parentObj, key))\n  }\n}\n\nexport default (object, patches) => {\n  for (const patch of patches) {\n    let { op, path } = patch\n    path = path.split(\"/\").filter(Boolean)\n    if (path.length === 0) {\n      // this operation is on the root object, special handling should apply\n      if (op === \"replace\") {\n        object = patch.value\n        continue\n      }\n      throw new Error(\"Operation on root object not supported\")\n    }\n    switch (op) {\n      case \"replace\": {\n        object = setIn(object, path, patch.value)\n        continue\n      }\n      case \"copy\": {\n        object = setIn(object, path, getIn(object, patch.from.split(\"/\")))\n        continue\n      }\n      case \"add\": {\n        if (!isNaN(parseInt(path.slice(-1)[0]))) {\n          object = setIn(object, path, patch.value)\n        } else {\n          const arrayAtPath = Array.isArray(getIn(object, path))\n          if (arrayAtPath) {\n            object = updateIn(object, path, addToArray, patch.value)\n          } else {\n            object = setIn(object, path, patch.value)\n          }\n        }\n        continue\n      }\n      case \"move\": {\n        const from = patch.from.split(\"/\")\n        object = setIn(object, path, getIn(object, from))\n        object = withoutIn(object, from)\n        continue\n      }\n      case \"remove\": {\n        object = withoutIn(object, path)\n        continue\n      }\n      default:\n        return object\n    }\n  }\n  return object\n}\n","// This is the same hashing code that the server uses\n\nconst stringify = require(\"json-stable-stringify\")\n\nconst hashString = (s) => {\n  var hash = 0,\n    i,\n    chr\n  for (i = 0; i < s.length; i++) {\n    chr = s.charCodeAt(i)\n    hash = (hash << 5) - hash + chr\n    hash |= 0\n  }\n  return hash\n}\n\nexport default (o) => hashString(stringify(o))\n","// @flow\n\nimport { useEffect } from \"react\"\nimport CollaborationHandler from \"./handler.js\"\n\nconst serverUrl =\n  window.localStorage.CUSTOM_COLLABORATION_SERVER ||\n  \"https://udt-collaboration-server.now.sh\"\n\n// We use a global singleton to manage the collaboration state machine\nconst collab = new CollaborationHandler({ serverUrl })\n\nexport const convertToCollaborativeFile = async (file) => {\n  await collab.createSession(file.content)\n  return {\n    fileName: file.fileName,\n    id: file.id,\n    sessionId: collab.sessionId,\n    url: `${window.location.origin}?s=${collab.sessionId}`,\n    content: file.content,\n    mode: \"server\",\n  }\n}\n\nexport const joinSession = async (sessionId) => {\n  await collab.joinSession(sessionId)\n  return {\n    state: collab.state,\n    version: collab.version,\n  }\n}\n\nexport default (file, changeFile) => {\n  // const { addToast } = useToasts()\n  const userName = window.localStorage.userName\n  useEffect(() => {\n    if (userName && !userName.includes(\"anonymous\")) {\n      try {\n        collab.userName = JSON.parse(window.localStorage.userName)\n      } catch (e) {}\n    }\n  }, [userName])\n\n  useEffect(() => {\n    if (!file || file.mode !== \"server\") return\n    if (file.sessionId !== collab.sessionId) return\n\n    const checkForLatestPatch = async () => {\n      const applyResult = await collab.applyLatestPatches()\n\n      if (applyResult) {\n        changeFile({\n          ...file,\n          content: collab.state,\n        })\n      }\n\n      if (!timeout) return\n      timeout = setTimeout(checkForLatestPatch, 500)\n    }\n\n    let timeout = setTimeout(checkForLatestPatch, 500)\n    return () => {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }, [file, changeFile])\n\n  // Update the Server State by Sending Patches\n  useEffect(() => {\n    if (!file || file.mode !== \"server\") return\n    async function doPatch() {}\n    doPatch()\n  }, [file])\n}\n","// @flow weak\n// NOTE: for unit tests you need to change the following line to...\n// import rfc6902 from \"rfc6902\"\nimport * as rfc6902 from \"rfc6902\"\nimport bent from \"bent\"\nimport getHumanReadableLog from \"./get-human-readable-log.js\"\nimport applySeamlessPatch from \"./apply-seamless-patch.js\"\nimport hash from \"./server-hash.js\"\n\nclass CollaborationHandler {\n  serverUrl = \"http://localhost:6003\"\n  getJSON = (url, payload, opts) => {}\n  postJSON = (url, payload, opts) => {}\n  patchJSON = (url, payload, opts) => {}\n  userName = \"anonymous\"\n\n  sessionId = null\n  state = null\n  version = null\n\n  constructor({ serverUrl, userName }) {\n    this.serverUrl = serverUrl\n    this.getJSON = bent(\"json\", \"GET\", serverUrl)\n    this.postJSON = bent(\"json\", \"POST\", serverUrl)\n    this.patchJSON = bent(\"json\", \"PATCH\", serverUrl)\n    this.userName =\n      userName || `anonymous_${Math.random().toString(36).slice(2, 6)}`\n  }\n\n  async createSession(initialContent) {\n    const response = await this.postJSON(\"/api/session\", {\n      udt: initialContent,\n    })\n\n    this.state = initialContent\n    this.sessionId = response.short_id\n    this.version = response.version\n  }\n\n  async getLatestState() {\n    try {\n      const res = await this.getJSON(\n        `/api/session/${encodeURIComponent(this.sessionId)}`\n      )\n      return {\n        state: res.udt_json,\n        version: res.version,\n      }\n    } catch (e) {\n      throw new Error(\n        `error getting session \"${this.sessionId}\": ${e.toString()}`\n      )\n    }\n  }\n\n  async updateToLatestState() {\n    const { state, version } = await this.getLatestState()\n    this.state = state\n    this.version = version\n  }\n\n  async joinSession(sessionId) {\n    this.sessionId = sessionId\n    await this.updateToLatestState()\n  }\n\n  async applyLatestPatches() {\n    const {\n      patch,\n      hashOfLatestState,\n      latestVersion,\n      changeLog,\n    } = await this.getJSON(\n      `/api/session/${encodeURIComponent(this.sessionId)}/diffs?since=${\n        this.version\n      }`\n    )\n\n    if (patch.length === 0 || latestVersion === this.version) {\n      return null\n    }\n\n    const humanReadableLog = getHumanReadableLog(changeLog)\n\n    let newState = applySeamlessPatch(this.state, patch)\n\n    if (hash(newState) !== hashOfLatestState) {\n      console.error(\"new state with patches applied didn't match latest state\")\n      await this.updateToLatestState()\n      return { patch, changeLog: humanReadableLog }\n    }\n\n    this.state = newState\n    this.version = latestVersion\n    return { patch, changeLog: humanReadableLog }\n  }\n\n  async sendPatchIfChanged(newState) {\n    const patch = rfc6902.createPatch(this.state, newState)\n    if (patch.length === 0) return null\n\n    const { hashOfLatestState, latestVersion } = await this.patchJSON(\n      `/api/session/${encodeURIComponent(this.sessionId)}`,\n      {\n        patch,\n        userName: this.userName,\n      }\n    )\n\n    if (hash(newState) !== hashOfLatestState) {\n      console.error(\n        \"after patch, hashes were not equal! getting latest version from server...\"\n      )\n      await this.updateToLatestState()\n      return this\n    }\n\n    this.state = newState\n    this.version = latestVersion\n    return this\n  }\n}\n\nexport default CollaborationHandler\n","import JAC from \"jac-format\"\nimport range from \"lodash/range\"\nimport { flatten } from \"flat\"\n\nexport default (obj) => {\n  const AddSamplesKeys = (k) => {\n    sampleKeys.add(k)\n  }\n  // Find all possible sample keys\n  let sampleKeys = new Set()\n  for (const sample of obj.samples) {\n    Object.keys(flatten(sample)).forEach((k) => AddSamplesKeys(k))\n  }\n  sampleKeys = Array.from(sampleKeys).sort(\n    (a, b) => a.split(\".\").length - b.split(\".\").length\n  )\n\n  if (sampleKeys.some((k) => k.includes(\"output.keyframes\"))) {\n    sampleKeys = sampleKeys.filter((k) => k.includes(\"output.keyframes\"))\n    sampleKeys.push(\"output.keyframes\")\n  }\n\n  const options = {\n    rows: [\n      \"interface\",\n      ...range(obj.samples.length).map((i) => `samples.${i}`),\n    ],\n    columns: [\".\", ...sampleKeys],\n  }\n\n  return JAC.toCSV(obj, options)\n}\n","// @flow\n\nimport { useEffect } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport useElectron from \"../use-electron.js\"\nimport { useToasts } from \"../../components/Toasts\"\nimport { setIn } from \"seamless-immutable\"\nimport toUDTCSV from \"../to-udt-csv.js\"\nimport useIsDesktop from \"../use-is-desktop\"\n\nconst webReturn = { saveFile: () => null }\n\nexport default (file, changeFile) => {\n  const isDesktop = useIsDesktop()\n  if (!isDesktop) return webReturn\n  const { addToast } = useToasts()\n  const { remote } = useElectron()\n  const saveFile = useEventCallback(({ saveAs = false } = {}) => {\n    if (!file) return\n    async function saveFileAsync() {\n      let filePath = file.filePath\n      if (!file.filePath || saveAs) {\n        const {\n          cancelled,\n          filePath: newFilePath,\n        } = await remote.dialog.showSaveDialog({\n          filters: [\n            { name: \".udt.json\", extensions: [\"udt.json\"] },\n            { name: \".udt.csv\", extensions: [\"udt.csv\"] },\n          ],\n        })\n        filePath =\n          !newFilePath ||\n          newFilePath.endsWith(\".json\") ||\n          newFilePath.endsWith(\".csv\")\n            ? newFilePath\n            : `${newFilePath}.udt.json`\n        if (cancelled || !filePath) {\n          addToast(\"Could not save\")\n          return\n        }\n        changeFile({\n          ...file,\n          filePath,\n          fileName: filePath.split(\"/\").slice(-1)[0],\n        })\n      }\n      await remote\n        .require(\"fs\")\n        .promises.writeFile(\n          filePath,\n          filePath.endsWith(\".csv\")\n            ? toUDTCSV(file.content)\n            : JSON.stringify(file.content, null, \"  \")\n        )\n      addToast(\"File Saved!\")\n    }\n    saveFileAsync()\n  })\n\n  useEffect(() => {\n    if (!file || !file.filePath) return\n    if (file.fileName !== file.filePath.split(\"/\").slice(-1)[0]) {\n      changeFile(\n        setIn(\n          file,\n          [\"filePath\"],\n          file.filePath\n            .split(\"/\")\n            .slice(0, -1)\n            .concat([\n              file.fileName +\n                (file.fileName.endsWith(\".json\") ? \"\" : \".oha.json\"),\n            ])\n            .join(\"/\")\n        )\n      )\n    }\n  }, [file, changeFile])\n\n  return { saveFile }\n}\n","// @flow weak\n\nimport { useEffect } from \"react\"\nimport usePosthog from \"../../utils/use-posthog\"\nconst posthog = usePosthog()\n\nexport default (udt) => {\n  useEffect(() => {\n    if (!udt || !udt.interface) return\n    posthog.capture(\"interface_type\", { interface_type: udt.interface.type })\n    posthog.people.set({ last_used_interface_type: udt.interface.type })\n  }, [udt])\n  useEffect(() => {\n    if (!udt || !udt.samples) return\n    posthog.capture(\"dataset_size\", {\n      dataset_size: (udt.samples || []).length,\n    })\n  }, [udt])\n  useEffect(() => {\n    if (!udt || !udt.samples) return\n    const numCompleted = (udt.samples || []).filter((s) => s.annotation).length\n    posthog.capture(\"sample_completion\", {\n      dataset_size: (udt.samples || []).length,\n      samples_completed: numCompleted,\n      percent_completed: numCompleted / (udt.samples || []).length,\n    })\n  }, [udt])\n}\n","// @flow\n\nimport { useState, useMemo, useEffect } from \"react\"\nimport useServer, {\n  joinSession,\n  convertToCollaborativeFile,\n} from \"./use-server\"\nimport useFilesystem from \"./use-filesystem\"\nimport useLocalStorage from \"./use-local-storage\"\nimport { useToasts } from \"../../components/Toasts\"\nimport fromUDTCSV from \"../from-udt-csv.js\"\nimport useEventCallback from \"use-event-callback\"\nimport useFileTelemetry from \"./use-file-telemetry\"\n\nexport default () => {\n  const [file, changeFile] = useState()\n  const { addToast } = useToasts()\n\n  const { saveFile } = useFilesystem(file, changeFile)\n  const { recentItems, changeRecentItems } = useLocalStorage(file, changeFile)\n  useServer(file, changeFile)\n\n  // Telemetry\n  useFileTelemetry(file && file.content)\n\n  const openFile = useEventCallback((fsFile) => {\n    const { name: fileName, path: filePath } = fsFile\n\n    function handleLoadedFile(content) {\n      try {\n        let oha\n        if (fileName.endsWith(\"csv\")) {\n          oha = fromUDTCSV(content)\n        } else {\n          oha = JSON.parse(content)\n        }\n        // TODO validate OHA and prompt to open anyway if invalid\n        changeFile({\n          fileName,\n          filePath,\n          mode: filePath ? \"filesystem\" : \"local-storage\",\n          content: oha,\n          id: filePath,\n        })\n      } catch (e) {\n        console.log(e.toString())\n        addToast(\"Couldn't read file, see console for details\", \"error\")\n        // addError(`Could not read file \"${fsFile.name}\"`)\n      }\n    }\n\n    if (fsFile.content) {\n      handleLoadedFile(fsFile.content)\n    } else {\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        const content = e.target.result\n        handleLoadedFile(content)\n      }\n      reader.readAsText(fsFile)\n    }\n  })\n\n  const openUrl = useEventCallback(async (url) => {\n    const sessionId = decodeURIComponent(url.match(/[?&]s=([^&]+)/)[1])\n    if (!sessionId) return\n    const { state } = await joinSession(sessionId)\n    if (!state) return\n    window.history.replaceState(\n      {},\n      window.document.title,\n      `/?s=${encodeURIComponent(sessionId)}`\n    )\n    changeFile({\n      url,\n      sessionId,\n      mode: \"server\",\n      id: sessionId,\n      content: state,\n    })\n  })\n\n  useEffect(() => {\n    if (!file) return\n    if (file.mode === \"server\") return\n    window.history.replaceState({}, window.document.title, `/`)\n  }, [file])\n\n  useEffect(() => {\n    if (window.location.search.match(/[?&]s=([a-zA-Z0-9]+)/)) {\n      openUrl(window.location.href)\n    }\n  }, [openUrl])\n\n  const makeSession = useEventCallback(async () => {\n    const newFile = await convertToCollaborativeFile(file)\n    changeFile(newFile)\n    window.history.replaceState(\n      {},\n      window.document.title,\n      `/?s=${encodeURIComponent(newFile.sessionId)}`\n    )\n  })\n\n  return useMemo(\n    () => ({\n      file,\n      changeFile,\n      openFile,\n      openUrl,\n      makeSession,\n      saveFile,\n      recentItems,\n      changeRecentItems,\n    }),\n    [\n      file,\n      changeFile,\n      openFile,\n      saveFile,\n      makeSession,\n      recentItems,\n      changeRecentItems,\n      openUrl,\n    ]\n  )\n}\n","// @flow\nimport { useRef, useEffect } from \"react\"\nimport { useLocalStorage } from \"react-use\"\nimport jsonHandler from \"../../utils/file-handlers/udt-helper\"\nimport isEmpty from \"../../utils/isEmpty\"\nexport default (file, changeFile) => {\n  let [recentItems, changeRecentItems] = useLocalStorage(\"recentItems\", [])\n\n  if (!recentItems) recentItems = []\n  const lastObjectRef = useRef([])\n  useEffect(() => {\n    if (!isEmpty(file) && file.fileName === \"unnamed\") return\n    var changes = jsonHandler.fileHasChanged(lastObjectRef.current, file)\n    if (!changes.any) return\n    if (recentItems.map((item) => item.id).includes(file.id)) {\n      changeRecentItems(\n        recentItems.map((ri) => (ri.id === file.id ? file : ri))\n      )\n    } else {\n      changeRecentItems([file].concat(recentItems).slice(0, 3))\n    }\n    lastObjectRef.current = file\n  }, [file, changeRecentItems, recentItems])\n  return { recentItems, changeRecentItems }\n}\n","export default {\n  Auth: {\n    // REQUIRED only for Federated Authentication - Amazon Cognito Identity Pool ID\n    identityPoolId: \"invalid\",\n\n    // REQUIRED - Amazon Cognito Region\n    region: \"invalid\",\n\n    // OPTIONAL - Amazon Cognito User Pool ID\n    userPoolId: \"invalid\",\n\n    // OPTIONAL - Amazon Cognito Web Client ID (26-char alphanumeric string)\n    userPoolWebClientId: \"invalid\",\n\n    // OPTIONAL - Enforce user authentication prior to accessing AWS resources or not\n    mandatorySignIn: true,\n\n    // OPTIONAL - Manually set the authentication flow type. Default is 'USER_SRP_AUTH'\n    authenticationFlowType: \"USER_PASSWORD_AUTH\",\n\n    // OPTIONAL - Hosted UI configuration\n  },\n  Storage: {\n    AWSS3: {\n      bucket: \"invalid\", //Your bucket name;\n      region: \"invalid\", //Specify the region your bucket was created in;\n    },\n  },\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { detect } from \"detect-browser\"\nimport Button from \"@material-ui/core/Button\"\nimport LaunchIcon from \"@material-ui/icons/Launch\"\nimport Sentry from \"../../utils/sentry.js\"\n\nconst Container = styled(\"div\")({\n  width: \"100vw\",\n  minHeight: \"100vh\",\n  backgroundColor: colors.grey[900],\n  padding: 32,\n  \"& .title\": {\n    color: colors.grey[200],\n    fontSize: 24,\n    fontWeight: \"bold\",\n  },\n  \"& .subtitle\": {\n    color: colors.grey[300],\n    fontSize: 18,\n    marginTop: 8,\n  },\n  \"& .info\": {\n    width: \"100%\",\n    boxSizing: \"border-box\",\n    padding: 32,\n    \"& textarea\": {\n      width: \"calc(100% - 64px)\",\n      boxSizing: \"border-box\",\n      minHeight: 300,\n      fontSize: 12,\n    },\n  },\n})\nconst Buttons = styled(\"div\")({\n  padding: 8,\n})\nconst StyledButton = styled(Button)({\n  color: \"#fff\",\n  borderColor: \"rgba(255,255,255,0.5)\",\n  margin: 8,\n})\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return {\n      hasError: true,\n      errorDetails: JSON.stringify(detect()) + \"\\n\\n\" + error.stack,\n    }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    Sentry.withScope((scope) => {\n      scope.setExtras(errorInfo)\n      const eventId = Sentry.captureException(error)\n      this.setState({ eventId })\n    })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <Container>\n          <div className=\"title\">An error has occurred</div>\n          <div className=\"subtitle\">All the details are below:</div>\n          <div className=\"info\">\n            <textarea>{this.state.errorDetails}</textarea>\n          </div>\n          <Buttons>\n            <StyledButton\n              variant=\"outlined\"\n              target=\"_blank\"\n              href=\"https://github.com/Universal/universal-data-tool/issues\"\n            >\n              <LaunchIcon style={{ color: \"#fff\", marginRight: 8 }} /> View\n              Issues on Github\n            </StyledButton>\n            {/* <StyledButton\n              variant=\"outlined\"\n              onClick={this.props.revertLastChange}\n            >\n              Revert Last File Change\n            </StyledButton> */}\n            <StyledButton\n              variant=\"outlined\"\n              onClick={() => window.location.reload()}\n            >\n              Reload (unsaved progress will be lost)\n            </StyledButton>\n          </Buttons>\n        </Container>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","// @flow weak\n\nimport { useEffect } from \"react\"\n\nfunction preventNavigation(e) {\n  var confirmationMessage =\n    \"It looks like you have been editing something. \" +\n    \"If you leave before saving, your changes will be lost.\"\n\n  ;(e || window.event).returnValue = confirmationMessage //Gecko + IE\n  return confirmationMessage //Gecko + Webkit, Safari, Chrome etc.\n}\n\nexport default (shouldPreventNavigation = true) => {\n  useEffect(() => {\n    if (!shouldPreventNavigation) return\n    if (window.location.origin.includes(\"localhost\")) return\n    window.addEventListener(\"beforeunload\", preventNavigation)\n    return () => {\n      window.removeEventListener(\"beforeunload\", preventNavigation)\n    }\n  }, [shouldPreventNavigation])\n}\n","// @flow\nimport React, { useState, useRef, useEffect, useCallback } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport OHAEditor from \"../OHAEditor\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useFileHandler from \"../../utils/file-handlers\"\nimport download from \"in-browser-download\"\nimport toUDTCSV from \"../../utils/to-udt-csv.js\"\nimport Amplify, { Auth } from \"aws-amplify\"\nimport config from \"../LocalStorageApp/invalidconfig.js\"\nimport isEmpty from \"../../utils/isEmpty\"\nimport { setIn } from \"seamless-immutable\"\nimport AppErrorBoundary from \"../AppErrorBoundary\"\nimport useEventCallback from \"use-event-callback\"\nimport usePreventNavigation from \"../../utils/use-prevent-navigation\"\nimport jsonHandler from \"../../utils/file-handlers/udt-helper\"\nimport UpdateAWSStorage from \"../../utils/file-handlers/update-aws-storage\"\nconst randomId = () => Math.random().toString().split(\".\")[1]\nexport default () => {\n  const {\n    file,\n    changeFile,\n    openFile,\n    openUrl,\n    makeSession,\n    recentItems,\n    changeRecentItems,\n  } = useFileHandler()\n  usePreventNavigation(Boolean(file))\n  const [errors] = useErrors()\n\n  const [selectedBrush, setSelectedBrush] = useState(\"complete\")\n  const onCreateTemplate = useEventCallback((template) => {\n    changeFile({\n      fileName: \"unnamed\",\n      content: template.oha,\n      id: randomId(),\n      mode: \"local-storage\",\n    })\n  })\n\n  const openRecentItem = useEventCallback((item) => changeFile(item))\n  const onClickHome = useEventCallback(() => changeFile(null))\n  const onDownload = useEventCallback((format) => {\n    if (!file) return\n    const outputName = (file.sessionId || file.fileName) + \".udt.\" + format\n    if (format === \"json\") {\n      download(JSON.stringify(file.content), outputName)\n    } else if (format === \"csv\") {\n      download(toUDTCSV(file.content), outputName)\n    }\n  })\n\n  const inSession = file && file.mode === \"server\"\n  const [sessionBoxOpen, changeSessionBoxOpen] = useState(false)\n  const [authConfig, changeAuthConfig] = useState(null)\n  const [user, changeUser] = useState(null)\n\n  const logoutUser = () => {\n    Auth.signOut()\n      .then(() => {\n        changeUser(null)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  // TODO centralize this with other auth provider code\n  useEffect(() => {\n    if (isEmpty(user) && isEmpty(authConfig)) {\n      try {\n        Amplify.configure(config)\n\n        Auth.currentAuthenticatedUser()\n          .then((tryUser) => {\n            changeUser(tryUser)\n            changeAuthConfig(config)\n          })\n          .catch((err) => {\n            changeAuthConfig(config)\n          })\n      } catch (err) {\n        changeAuthConfig(null)\n      }\n    }\n  }, [authConfig, user])\n\n  const onJoinSession = useCallback(\n    async (sessionName) => {\n      await openUrl(sessionName)\n    },\n    [openUrl]\n  )\n\n  const onLeaveSession = useEventCallback(() =>\n    changeFile({\n      ...file,\n      mode: \"local-storage\",\n      fileName: file.fileName || `copy_of_${file.id}`,\n    })\n  )\n\n  function ifFileAuthorizeToSaveOnAWS(s) {\n    var fileAuthorize = [\n      \"video_segmentation\",\n      \"image_classification\",\n      \"image_segmentation\",\n      \"text_entity_recognition\",\n      \"text_classification\",\n      \"audio_transcription\",\n      \"composite\",\n      \"data_entry\",\n    ]\n    if (fileAuthorize.includes(s)) return true\n    return false\n  }\n  const lastObjectRef = useRef([])\n  const shouldUpdateAWSStorage = useCallback(() => {\n    var changes = jsonHandler.fileHasChanged(lastObjectRef.current, file)\n    if (\n      isEmpty(file) ||\n      (!changes.content.samples && !changes.fileName) ||\n      !ifFileAuthorizeToSaveOnAWS ||\n      file.fileName === \"unnamed\"\n    )\n      return false\n    return true\n  }, [file])\n\n  useEffect(() => {\n    if (!isEmpty(authConfig)) {\n      if (shouldUpdateAWSStorage()) UpdateAWSStorage(file)\n      lastObjectRef.current = file\n    }\n  }, [shouldUpdateAWSStorage, authConfig, file])\n  return (\n    <>\n      <HeaderContext.Provider\n        value={{\n          title: file\n            ? file.mode === \"local-storage\"\n              ? file.fileName\n              : file.url\n            : \"unnamed\",\n          recentItems,\n          changeRecentItems,\n          onClickTemplate: onCreateTemplate,\n          onClickHome,\n          onOpenFile: openFile,\n          onOpenRecentItem: openRecentItem,\n          inSession,\n          sessionBoxOpen,\n          changeSessionBoxOpen,\n          onJoinSession,\n          onLeaveSession,\n          onCreateSession: makeSession,\n          fileOpen: Boolean(file),\n          onDownload,\n          authConfig,\n          onUserChange: (userToSet) => changeUser(userToSet),\n          user: user,\n          logoutUser: logoutUser,\n          onChangeSelectedBrush: setSelectedBrush,\n          selectedBrush,\n        }}\n      >\n        {!file ? (\n          <StartingPage\n            onFileDrop={openFile}\n            onOpenTemplate={onCreateTemplate}\n            recentItems={recentItems}\n            onOpenRecentItem={openRecentItem}\n            onClickOpenSession={() => changeSessionBoxOpen(true)}\n            onAuthConfigured={(config) => changeAuthConfig(config)}\n            user={user}\n            logoutUser={logoutUser}\n          />\n        ) : (\n          <AppErrorBoundary>\n            <OHAEditor\n              file={file}\n              key={file.id}\n              {...file}\n              selectedBrush={selectedBrush}\n              inSession={inSession}\n              oha={file.content}\n              onChangeOHA={(newOHA) => {\n                changeFile(setIn(file, [\"content\"], newOHA))\n              }}\n              onChangeFile={changeFile}\n              authConfig\n              user={user}\n              recentItems={recentItems}\n            />\n          </AppErrorBoundary>\n        )}\n      </HeaderContext.Provider>\n      <ErrorToasts errors={errors} />\n    </>\n  )\n}\n","import { Storage } from \"aws-amplify\"\nimport isEmpty from \"../isEmpty\"\nimport jsonHandler from \"./udt-helper\"\nimport { setIn } from \"seamless-immutable\"\nexport default (file) => {\n  async function fetchAFile(element) {\n    var proxyUrl = \"https://cors-anywhere.herokuapp.com/\"\n    var response\n    var url\n    if (jsonHandler.getSampleUrl(element) !== undefined)\n      url = proxyUrl + jsonHandler.getSampleUrl(element)\n    response = await fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"X-Requested-With\": \"xmlhttprequest\",\n      },\n    }).catch((error) => {\n      console.log(\"Looks like there was a problem: \\n\", error)\n    })\n    const blob = await response.blob()\n    return blob\n  }\n\n  function fileNameExist(file) {\n    if (file !== \"undefined\" && file.fileName !== \"undefined\") return true\n\n    return false\n  }\n\n  function createOrReplaceProjectFile(file) {\n    Storage.put(`${file.fileName}/`, null, {\n      level: \"private\",\n    }).catch((err) => console.log(err))\n  }\n\n  function createOrReplaceAnnotations(file, json) {\n    Storage.put(`${file.fileName}/annotations/annotations.json`, json, {\n      level: \"private\",\n    }).catch((err) => console.log(err))\n  }\n\n  function createOrReplaceImages(file) {\n    if (!isEmpty(file.content.samples)) {\n      file.content.samples.forEach(async (element) => {\n        try {\n          var blob\n          if (!isEmpty(jsonHandler.getSampleUrl(element))) {\n            blob = await fetchAFile(element)\n          } else if (!isEmpty(element.document)) {\n            blob = element.document\n          }\n\n          let imageOrVideoName\n          if (isEmpty(element.sampleName)) {\n            imageOrVideoName = jsonHandler.getSampleName(element)\n          } else {\n            imageOrVideoName = element.sampleName\n          }\n\n          var pathToFile = `${file.fileName}/data/${imageOrVideoName}`\n          Storage.put(pathToFile, blob, {\n            level: \"private\",\n          }).catch((err) => console.log(err))\n        } catch (err) {\n          console.log(err)\n        }\n      })\n    }\n  }\n\n  if (fileNameExist(file)) {\n    var content = file.content\n    var samples = content.samples\n    file = setIn(\n      file,\n      [\"content\"],\n      setIn(content, [\"samples\"], jsonHandler.setSamplesName(samples))\n    )\n    var json = JSON.stringify(file)\n    createOrReplaceProjectFile(file)\n    createOrReplaceAnnotations(file, json)\n    createOrReplaceImages(file)\n  }\n}\n","// @flow\nimport React, { useState, useEffect } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport OHAEditor from \"../OHAEditor\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useElectron from \"../../utils/use-electron.js\"\nimport templates from \"../StartingPage/templates\"\nimport useEventCallback from \"use-event-callback\"\nimport { setIn } from \"seamless-immutable\"\nimport toUDTCSV from \"../../utils/to-udt-csv.js\"\nimport useFileHandler from \"../../utils/file-handlers\"\n\nconst randomId = () => Math.random().toString().split(\".\")[1]\n\nexport default () => {\n  const {\n    file,\n    changeFile,\n    openFile,\n    openUrl,\n    makeSession,\n    saveFile,\n    recentItems,\n  } = useFileHandler()\n\n  const [selectedBrush, setSelectedBrush] = useState(\"complete\")\n  const [errors] = useErrors()\n\n  const { remote, ipcRenderer } = useElectron()\n\n  const onCreateTemplate = useEventCallback((template) => {\n    changeFile({\n      fileName: \"unnamed\",\n      content: template.oha,\n      id: randomId(),\n      mode: \"filesystem\",\n    })\n  })\n\n  const openRecentItem = useEventCallback((item) => changeFile(item))\n  const onClickHome = useEventCallback(() => changeFile(null))\n\n  useEffect(() => {\n    const onOpenWelcomePage = () => changeFile(null)\n    const onNewFile = (arg0, { templateName } = {}) => {\n      onCreateTemplate(\n        templates.find((t) => t.name === templateName) || templates[0]\n      )\n    }\n    const saveFileAs = () => saveFile({ saveAs: true })\n    const exportToCSV = async () => {\n      if (!file) return\n      let { cancelled, filePath } = await remote.dialog.showSaveDialog({\n        filters: [{ name: \".udt.csv\", extensions: [\"udt.csv\"] }],\n      })\n      if (cancelled) return\n      filePath =\n        !filePath || filePath.endsWith(\".csv\")\n          ? filePath\n          : `${filePath}.udt.csv`\n\n      await remote\n        .require(\"fs\")\n        .promises.writeFile(filePath, toUDTCSV(file.content))\n    }\n    const onOpenFileFromToolbar = (e, file) => openFile(file)\n\n    ipcRenderer.on(\"open-welcome-page\", onOpenWelcomePage)\n    ipcRenderer.on(\"new-file\", onNewFile)\n    ipcRenderer.on(\"open-file\", onOpenFileFromToolbar)\n    ipcRenderer.on(\"save-file\", saveFile)\n    ipcRenderer.on(\"save-file-as\", saveFileAs)\n    ipcRenderer.on(\"export-to-csv\", exportToCSV)\n    return () => {\n      ipcRenderer.removeListener(\"open-welcome-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"new-file\", onNewFile)\n      ipcRenderer.removeListener(\"open-file\", onOpenFileFromToolbar)\n      ipcRenderer.removeListener(\"save-file\", saveFile)\n      ipcRenderer.removeListener(\"save-file-as\", saveFileAs)\n      ipcRenderer.removeListener(\"export-to-csv\", exportToCSV)\n    }\n  }, [\n    file,\n    changeFile,\n    ipcRenderer,\n    openFile,\n    onCreateTemplate,\n    remote,\n    saveFile,\n  ])\n\n  const inSession = file && file.mode === \"server\"\n  const [sessionBoxOpen, changeSessionBoxOpen] = useState(false)\n\n  const onJoinSession = useEventCallback(async (sessionName) => {\n    await openUrl(sessionName)\n  })\n\n  const onLeaveSession = useEventCallback(() =>\n    changeFile({\n      ...file,\n      mode: \"local-storage\",\n      fileName: file.fileName || `copy_of_${file.id}`,\n    })\n  )\n\n  const collaborateError = (((file || {}).content || {}).samples || []).some(\n    (sample) =>\n      [sample.imageUrl, sample.videoUrl, sample.pdfUrl]\n        .filter(Boolean)\n        .map((a) => a.includes(\"file://\"))\n        .some(Boolean)\n  )\n    ? \"Some URLs (links) in this file are connected to files on your computer. Use the Samples > Transform > Transform Files to Web URLs to upload these files, then collaboration will be available.\"\n    : null\n\n  return (\n    <>\n      <HeaderContext.Provider\n        value={{\n          recentItems,\n          onClickTemplate: onCreateTemplate,\n          onClickHome,\n          title: file\n            ? file.mode !== \"server\"\n              ? file.fileName\n              : file.url\n            : \"unnamed\",\n          fileOpen: Boolean(file),\n          onOpenRecentItem: openRecentItem,\n          isDesktop: true,\n          onOpenFile: openFile,\n          selectedBrush,\n          onChangeSelectedBrush: setSelectedBrush,\n\n          // collaboration session\n          inSession,\n          sessionBoxOpen,\n          changeSessionBoxOpen,\n          collaborateError,\n          onJoinSession,\n          onLeaveSession,\n          onCreateSession: makeSession,\n        }}\n      >\n        {!file ? (\n          <StartingPage\n            showDownloadLink={false}\n            onFileDrop={openFile}\n            onOpenTemplate={onCreateTemplate}\n            recentItems={recentItems}\n            onOpenRecentItem={openRecentItem}\n          />\n        ) : (\n          <OHAEditor\n            key={file.id}\n            {...file}\n            inSession={inSession}\n            selectedBrush={selectedBrush}\n            oha={file.content}\n            onChangeFileName={(newName) => {\n              changeFile(setIn(file, [\"fileName\"], newName))\n            }}\n            onChangeOHA={(newOHA) => {\n              changeFile(setIn(file, [\"content\"], newOHA))\n            }}\n          />\n        )}\n      </HeaderContext.Provider>\n      <ErrorToasts errors={errors} />\n    </>\n  )\n}\n","import React from \"react\"\nimport Theme from \"./components/Theme\"\nimport LocalStorageApp from \"./components/LocalStorageApp\"\nimport DesktopApp from \"./components/DesktopApp\"\nimport { ToastProvider } from \"./components/Toasts\"\nimport useElectron from \"./utils/use-electron.js\"\n\nexport const App = () => {\n  const electron = useElectron()\n  return (\n    <Theme>\n      <ToastProvider>\n        {Boolean(electron) ? <DesktopApp /> : <LocalStorageApp />}\n      </ToastProvider>\n    </Theme>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}